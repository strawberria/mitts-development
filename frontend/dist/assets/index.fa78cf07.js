const Ta=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};Ta();function A(){}function Ca(a,e){for(const n in e)a[n]=e[n];return a}function Sa(a){return a()}function Ct(){return Object.create(null)}function Ve(a){a.forEach(Sa)}function Ma(a){return typeof a=="function"}function Q(a,e){return a!=a?e==e:a!==e||a&&typeof a=="object"||typeof a=="function"}let tt;function xe(a,e){return tt||(tt=document.createElement("a")),tt.href=e,a===tt.href}function Pa(a){return Object.keys(a).length===0}function Ua(a,...e){if(a==null)return A;const n=a.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ie(a,e,n){a.$$.on_destroy.push(Ua(e,n))}function _t(a,e,n,t){if(a){const s=La(a,e,n,t);return a[0](s)}}function La(a,e,n,t){return a[1]&&t?Ca(n.ctx.slice(),a[1](t(e))):n.ctx}function ht(a,e,n,t){if(a[2]&&t){const s=a[2](t(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],l=Math.max(e.dirty.length,s.length);for(let c=0;c<l;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function wt(a,e,n,t,s,r){if(s){const l=La(e,n,t,r);a.p(l,s)}}function $t(a){if(a.ctx.length>32){const e=[],n=a.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function ot(a){return a==null?"":a}function J(a,e,n){return a.set(n),e}function $(a,e){a.appendChild(e)}function C(a,e,n){a.insertBefore(e,n||null)}function y(a){a.parentNode.removeChild(a)}function Re(a,e){for(let n=0;n<a.length;n+=1)a[n]&&a[n].d(e)}function j(a){return document.createElement(a)}function B(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function K(a){return document.createTextNode(a)}function O(){return K(" ")}function Se(){return K("")}function ge(a,e,n,t){return a.addEventListener(e,n,t),()=>a.removeEventListener(e,n,t)}function o(a,e,n){n==null?a.removeAttribute(e):a.getAttribute(e)!==n&&a.setAttribute(e,n)}function Oa(a){return a===""?null:+a}function Wa(a){return Array.from(a.childNodes)}function ne(a,e){e=""+e,a.wholeText!==e&&(a.data=e)}function Fe(a,e){a.value=e==null?"":e}function me(a,e,n,t){n===null?a.style.removeProperty(e):a.style.setProperty(e,n,t?"important":"")}function ct(a,e){for(let n=0;n<a.options.length;n+=1){const t=a.options[n];if(t.__value===e){t.selected=!0;return}}a.selectedIndex=-1}function Ra(a){const e=a.querySelector(":checked")||a.options[0];return e&&e.__value}let at;function Fa(){if(at===void 0){at=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{at=!0}}return at}function Na(a,e){getComputedStyle(a).position==="static"&&(a.style.position="relative");const t=j("iframe");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),t.setAttribute("aria-hidden","true"),t.tabIndex=-1;const s=Fa();let r;return s?(t.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=ge(window,"message",l=>{l.source===t.contentWindow&&e()})):(t.src="about:blank",t.onload=()=>{r=ge(t.contentWindow,"resize",e)}),$(a,t),()=>{(s||r&&t.contentWindow)&&r(),y(t)}}function nt(a,e,n){a.classList[n?"add":"remove"](e)}function Va(a,e,{bubbles:n=!1,cancelable:t=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(a,n,t,e),s}let Ke;function Xe(a){Ke=a}function xa(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Ja(a){xa().$$.on_mount.push(a)}function Me(){const a=xa();return(e,n,{cancelable:t=!1}={})=>{const s=a.$$.callbacks[e];if(s){const r=Va(e,n,{cancelable:t});return s.slice().forEach(l=>{l.call(a,r)}),!r.defaultPrevented}return!0}}const Ge=[],E=[],lt=[],vt=[],Ya=Promise.resolve();let kt=!1;function Ga(){kt||(kt=!0,Ya.then(Aa))}function Pe(a){lt.push(a)}function T(a){vt.push(a)}const mt=new Set;let st=0;function Aa(){const a=Ke;do{for(;st<Ge.length;){const e=Ge[st];st++,Xe(e),Xa(e.$$)}for(Xe(null),Ge.length=0,st=0;E.length;)E.pop()();for(let e=0;e<lt.length;e+=1){const n=lt[e];mt.has(n)||(mt.add(n),n())}lt.length=0}while(Ge.length);for(;vt.length;)vt.pop()();kt=!1,mt.clear(),Xe(a)}function Xa(a){if(a.fragment!==null){a.update(),Ve(a.before_update);const e=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,e),a.after_update.forEach(Pe)}}const rt=new Set;let Te;function le(){Te={r:0,c:[],p:Te}}function re(){Te.r||Ve(Te.c),Te=Te.p}function k(a,e){a&&a.i&&(rt.delete(a),a.i(e))}function I(a,e,n,t){if(a&&a.o){if(rt.has(a))return;rt.add(a),Te.c.push(()=>{rt.delete(a),t&&(n&&a.d(1),t())}),a.o(e)}}function Ka(a,e){const n={},t={},s={$$scope:1};let r=a.length;for(;r--;){const l=a[r],c=e[r];if(c){for(const i in l)i in c||(t[i]=1);for(const i in c)s[i]||(n[i]=c[i],s[i]=1);a[r]=c}else for(const i in l)s[i]=1}for(const l in t)l in n||(n[l]=void 0);return n}function Qa(a){return typeof a=="object"&&a!==null?a:{}}function P(a,e,n){const t=a.$$.props[e];t!==void 0&&(a.$$.bound[t]=n,n(a.$$.ctx[t]))}function L(a){a&&a.c()}function S(a,e,n,t){const{fragment:s,on_mount:r,on_destroy:l,after_update:c}=a.$$;s&&s.m(e,n),t||Pe(()=>{const i=r.map(Sa).filter(Ma);l?l.push(...i):Ve(i),a.$$.on_mount=[]}),c.forEach(Pe)}function M(a,e){const n=a.$$;n.fragment!==null&&(Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Za(a,e){a.$$.dirty[0]===-1&&(Ge.push(a),Ga(),a.$$.dirty.fill(0)),a.$$.dirty[e/31|0]|=1<<e%31}function Z(a,e,n,t,s,r,l,c=[-1]){const i=Ke;Xe(a);const d=a.$$={fragment:null,ctx:null,props:r,update:A,not_equal:s,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Ct(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};l&&l(d.root);let h=!1;if(d.ctx=n?n(a,e.props||{},(u,p,...m)=>{const f=m.length?m[0]:p;return d.ctx&&s(d.ctx[u],d.ctx[u]=f)&&(!d.skip_bound&&d.bound[u]&&d.bound[u](f),h&&Za(a,u)),p}):[],d.update(),h=!0,Ve(d.before_update),d.fragment=t?t(d.ctx):!1,e.target){if(e.hydrate){const u=Wa(e.target);d.fragment&&d.fragment.l(u),u.forEach(y)}else d.fragment&&d.fragment.c();e.intro&&k(a.$$.fragment),S(a,e.target,e.anchor,e.customElement),Aa()}Xe(i)}class ee{$destroy(){M(this,1),this.$destroy=A}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const s=t.indexOf(n);s!==-1&&t.splice(s,1)}}$set(e){this.$$set&&!Pa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const We=[];function ut(a,e=A){let n;const t=new Set;function s(c){if(Q(a,c)&&(a=c,n)){const i=!We.length;for(const d of t)d[1](),We.push(d,a);if(i){for(let d=0;d<We.length;d+=2)We[d][0](We[d+1]);We.length=0}}}function r(c){s(c(a))}function l(c,i=A){const d=[c,i];return t.add(d),t.size===1&&(n=e(s)||A),c(a),()=>{t.delete(d),t.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:l}}let St="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function we(a){let e="";for(let n=0;n<a;n++)e+=St.charAt(Math.floor(Math.random()*St.length));return e}async function Mt(a){return new Promise(e=>setTimeout(e,a))}async function dt(a){const n=new TextEncoder().encode(a),t=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")}const Dt="1.9.1",$e=8,it=ut(!1),Qe=ut(void 0),N=ut({version:Dt,data:{information:{title:"",version:"",author:"",synopsis:""},actions:{data:{},ordering:[]},restraintLocations:{data:{},ordering:[]}},storage:{states:{data:{},ordering:[]},restraints:{data:{},ordering:[]},objects:{data:{},ordering:[]},images:{}}}),en=[async function(a){if(["1.7.3","1.7.4"].includes(a.version)===!1)return a;for(const e of Object.values(a.storage.states.data)){const n=e;if(n.imageB64!==void 0){const t=await dt(n.imageB64);a.storage.images[t]=n.imageB64,n.imageHash=t,delete n.imageB64}for(const t of Object.values(n.locations.data)){const s=t;if(s.minimapB64!==void 0){const r=await dt(s.minimapB64);a.storage.images[r]=s.minimapB64,s.minimapHash=r,delete s.minimapB64}}}return a.version="1.8.1",a},async function(a){if(["1.8.0","1.8.1"].includes(a.version)===!1)return a;let e,n;for(const t of Object.values(a.storage.states.data)){const s=t;s.type==="starting"?e=s:s.type==="opening"&&(n=s);for(const r of Object.values(s.locations.data)){const l=r;for(const c of Object.values(l.minimapObjects.data)){const i=c;i.interaction=""}}}return e!==void 0&&(e.type="normal"),n!==void 0&&e!==void 0&&(n.args[0]=e.id),a.version="1.9.1",a}];function tn(a){window.go.main.Bridge.ExportProject(a)}function an(){return window.go.main.Bridge.ImportProject()}function Ba(){return window.go.main.Bridge.LoadImage()}function Lt(a){let e,n;return{c(){e=j("span"),n=K(a[0])},m(t,s){C(t,e,s),$(e,n)},p(t,s){s&1&&ne(n,t[0])},d(t){t&&y(e)}}}function nn(a){let e,n,t,s,r,l;const c=a[4].default,i=_t(c,a,a[3],null);let d=a[0]!==""&&Lt(a);return{c(){e=j("button"),i&&i.c(),n=O(),d&&d.c(),o(e,"class",t=`flex flex-row items-center justify-center
    text-slate-300 bg-slate-700 hover:bg-slate-600 focus:bg-slate-500
    font-medium rounded-md text-sm text-center 
    px-2.5 py-2 space-x-1.5 
    ${a[2]}`),o(e,"type","button")},m(h,u){C(h,e,u),i&&i.m(e,null),$(e,n),d&&d.m(e,null),s=!0,r||(l=ge(e,"click",function(){Ma(a[1])&&a[1].apply(this,arguments)}),r=!0)},p(h,[u]){a=h,i&&i.p&&(!s||u&8)&&wt(i,c,a,a[3],s?ht(c,a[3],u,null):$t(a[3]),null),a[0]!==""?d?d.p(a,u):(d=Lt(a),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||u&4&&t!==(t=`flex flex-row items-center justify-center
    text-slate-300 bg-slate-700 hover:bg-slate-600 focus:bg-slate-500
    font-medium rounded-md text-sm text-center 
    px-2.5 py-2 space-x-1.5 
    ${a[2]}`))&&o(e,"class",t)},i(h){s||(k(i,h),s=!0)},o(h){I(i,h),s=!1},d(h){h&&y(e),i&&i.d(h),d&&d.d(),r=!1,l()}}}function sn(a,e,n){let{$$slots:t={},$$scope:s}=e,{label:r=""}=e,{onclick:l}=e,{class:c=""}=e;return a.$$set=i=>{"label"in i&&n(0,r=i.label),"onclick"in i&&n(1,l=i.onclick),"class"in i&&n(2,c=i.class),"$$scope"in i&&n(3,s=i.$$scope)},[r,l,c,s,t]}class G extends ee{constructor(e){super(),Z(this,e,sn,nn,Q,{label:0,onclick:1,class:2})}}function Ot(a,e,n){const t=a.slice();return t[11]=e[n][0],t[1]=e[n][1],t}function ln(a){let e,n;return e=new G({props:{label:"Stop",onclick:a[6],$$slots:{default:[on]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function rn(a){let e,n,t,s,r,l;return e=new G({props:{label:"Import",onclick:a[3],$$slots:{default:[cn]},$$scope:{ctx:a}}}),t=new G({props:{label:"Export",onclick:a[4],$$slots:{default:[dn]},$$scope:{ctx:a}}}),r=new G({props:{label:"Play",onclick:a[5],$$slots:{default:[fn]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment),n=O(),L(t.$$.fragment),s=O(),L(r.$$.fragment)},m(c,i){S(e,c,i),C(c,n,i),S(t,c,i),C(c,s,i),S(r,c,i),l=!0},p(c,i){const d={};i&16384&&(d.$$scope={dirty:i,ctx:c}),e.$set(d);const h={};i&16384&&(h.$$scope={dirty:i,ctx:c}),t.$set(h);const u={};i&16384&&(u.$$scope={dirty:i,ctx:c}),r.$set(u)},i(c){l||(k(e.$$.fragment,c),k(t.$$.fragment,c),k(r.$$.fragment,c),l=!0)},o(c){I(e.$$.fragment,c),I(t.$$.fragment,c),I(r.$$.fragment,c),l=!1},d(c){M(e,c),c&&y(n),M(t,c),c&&y(s),M(r,c)}}}function on(a){let e,n,t;return{c(){e=B("svg"),n=B("path"),t=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(s,r){C(s,e,r),$(e,n),$(e,t)},p:A,d(s){s&&y(e)}}}function cn(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function dn(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function fn(a){let e,n,t;return{c(){e=B("svg"),n=B("path"),t=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(s,r){C(s,e,r),$(e,n),$(e,t)},p:A,d(s){s&&y(e)}}}function un(a){let e;return{c(){e=j("p"),e.textContent="Check console for debug information",o(e,"class","text-xl text-slate-300")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function gn(a){let e,n=Object.entries(a[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Rt(Ot(a,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Se()},m(s,r){for(let l=0;l<t.length;l+=1)t[l].m(s,r);C(s,e,r)},p(s,r){if(r&131){n=Object.entries(s[1]);let l;for(l=0;l<n.length;l+=1){const c=Ot(s,n,l);t[l]?t[l].p(c,r):(t[l]=Rt(c),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(s){Re(t,s),s&&y(e)}}}function Rt(a){let e,n,t=a[1].display+"",s,r,l,c,i,d;return{c(){e=j("li"),n=j("a"),s=K(t),c=O(),o(n,"class",r=`cursor-pointer select-none ${a[11]===a[0]?"text-slate-200":"hover:text-slate-300 focus:text-slate-200"}`),o(n,"aria-label",l=a[11]),o(e,"class","h-full py-2.5")},m(h,u){C(h,e,u),$(e,n),$(n,s),$(e,c),i||(d=ge(n,"click",a[7]),i=!0)},p(h,u){u&2&&t!==(t=h[1].display+"")&&ne(s,t),u&3&&r!==(r=`cursor-pointer select-none ${h[11]===h[0]?"text-slate-200":"hover:text-slate-300 focus:text-slate-200"}`)&&o(n,"class",r),u&2&&l!==(l=h[11])&&o(n,"aria-label",l)},d(h){h&&y(e),i=!1,d()}}}function pn(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b,g;const _=[rn,ln],v=[];function w(H,Y){return H[2]===!1?0:1}r=w(a),l=v[r]=_[r](a);function R(H,Y){return H[2]===!1?gn:un}let z=R(a),D=z(a);return{c(){e=j("nav"),n=j("div"),t=j("div"),s=j("div"),l.c(),c=O(),i=j("div"),d=j("div"),h=j("span"),h.textContent="Mitts-Development",u=O(),p=j("span"),p.textContent=`v${Dt}`,m=O(),f=j("div"),b=j("ul"),D.c(),o(s,"class","flex flex-row space-x-2.5"),o(h,"class","font-medium text-2xl"),o(p,"class","text-xl"),o(d,"class","flex flex-row items-end space-x-2"),o(i,"class","flex items-center"),o(t,"class","flex flex-row space-x-4 py-3"),o(b,"class","flex flex-row text-xl space-x-8"),o(f,"class","flex items-center space-x-1 pr-2"),o(n,"class","flex flex-row justify-between items-stretch px-4"),o(e,"class","bg-slate-800 text-slate-400")},m(H,Y){C(H,e,Y),$(e,n),$(n,t),$(t,s),v[r].m(s,null),$(t,c),$(t,i),$(i,d),$(d,h),$(d,u),$(d,p),$(n,m),$(n,f),$(f,b),D.m(b,null),g=!0},p(H,[Y]){let ae=r;r=w(H),r===ae?v[r].p(H,Y):(le(),I(v[ae],1,1,()=>{v[ae]=null}),re(),l=v[r],l?l.p(H,Y):(l=v[r]=_[r](H),l.c()),k(l,1),l.m(s,null)),z===(z=R(H))&&D?D.p(H,Y):(D.d(1),D=z(H),D&&(D.c(),D.m(b,null)))},i(H){g||(k(l),g=!0)},o(H){I(l),g=!1},d(H){H&&y(e),v[r].d(),D.d()}}}function mn(a,e,n){let t,s;ie(a,it,f=>n(2,t=f)),ie(a,N,f=>n(10,s=f));let{navigationData:r}=e,{navigationClickHandler:l}=e,{selectedWindow:c}=e,{show:i}=e;async function d(){const f=await an();let b=JSON.parse(f);for(const g of en)b=await g(b);n(8,i=!1),await Mt(50),b.version=Dt,N.set(b),await Mt(50),n(8,i=!0)}async function h(){const f=new Set;for(const g of Object.values(s.storage.states.data)){f.add(g.imageHash);for(const _ of Object.values(g.locations.data))f.add(_.minimapHash)}f.delete("");for(const g of Object.keys(s.storage.images))f.has(g)===!1&&(console.log(`Deleting unused image hash [${g}]`),delete s.storage.images[g]);const b=JSON.stringify(s);await tn(b)}async function u(){Object.entries(s.storage.states.data).filter(([b,g])=>g.type==="opening").length===0?alert("Error initializing playtesting: couldn't find opening state"):J(it,t=!0,t)}async function p(){J(it,t=!1,t)}function m(f){const g=f.currentTarget.getAttribute("aria-label");l(g)}return a.$$set=f=>{"navigationData"in f&&n(1,r=f.navigationData),"navigationClickHandler"in f&&n(9,l=f.navigationClickHandler),"selectedWindow"in f&&n(0,c=f.selectedWindow),"show"in f&&n(8,i=f.show)},[c,r,t,d,h,u,p,m,i,l]}class bn extends ee{constructor(e){super(),Z(this,e,mn,pn,Q,{navigationData:1,navigationClickHandler:9,selectedWindow:0,show:8})}}function Nt(a,e,n){const t=a.slice();return t[3]=e[n][0],t[1]=e[n][1],t}function xt(a){let e,n,t,s;var r=a[1].component;function l(c){return{}}return r&&(n=new r(l())),{c(){e=j("div"),n&&L(n.$$.fragment),t=O(),o(e,"class","absolute inset-0 bg-background text-slate-300 p-4 svelte-17i3nn2"),nt(e,"shown",a[0]===a[3]),nt(e,"not-shown",a[0]!==a[3])},m(c,i){C(c,e,i),n&&S(n,e,null),$(e,t),s=!0},p(c,i){if(r!==(r=c[1].component)){if(n){le();const d=n;I(d.$$.fragment,1,0,()=>{M(d,1)}),re()}r?(n=new r(l()),L(n.$$.fragment),k(n.$$.fragment,1),S(n,e,t)):n=null}i&3&&nt(e,"shown",c[0]===c[3]),i&3&&nt(e,"not-shown",c[0]!==c[3])},i(c){s||(n&&k(n.$$.fragment,c),s=!0)},o(c){n&&I(n.$$.fragment,c),s=!1},d(c){c&&y(e),n&&M(n)}}}function _n(a){let e,n,t=Object.entries(a[1]),s=[];for(let l=0;l<t.length;l+=1)s[l]=xt(Nt(a,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();o(e,"class","relative grow")},m(l,c){C(l,e,c);for(let i=0;i<s.length;i+=1)s[i].m(e,null);n=!0},p(l,[c]){if(c&3){t=Object.entries(l[1]);let i;for(i=0;i<t.length;i+=1){const d=Nt(l,t,i);s[i]?(s[i].p(d,c),k(s[i],1)):(s[i]=xt(d),s[i].c(),k(s[i],1),s[i].m(e,null))}for(le(),i=t.length;i<s.length;i+=1)r(i);re()}},i(l){if(!n){for(let c=0;c<t.length;c+=1)k(s[c]);n=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);n=!1},d(l){l&&y(e),Re(s,l)}}}function hn(a,e,n){let{navigationData:t}=e,{selectedWindow:s}=e;const r=l=>{n(0,s=l)};return a.$$set=l=>{"navigationData"in l&&n(1,t=l.navigationData),"selectedWindow"in l&&n(0,s=l.selectedWindow)},[s,t,r]}class wn extends ee{constructor(e){super(),Z(this,e,hn,_n,Q,{navigationData:1,selectedWindow:0,navigateTab:2})}get navigateTab(){return this.$$.ctx[2]}}const $n=a=>({}),At=a=>({}),vn=a=>({}),Bt=a=>({});function kn(a){let e,n,t,s,r,l,c,i;const d=a[4].header,h=_t(d,a,a[3],Bt),u=a[4].content,p=_t(u,a,a[3],At);return{c(){e=j("div"),n=j("div"),h&&h.c(),s=O(),r=j("div"),p&&p.c(),o(n,"class",t=`flex flex-row justify-center items-center
        w-full pl-4 pr-4 space-x-6
        ${a[1]}`),o(r,"class",l=`flex flex-col grow space-y-2 
        w-full p-1
        ${a[2]}`),o(e,"class",c=`flex flex-col items-center space-y-2 
    rounded-lg bg-slate-800
    p-3 pt-2
    ${a[0]}`)},m(m,f){C(m,e,f),$(e,n),h&&h.m(n,null),$(e,s),$(e,r),p&&p.m(r,null),i=!0},p(m,[f]){h&&h.p&&(!i||f&8)&&wt(h,d,m,m[3],i?ht(d,m[3],f,vn):$t(m[3]),Bt),(!i||f&2&&t!==(t=`flex flex-row justify-center items-center
        w-full pl-4 pr-4 space-x-6
        ${m[1]}`))&&o(n,"class",t),p&&p.p&&(!i||f&8)&&wt(p,u,m,m[3],i?ht(u,m[3],f,$n):$t(m[3]),At),(!i||f&4&&l!==(l=`flex flex-col grow space-y-2 
        w-full p-1
        ${m[2]}`))&&o(r,"class",l),(!i||f&1&&c!==(c=`flex flex-col items-center space-y-2 
    rounded-lg bg-slate-800
    p-3 pt-2
    ${m[0]}`))&&o(e,"class",c)},i(m){i||(k(h,m),k(p,m),i=!0)},o(m){I(h,m),I(p,m),i=!1},d(m){m&&y(e),h&&h.d(m),p&&p.d(m)}}}function Dn(a,e,n){let{$$slots:t={},$$scope:s}=e,{class:r=""}=e,{headerClass:l=""}=e,{contentClass:c=""}=e;return a.$$set=i=>{"class"in i&&n(0,r=i.class),"headerClass"in i&&n(1,l=i.headerClass),"contentClass"in i&&n(2,c=i.contentClass),"$$scope"in i&&n(3,s=i.$$scope)},[r,l,c,s,t]}class ce extends ee{constructor(e){super(),Z(this,e,Dn,kn,Q,{class:0,headerClass:1,contentClass:2})}}function In(a){let e,n,t,s,r,l,c,i,d;return{c(){e=j("div"),n=j("p"),t=K(a[1]),s=O(),r=j("div"),l=j("textarea"),o(n,"class","pl-1 text-slate-400 text-sm"),o(l,"class",`w-full h-full
            rounded bg-slate-800 focus:outline-none
            text-l text-slate-300
            resize-none overflow-y-auto
            scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden pr-3`),o(l,"type","text"),o(l,"rows",a[3]),o(l,"placeholder",a[2]),o(r,"class","grow w-full rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 p-2"),o(e,"class",c=`flex flex-col items-start space-y-0.5
    ${a[4]}`)},m(h,u){C(h,e,u),$(e,n),$(n,t),$(e,s),$(e,r),$(r,l),Fe(l,a[0]),i||(d=ge(l,"input",a[5]),i=!0)},p(h,[u]){u&2&&ne(t,h[1]),u&8&&o(l,"rows",h[3]),u&4&&o(l,"placeholder",h[2]),u&1&&Fe(l,h[0]),u&16&&c!==(c=`flex flex-col items-start space-y-0.5
    ${h[4]}`)&&o(e,"class",c)},i:A,o:A,d(h){h&&y(e),i=!1,d()}}}function jn(a,e,n){let{label:t}=e,{placeholder:s=""}=e,{value:r}=e,{rows:l}=e,{class:c=""}=e;function i(){r=this.value,n(0,r)}return a.$$set=d=>{"label"in d&&n(1,t=d.label),"placeholder"in d&&n(2,s=d.placeholder),"value"in d&&n(0,r=d.value),"rows"in d&&n(3,l=d.rows),"class"in d&&n(4,c=d.class)},[r,t,s,l,c,i]}class Ue extends ee{constructor(e){super(),Z(this,e,jn,In,Q,{label:1,placeholder:2,value:0,rows:3,class:4})}}function yn(a){let e,n,t,s,r,l,c,i;return{c(){e=j("div"),n=j("p"),t=K(a[1]),s=O(),r=j("input"),o(n,"class","pl-1 text-slate-400 text-sm"),o(r,"class","grow rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 text-l text-slate-300 w-full p-2"),o(r,"placeholder",a[2]),o(e,"class",l=`flex flex-col items-start space-y-0.5
    ${a[3]}`)},m(d,h){C(d,e,h),$(e,n),$(n,t),$(e,s),$(e,r),Fe(r,a[0]),c||(i=ge(r,"input",a[4]),c=!0)},p(d,[h]){h&2&&ne(t,d[1]),h&4&&o(r,"placeholder",d[2]),h&1&&r.value!==d[0]&&Fe(r,d[0]),h&8&&l!==(l=`flex flex-col items-start space-y-0.5
    ${d[3]}`)&&o(e,"class",l)},i:A,o:A,d(d){d&&y(e),c=!1,i()}}}function Cn(a,e,n){let{label:t}=e,{placeholder:s=""}=e,{value:r}=e,{class:l=""}=e;function c(){r=this.value,n(0,r)}return a.$$set=i=>{"label"in i&&n(1,t=i.label),"placeholder"in i&&n(2,s=i.placeholder),"value"in i&&n(0,r=i.value),"class"in i&&n(3,l=i.class)},[r,t,s,l,c]}class be extends ee{constructor(e){super(),Z(this,e,Cn,yn,Q,{label:1,placeholder:2,value:0,class:3})}}function Sn(a){let e;return{c(){e=j("p"),e.textContent="Game Information",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Mn(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;function f(D){a[1](D)}let b={class:"w-full",label:"Title",placeholder:"Inescapable Escape Game!"};a[0].data.information.title!==void 0&&(b.value=a[0].data.information.title),e=new be({props:b}),E.push(()=>P(e,"value",f));function g(D){a[2](D)}let _={class:"w-1/2",label:"Author",placeholder:"strawber!ria"};a[0].data.information.author!==void 0&&(_.value=a[0].data.information.author),r=new be({props:_}),E.push(()=>P(r,"value",g));function v(D){a[3](D)}let w={class:"grow",label:"Version",placeholder:"1.0.0"};a[0].data.information.version!==void 0&&(w.value=a[0].data.information.version),i=new be({props:w}),E.push(()=>P(i,"value",v));function R(D){a[4](D)}let z={class:"h-full w-full",label:"Synopsis",placeholder:"The most inescapable escape game there is!",rows:12};return a[0].data.information.synopsis!==void 0&&(z.value=a[0].data.information.synopsis),u=new Ue({props:z}),E.push(()=>P(u,"value",R)),{c(){L(e.$$.fragment),t=O(),s=j("div"),L(r.$$.fragment),c=O(),L(i.$$.fragment),h=O(),L(u.$$.fragment),o(s,"class","flex flex-row space-x-6")},m(D,H){S(e,D,H),C(D,t,H),C(D,s,H),S(r,s,null),$(s,c),S(i,s,null),C(D,h,H),S(u,D,H),m=!0},p(D,H){const Y={};!n&&H&1&&(n=!0,Y.value=D[0].data.information.title,T(()=>n=!1)),e.$set(Y);const ae={};!l&&H&1&&(l=!0,ae.value=D[0].data.information.author,T(()=>l=!1)),r.$set(ae);const x={};!d&&H&1&&(d=!0,x.value=D[0].data.information.version,T(()=>d=!1)),i.$set(x);const X={};!p&&H&1&&(p=!0,X.value=D[0].data.information.synopsis,T(()=>p=!1)),u.$set(X)},i(D){m||(k(e.$$.fragment,D),k(r.$$.fragment,D),k(i.$$.fragment,D),k(u.$$.fragment,D),m=!0)},o(D){I(e.$$.fragment,D),I(r.$$.fragment,D),I(i.$$.fragment,D),I(u.$$.fragment,D),m=!1},d(D){M(e,D),D&&y(t),D&&y(s),M(r),M(i),D&&y(h),M(u,D)}}}function Ln(a){let e,n;return e=new ce({props:{class:"grow w-full",$$slots:{content:[Mn],header:[Sn]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&33&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function On(a,e,n){let t;ie(a,N,i=>n(0,t=i));function s(i){a.$$.not_equal(t.data.information.title,i)&&(t.data.information.title=i,N.set(t))}function r(i){a.$$.not_equal(t.data.information.author,i)&&(t.data.information.author=i,N.set(t))}function l(i){a.$$.not_equal(t.data.information.version,i)&&(t.data.information.version=i,N.set(t))}function c(i){a.$$.not_equal(t.data.information.synopsis,i)&&(t.data.information.synopsis=i,N.set(t))}return[t,s,r,l,c]}class Rn extends ee{constructor(e){super(),Z(this,e,On,Ln,Q,{})}}function Nn(a){let e,n,t=a[1].name+"",s,r,l,c,i,d,h,u;return{c(){e=j("div"),n=j("p"),s=K(t),r=O(),l=j("p"),c=K(a[0]),o(n,"class","text-left w-11/12 min-w-0 truncate"),o(l,"class",i=`font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(e,"class",d=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(p,m){C(p,e,m),$(e,n),$(n,s),$(e,r),$(e,l),$(l,c),h||(u=ge(e,"click",a[4]),h=!0)},p(p,[m]){m&2&&t!==(t=p[1].name+"")&&ne(s,t),m&1&&ne(c,p[0]),m&4&&i!==(i=`font-mono ${p[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(l,"class",i),m&12&&d!==(d=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${p[3]} ${p[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",d)},i:A,o:A,d(p){p&&y(e),h=!1,u()}}}function xn(a,e,n){let{key:t}=e,{actionData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"actionData"in d&&n(1,s=d.actionData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class An extends ee{constructor(e){super(),Z(this,e,xn,Nn,Q,{key:0,actionData:1,selected:2,class:3})}}function Ht(a,e,n){const t=a.slice();return t[5]=e[n],t}function qt(a){let e,n,t;const s=[a[5].props,{class:"cursor-pointer select-none"},{key:a[5].key},{selected:a[0]===a[5].key}];var r=a[5].component;function l(c){let i={};for(let d=0;d<s.length;d+=1)i=Ca(i,s[d]);return{props:i}}return r&&(e=new r(l()),e.$on("dispatchClick",a[2])),{c(){e&&L(e.$$.fragment),n=Se()},m(c,i){e&&S(e,c,i),C(c,n,i),t=!0},p(c,i){const d=i&3?Ka(s,[i&2&&Qa(c[5].props),s[1],i&2&&{key:c[5].key},{selected:c[0]===c[5].key}]):{};if(r!==(r=c[5].component)){if(e){le();const h=e;I(h.$$.fragment,1,0,()=>{M(h,1)}),re()}r?(e=new r(l()),e.$on("dispatchClick",c[2]),L(e.$$.fragment),k(e.$$.fragment,1),S(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(c){t||(e&&k(e.$$.fragment,c),t=!0)},o(c){e&&I(e.$$.fragment,c),t=!1},d(c){c&&y(n),e&&M(e,c)}}}function Bn(a){let e,n,t=a[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=qt(Ht(a,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Se()},m(l,c){for(let i=0;i<s.length;i+=1)s[i].m(l,c);C(l,e,c),n=!0},p(l,[c]){if(c&7){t=l[1];let i;for(i=0;i<t.length;i+=1){const d=Ht(l,t,i);s[i]?(s[i].p(d,c),k(s[i],1)):(s[i]=qt(d),s[i].c(),k(s[i],1),s[i].m(e.parentNode,e))}for(le(),i=t.length;i<s.length;i+=1)r(i);re()}},i(l){if(!n){for(let c=0;c<t.length;c+=1)k(s[c]);n=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);n=!1},d(l){Re(s,l),l&&y(e)}}}function Hn(a,e,n){let{selectedID:t}=e,{deselectable:s}=e,{scrollingRadioData:r}=e;const l=Me();function c(i){n(0,t=s===!0&&i.detail.key===t?void 0:i.detail.key),l("dispatchClick",{id:t})}return a.$$set=i=>{"selectedID"in i&&n(0,t=i.selectedID),"deselectable"in i&&n(3,s=i.deselectable),"scrollingRadioData"in i&&n(1,r=i.scrollingRadioData)},[t,r,c,s]}class Ae extends ee{constructor(e){super(),Z(this,e,Hn,Bn,Q,{selectedID:0,deselectable:3,scrollingRadioData:1})}}function qn(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function zn(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function En(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Tn(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Pn(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;return r=new G({props:{onclick:a[2],$$slots:{default:[qn]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[zn]},$$scope:{ctx:a}}}),h=new G({props:{onclick:a[4],$$slots:{default:[En]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[Tn]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Game Actions",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),d=j("div"),L(h.$$.fragment),u=O(),L(p.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(d,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(f,b){C(f,e,b),C(f,n,b),C(f,t,b),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(t,i),$(t,d),S(h,d,null),$(d,u),S(p,d,null),m=!0},p(f,b){const g={};b&512&&(g.$$scope={dirty:b,ctx:f}),r.$set(g);const _={};b&512&&(_.$$scope={dirty:b,ctx:f}),c.$set(_);const v={};b&512&&(v.$$scope={dirty:b,ctx:f}),h.$set(v);const w={};b&512&&(w.$$scope={dirty:b,ctx:f}),p.$set(w)},i(f){m||(k(r.$$.fragment,f),k(c.$$.fragment,f),k(h.$$.fragment,f),k(p.$$.fragment,f),m=!0)},o(f){I(r.$$.fragment,f),I(c.$$.fragment,f),I(h.$$.fragment,f),I(p.$$.fragment,f),m=!1},d(f){f&&y(e),f&&y(n),f&&y(t),M(r),M(c),M(h),M(p)}}}function Un(a){let e,n,t;function s(l){a[7](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Wn(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-3/5 min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Un],header:[Pn]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Fn(a,e,n){let t;ie(a,N,p=>n(6,t=p));let{selectedActionID:s}=e,r;function l(){return t.data.actions.ordering.filter(p=>p!==void 0).map(p=>{const m=t.data.actions.data[p];return{key:m.id,component:An,props:{actionData:m}}})}function c(){const p=we($e);J(N,t.data.actions.data[p]={id:p,name:"",verb:"",order:!1,two:!1},t),t.data.actions.ordering.push(p),N.set(t)}function i(){var p,m;if(s!==void 0){const f=s;n(0,s=void 0);const b=t.data.actions.ordering,g=b.findIndex(_=>_===f);for(let _=g;_<b.length-1;_++)b[_]=(p=b[_+1])!=null?p:void 0;b.pop(),n(0,s=(m=b[g])!=null?m:b[g-1]),delete t.data.actions.data[f],N.set(t)}}function d(){if(s!==void 0&&t.data.actions.ordering.length>1){const p=t.data.actions.ordering,m=p.findIndex(b=>b===s);if(m<=0)return;const f=p[m];p[m]=p[m-1],p[m-1]=f,N.set(t)}}function h(){if(s!==void 0&&t.data.actions.ordering.length>1){const p=t.data.actions.ordering,m=p.findIndex(b=>b===s);if(m===-1||m===t.data.actions.ordering.length-1)return;const f=p[m];p[m]=p[m+1],p[m+1]=f,N.set(t)}}function u(p){s=p,n(0,s)}return a.$$set=p=>{"selectedActionID"in p&&n(0,s=p.selectedActionID)},a.$$.update=()=>{a.$$.dirty&64&&(t.data.actions,n(1,r=l()))},[s,r,c,i,d,h,t,u]}class Vn extends ee{constructor(e){super(),Z(this,e,Fn,Wn,Q,{selectedActionID:0})}}function Jn(a){let e,n,t,s,r,l,c,i,d,h,u;return{c(){e=j("div"),n=j("p"),t=K(a[1]),s=O(),r=j("label"),l=j("input"),c=O(),i=j("div"),o(n,"class","pl-1 mb-2 text-slate-400 text-sm"),o(l,"type","checkbox"),o(l,"class","sr-only peer"),o(i,"class","bg-slate-700 rounded-full border border-slate-700 after:rounded-full after:bg-slate-400 after:border after:border-slate-400 after:h-5 after:w-5 peer-checked:after:bg-slate-200 peer-checked:after:border-slate-200 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:transition-all peer-checked:bg-slate-600 w-11 h-6"),o(r,"class","inline-flex relative items-center cursor-pointer ml-0.5"),o(e,"class",d=`flex flex-col items-start space-y-0.5
    pb-2
    ${a[2]}`)},m(p,m){C(p,e,m),$(e,n),$(n,t),$(e,s),$(e,r),$(r,l),l.checked=a[0],$(r,c),$(r,i),h||(u=ge(l,"change",a[3]),h=!0)},p(p,[m]){m&2&&ne(t,p[1]),m&1&&(l.checked=p[0]),m&4&&d!==(d=`flex flex-col items-start space-y-0.5
    pb-2
    ${p[2]}`)&&o(e,"class",d)},i:A,o:A,d(p){p&&y(e),h=!1,u()}}}function Yn(a,e,n){let{label:t}=e,{value:s}=e,{class:r=""}=e;function l(){s=this.checked,n(0,s)}return a.$$set=c=>{"label"in c&&n(1,t=c.label),"value"in c&&n(0,s=c.value),"class"in c&&n(2,r=c.class)},[s,t,r,l]}class ft extends ee{constructor(e){super(),Z(this,e,Yn,Jn,Q,{label:1,value:0,class:2})}}function Gn(a){let e;return{c(){e=j("p"),e.textContent="Selected Action",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Xn(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;function f(D){a[2](D)}let b={class:"w-3/4",label:"Name",placeholder:"Use"};a[1].data.actions.data[a[0]].name!==void 0&&(b.value=a[1].data.actions.data[a[0]].name),e=new be({props:b}),E.push(()=>P(e,"value",f));function g(D){a[3](D)}let _={class:"w-1/2",label:"Verb",placeholder:"with"};a[1].data.actions.data[a[0]].verb!==void 0&&(_.value=a[1].data.actions.data[a[0]].verb),s=new be({props:_}),E.push(()=>P(s,"value",g));function v(D){a[4](D)}let w={label:"Order Matters"};a[1].data.actions.data[a[0]].order!==void 0&&(w.value=a[1].data.actions.data[a[0]].order),i=new ft({props:w}),E.push(()=>P(i,"value",v));function R(D){a[5](D)}let z={label:"Optional Second Argument"};return a[1].data.actions.data[a[0]].two!==void 0&&(z.value=a[1].data.actions.data[a[0]].two),u=new ft({props:z}),E.push(()=>P(u,"value",R)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment),l=O(),c=j("div"),L(i.$$.fragment),h=O(),L(u.$$.fragment),o(c,"class","flex flex-row items-center space-x-6")},m(D,H){S(e,D,H),C(D,t,H),S(s,D,H),C(D,l,H),C(D,c,H),S(i,c,null),$(c,h),S(u,c,null),m=!0},p(D,H){const Y={};!n&&H&3&&(n=!0,Y.value=D[1].data.actions.data[D[0]].name,T(()=>n=!1)),e.$set(Y);const ae={};!r&&H&3&&(r=!0,ae.value=D[1].data.actions.data[D[0]].verb,T(()=>r=!1)),s.$set(ae);const x={};!d&&H&3&&(d=!0,x.value=D[1].data.actions.data[D[0]].order,T(()=>d=!1)),i.$set(x);const X={};!p&&H&3&&(p=!0,X.value=D[1].data.actions.data[D[0]].two,T(()=>p=!1)),u.$set(X)},i(D){m||(k(e.$$.fragment,D),k(s.$$.fragment,D),k(i.$$.fragment,D),k(u.$$.fragment,D),m=!0)},o(D){I(e.$$.fragment,D),I(s.$$.fragment,D),I(i.$$.fragment,D),I(u.$$.fragment,D),m=!1},d(D){M(e,D),D&&y(t),M(s,D),D&&y(l),D&&y(c),M(i),M(u)}}}function Kn(a){let e,n;return e=new ce({props:{class:`grow shrink\r
    w-full min-h-0`,$$slots:{content:[Xn],header:[Gn]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Qn(a,e,n){let t;ie(a,N,d=>n(1,t=d));let{selectedActionID:s}=e;function r(d){a.$$.not_equal(t.data.actions.data[s].name,d)&&(t.data.actions.data[s].name=d,N.set(t))}function l(d){a.$$.not_equal(t.data.actions.data[s].verb,d)&&(t.data.actions.data[s].verb=d,N.set(t))}function c(d){a.$$.not_equal(t.data.actions.data[s].order,d)&&(t.data.actions.data[s].order=d,N.set(t))}function i(d){a.$$.not_equal(t.data.actions.data[s].two,d)&&(t.data.actions.data[s].two=d,N.set(t))}return a.$$set=d=>{"selectedActionID"in d&&n(0,s=d.selectedActionID)},[s,t,r,l,c,i]}class Zn extends ee{constructor(e){super(),Z(this,e,Qn,Kn,Q,{selectedActionID:0})}}function zt(a){let e,n;return e=new Zn({props:{selectedActionID:a[0]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedActionID=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function es(a){let e,n,t,s,r,l,c,i,d;function h(m){a[1](m)}let u={};a[0]!==void 0&&(u.selectedActionID=a[0]),t=new Vn({props:u}),E.push(()=>P(t,"selectedActionID",h));let p=a[0]!==void 0&&a[0]!==""&&zt(a);return i=new Rn({}),{c(){e=j("div"),n=j("div"),L(t.$$.fragment),r=O(),p&&p.c(),l=O(),c=j("div"),L(i.$$.fragment),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","30%"),o(c,"class","flex flex-col space-y-4 h-full"),me(c,"width","35%"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(m,f){C(m,e,f),$(e,n),S(t,n,null),$(n,r),p&&p.m(n,null),$(e,l),$(e,c),S(i,c,null),d=!0},p(m,[f]){const b={};!s&&f&1&&(s=!0,b.selectedActionID=m[0],T(()=>s=!1)),t.$set(b),m[0]!==void 0&&m[0]!==""?p?(p.p(m,f),f&1&&k(p,1)):(p=zt(m),p.c(),k(p,1),p.m(n,null)):p&&(le(),I(p,1,1,()=>{p=null}),re())},i(m){d||(k(t.$$.fragment,m),k(p),k(i.$$.fragment,m),d=!0)},o(m){I(t.$$.fragment,m),I(p),I(i.$$.fragment,m),d=!1},d(m){m&&y(e),M(t),p&&p.d(),M(i)}}}function ts(a,e,n){let t;function s(r){t=r,n(0,t)}return[t,s]}class as extends ee{constructor(e){super(),Z(this,e,ts,es,Q,{})}}function Et(a){let e,n,t;return{c(){e=j("img"),o(e,"class","object-contain h-full"),xe(e.src,n=a[1])||o(e,"src",n),o(e,"alt",t="")},m(s,r){C(s,e,r)},p(s,r){r&2&&!xe(e.src,n=s[1])&&o(e,"src",n)},d(s){s&&y(e)}}}function ns(a){let e,n,t,s,r,l,c=a[1]!==""&&Et(a);return{c(){e=j("div"),n=j("p"),t=K(a[0]),s=O(),r=j("div"),c&&c.c(),o(n,"class","pl-1 text-slate-400 text-sm"),o(r,"class","grow flex flex-col basis-0 min-h-0"),o(e,"class",l=`grow flex flex-col items-start space-y-0.5
    ${a[2]}`)},m(i,d){C(i,e,d),$(e,n),$(n,t),$(e,s),$(e,r),c&&c.m(r,null)},p(i,[d]){d&1&&ne(t,i[0]),i[1]!==""?c?c.p(i,d):(c=Et(i),c.c(),c.m(r,null)):c&&(c.d(1),c=null),d&4&&l!==(l=`grow flex flex-col items-start space-y-0.5
    ${i[2]}`)&&o(e,"class",l)},i:A,o:A,d(i){i&&y(e),c&&c.d()}}}function ss(a,e,n){let{label:t}=e,{imageData:s}=e,{class:r=""}=e;return a.$$set=l=>{"label"in l&&n(0,t=l.label),"imageData"in l&&n(1,s=l.imageData),"class"in l&&n(2,r=l.class)},[t,s,r]}class ls extends ee{constructor(e){super(),Z(this,e,ss,ns,Q,{label:0,imageData:1,class:2})}}function rs(a){let e,n,t,s,r,l,c,i;return{c(){e=j("div"),n=j("p"),t=K(a[1]),s=O(),r=j("input"),o(n,"class","pl-1 text-slate-400 text-sm"),o(r,"class","grow rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 text-l text-center text-slate-300 w-full p-2"),o(r,"type","number"),o(e,"class",l=`flex flex-col items-start space-y-0.5
    ${a[2]}`)},m(d,h){C(d,e,h),$(e,n),$(n,t),$(e,s),$(e,r),Fe(r,a[0]),c||(i=ge(r,"input",a[3]),c=!0)},p(d,[h]){h&2&&ne(t,d[1]),h&1&&Oa(r.value)!==d[0]&&Fe(r,d[0]),h&4&&l!==(l=`flex flex-col items-start space-y-0.5
    ${d[2]}`)&&o(e,"class",l)},i:A,o:A,d(d){d&&y(e),c=!1,i()}}}function is(a,e,n){let{label:t}=e,{value:s}=e,{class:r=""}=e;function l(){s=Oa(this.value),n(0,s)}return a.$$set=c=>{"label"in c&&n(1,t=c.label),"value"in c&&n(0,s=c.value),"class"in c&&n(2,r=c.class)},[s,t,r,l]}class Ha extends ee{constructor(e){super(),Z(this,e,is,rs,Q,{label:1,value:0,class:2})}}function Tt(a,e,n){const t=a.slice();return t[6]=e[n],t}function Pt(a){let e,n=a[6].display+"",t,s,r,l,c;return{c(){e=j("option"),t=K(n),s=O(),o(e,"class",r=`bg-slate-750 ${a[6].enabled===!0?"text-slate-300":"text-slate-500"}`),e.__value=l=a[6].key,e.value=e.__value,e.disabled=c=a[6].enabled===!1},m(i,d){C(i,e,d),$(e,t),$(e,s)},p(i,d){d&4&&n!==(n=i[6].display+"")&&ne(t,n),d&4&&r!==(r=`bg-slate-750 ${i[6].enabled===!0?"text-slate-300":"text-slate-500"}`)&&o(e,"class",r),d&4&&l!==(l=i[6].key)&&(e.__value=l,e.value=e.__value),d&4&&c!==(c=i[6].enabled===!1)&&(e.disabled=c)},d(i){i&&y(e)}}}function os(a){let e,n,t,s,r,l,c,i,d,h=a[2],u=[];for(let p=0;p<h.length;p+=1)u[p]=Pt(Tt(a,h,p));return{c(){e=j("div"),n=j("p"),t=K(a[1]),s=O(),r=j("select");for(let p=0;p<u.length;p+=1)u[p].c();o(n,"class","pl-1 text-slate-400 text-sm"),o(r,"class",l=`rounded  border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400
            text-slate-300  
            block w-full p-2.5
            ${a[3]===!0?"bg-slate-700":"bg-slate-800"}`),r.disabled=a[3],a[0]===void 0&&Pe(()=>a[5].call(r)),o(e,"class",c=`flex flex-col items-start space-y-0.5
    ${a[4]}`)},m(p,m){C(p,e,m),$(e,n),$(n,t),$(e,s),$(e,r);for(let f=0;f<u.length;f+=1)u[f].m(r,null);ct(r,a[0]),i||(d=ge(r,"change",a[5]),i=!0)},p(p,[m]){if(m&2&&ne(t,p[1]),m&4){h=p[2];let f;for(f=0;f<h.length;f+=1){const b=Tt(p,h,f);u[f]?u[f].p(b,m):(u[f]=Pt(b),u[f].c(),u[f].m(r,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=h.length}m&8&&l!==(l=`rounded  border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400
            text-slate-300  
            block w-full p-2.5
            ${p[3]===!0?"bg-slate-700":"bg-slate-800"}`)&&o(r,"class",l),m&8&&(r.disabled=p[3]),m&5&&ct(r,p[0]),m&16&&c!==(c=`flex flex-col items-start space-y-0.5
    ${p[4]}`)&&o(e,"class",c)},i:A,o:A,d(p){p&&y(e),Re(u,p),i=!1,d()}}}function cs(a,e,n){let{label:t}=e,{choicesData:s}=e,{selected:r=void 0}=e,{disabled:l=!1}=e,{class:c=""}=e;function i(){r=Ra(this),n(0,r),n(2,s)}return a.$$set=d=>{"label"in d&&n(1,t=d.label),"choicesData"in d&&n(2,s=d.choicesData),"selected"in d&&n(0,r=d.selected),"disabled"in d&&n(3,l=d.disabled),"class"in d&&n(4,c=d.class)},[r,t,s,l,c,i]}class he extends ee{constructor(e){super(),Z(this,e,cs,os,Q,{label:1,choicesData:2,selected:0,disabled:3,class:4})}}function Ut(a,e,n){const t=a.slice();return t[14]=e[n],t[15]=e,t[16]=n,t}function ds(a){let e;return{c(){e=j("p"),e.textContent="Selected State",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function fs(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function us(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M6 18L18 6M6 6l12 12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Wt(a){let e,n,t,s,r,l,c;function i(p){a[10](p,a[16])}let d={class:"w-16",label:"Attempts"};a[1].storage.states.data[a[0]].hints[a[16]].attempts!==void 0&&(d.value=a[1].storage.states.data[a[0]].hints[a[16]].attempts),n=new Ha({props:d}),E.push(()=>P(n,"value",i));function h(p){a[11](p,a[16])}let u={class:"grow",label:`Hint ${a[16]+1} Text`,placeholder:"Perhaps that key could be useful somewhere?"};return a[1].storage.states.data[a[0]].hints[a[16]].text!==void 0&&(u.value=a[1].storage.states.data[a[0]].hints[a[16]].text),r=new be({props:u}),E.push(()=>P(r,"value",h)),{c(){e=j("div"),L(n.$$.fragment),s=O(),L(r.$$.fragment),o(e,"class","flex flex-row space-x-6 w-full")},m(p,m){C(p,e,m),S(n,e,null),$(e,s),S(r,e,null),c=!0},p(p,m){a=p;const f={};!t&&m&3&&(t=!0,f.value=a[1].storage.states.data[a[0]].hints[a[16]].attempts,T(()=>t=!1)),n.$set(f);const b={};!l&&m&3&&(l=!0,b.value=a[1].storage.states.data[a[0]].hints[a[16]].text,T(()=>l=!1)),r.$set(b)},i(p){c||(k(n.$$.fragment,p),k(r.$$.fragment,p),c=!0)},o(p){I(n.$$.fragment,p),I(r.$$.fragment,p),c=!1},d(p){p&&y(e),M(n),M(r)}}}function gs(a){let e,n,t;function s(l){a[13](l)}let r={class:"w-1/2",label:"Ending Line",placeholder:"Good End"};return a[1].storage.states.data[a[0]].args[0]!==void 0&&(r.value=a[1].storage.states.data[a[0]].args[0]),e=new be({props:r}),E.push(()=>P(e,"value",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};!n&&c&3&&(n=!0,i.value=l[1].storage.states.data[l[0]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ps(a){let e,n,t;function s(l){a[12](l)}let r={class:"w-1/2",label:"Next State",choicesData:a[3]};return a[1].storage.states.data[a[0]].args[0]!==void 0&&(r.selected=a[1].storage.states.data[a[0]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&8&&(i.choicesData=l[3]),!n&&c&3&&(n=!0,i.selected=l[1].storage.states.data[l[0]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ms(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b,g,_,v,w,R,z,D,H,Y,ae,x,X,ye,Be,W,se,_e;function ke(U){a[6](U)}let Le={class:"w-3/4",label:"Title",placeholder:"The beginning of your peril"};a[1].storage.states.data[a[0]].title!==void 0&&(Le.value=a[1].storage.states.data[a[0]].title),n=new be({props:Le}),E.push(()=>P(n,"value",ke));function Oe(U){a[7](U)}let Ce={class:"w-1/4",label:"State Type",choicesData:a[2]};a[1].storage.states.data[a[0]].type!==void 0&&(Ce.selected=a[1].storage.states.data[a[0]].type),r=new he({props:Ce}),E.push(()=>P(r,"selected",Oe));function De(U){a[8](U)}let Ie={class:"w-3/5",label:"Description",placeholder:"You slowly awake within a cold, dark basement...",rows:8};a[1].storage.states.data[a[0]].description!==void 0&&(Ie.value=a[1].storage.states.data[a[0]].description),d=new Ue({props:Ie}),E.push(()=>P(d,"value",De));function je(U){a[9](U)}let He={class:"grow",label:"Development Notes",placeholder:"Goal: remove blindfold and investigate surroundings",rows:8};a[1].storage.states.data[a[0]].notes!==void 0&&(He.value=a[1].storage.states.data[a[0]].notes),p=new Ue({props:He}),E.push(()=>P(p,"value",je)),_=new ls({props:{label:"Image",imageData:a[1].storage.images[a[1].storage.states.data[a[0]].imageHash]}}),R=new G({props:{class:"mt-1",label:"Load Image",onclick:a[4],$$slots:{default:[fs]},$$scope:{ctx:a}}}),D=new G({props:{class:"mt-1",label:"Clear Image",onclick:a[5],$$slots:{default:[us]},$$scope:{ctx:a}}});let ve={length:3},fe=[];for(let U=0;U<ve.length;U+=1)fe[U]=Wt(Ut(a,ve,U));const ze=U=>I(fe[U],1,1,()=>{fe[U]=null}),Ze=[ps,gs],Ne=[];function et(U,oe){return U[1].storage.states.data[U[0]].type==="intermediate"||U[1].storage.states.data[U[0]].type==="opening"?0:U[1].storage.states.data[U[0]].type==="ending"?1:-1}return~(W=et(a))&&(se=Ne[W]=Ze[W](a)),{c(){e=j("div"),L(n.$$.fragment),s=O(),L(r.$$.fragment),c=O(),i=j("div"),L(d.$$.fragment),u=O(),L(p.$$.fragment),f=O(),b=j("div"),g=j("div"),L(_.$$.fragment),v=O(),w=j("div"),L(R.$$.fragment),z=O(),L(D.$$.fragment),H=O(),Y=j("div"),ae=j("p"),ae.textContent="To disable hint, set number of (failed) attempts to -1",x=O();for(let U=0;U<fe.length;U+=1)fe[U].c();X=O(),ye=j("div"),Be=O(),se&&se.c(),o(e,"class","flex flex-row space-x-6"),o(i,"class","flex flex-row space-x-6"),o(w,"class","flex flex-row space-x-2"),o(g,"class","flex flex-col space-y-2 w-1/2"),o(ae,"class","mb-2"),o(ye,"class","grow"),o(Y,"class","flex flex-col space-y-2 w-1/2 p-4"),o(b,"class","grow flex flex-row space-x-6")},m(U,oe){C(U,e,oe),S(n,e,null),$(e,s),S(r,e,null),C(U,c,oe),C(U,i,oe),S(d,i,null),$(i,u),S(p,i,null),C(U,f,oe),C(U,b,oe),$(b,g),S(_,g,null),$(g,v),$(g,w),S(R,w,null),$(w,z),S(D,w,null),$(b,H),$(b,Y),$(Y,ae),$(Y,x);for(let qe=0;qe<fe.length;qe+=1)fe[qe].m(Y,null);$(Y,X),$(Y,ye),$(Y,Be),~W&&Ne[W].m(Y,null),_e=!0},p(U,oe){const qe={};!t&&oe&3&&(t=!0,qe.value=U[1].storage.states.data[U[0]].title,T(()=>t=!1)),n.$set(qe);const Ye={};oe&4&&(Ye.choicesData=U[2]),!l&&oe&3&&(l=!0,Ye.selected=U[1].storage.states.data[U[0]].type,T(()=>l=!1)),r.$set(Ye);const q={};!h&&oe&3&&(h=!0,q.value=U[1].storage.states.data[U[0]].description,T(()=>h=!1)),d.$set(q);const F={};!m&&oe&3&&(m=!0,F.value=U[1].storage.states.data[U[0]].notes,T(()=>m=!1)),p.$set(F);const V={};oe&3&&(V.imageData=U[1].storage.images[U[1].storage.states.data[U[0]].imageHash]),_.$set(V);const de={};oe&131072&&(de.$$scope={dirty:oe,ctx:U}),R.$set(de);const te={};if(oe&131072&&(te.$$scope={dirty:oe,ctx:U}),D.$set(te),oe&3){ve={length:3};let pe;for(pe=0;pe<ve.length;pe+=1){const Ee=Ut(U,ve,pe);fe[pe]?(fe[pe].p(Ee,oe),k(fe[pe],1)):(fe[pe]=Wt(Ee),fe[pe].c(),k(fe[pe],1),fe[pe].m(Y,X))}for(le(),pe=ve.length;pe<fe.length;pe+=1)ze(pe);re()}let ue=W;W=et(U),W===ue?~W&&Ne[W].p(U,oe):(se&&(le(),I(Ne[ue],1,1,()=>{Ne[ue]=null}),re()),~W?(se=Ne[W],se?se.p(U,oe):(se=Ne[W]=Ze[W](U),se.c()),k(se,1),se.m(Y,null)):se=null)},i(U){if(!_e){k(n.$$.fragment,U),k(r.$$.fragment,U),k(d.$$.fragment,U),k(p.$$.fragment,U),k(_.$$.fragment,U),k(R.$$.fragment,U),k(D.$$.fragment,U);for(let oe=0;oe<ve.length;oe+=1)k(fe[oe]);k(se),_e=!0}},o(U){I(n.$$.fragment,U),I(r.$$.fragment,U),I(d.$$.fragment,U),I(p.$$.fragment,U),I(_.$$.fragment,U),I(R.$$.fragment,U),I(D.$$.fragment,U),fe=fe.filter(Boolean);for(let oe=0;oe<fe.length;oe+=1)I(fe[oe]);I(se),_e=!1},d(U){U&&y(e),M(n),M(r),U&&y(c),U&&y(i),M(d),M(p),U&&y(f),U&&y(b),M(_),M(R),M(D),Re(fe,U),~W&&Ne[W].d()}}}function bs(a){let e,n;return e=new ce({props:{class:"h-full w-full min-h-0",$$slots:{content:[ms],header:[ds]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&131087&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function _s(a,e,n){let t;ie(a,N,_=>n(1,t=_));let{selectedStateID:s}=e,r=[{key:"normal",display:"Normal",enabled:!0},{key:"opening",display:"Opening",enabled:!0},{key:"intermediate",display:"Intermediate",enabled:!0},{key:"ending",display:"Ending",enabled:!0}],l=[];async function c(){const _=await Ba();if(_.startsWith("Cancelled")===!0)return;const v=t.storage.states.data[s].imageHash;delete t.storage.images[v];const w=await dt(_);J(N,t.storage.images[w]=_,t),J(N,t.storage.states.data[s].imageHash=w,t),N.set(t)}async function i(){const _=t.storage.states.data[s].imageHash;delete t.storage.images[_],J(N,t.storage.states.data[s].imageHash="",t),N.set(t)}function d(_){a.$$.not_equal(t.storage.states.data[s].title,_)&&(t.storage.states.data[s].title=_,N.set(t))}function h(_){a.$$.not_equal(t.storage.states.data[s].type,_)&&(t.storage.states.data[s].type=_,N.set(t))}function u(_){a.$$.not_equal(t.storage.states.data[s].description,_)&&(t.storage.states.data[s].description=_,N.set(t))}function p(_){a.$$.not_equal(t.storage.states.data[s].notes,_)&&(t.storage.states.data[s].notes=_,N.set(t))}function m(_,v){a.$$.not_equal(t.storage.states.data[s].hints[v].attempts,_)&&(t.storage.states.data[s].hints[v].attempts=_,N.set(t))}function f(_,v){a.$$.not_equal(t.storage.states.data[s].hints[v].text,_)&&(t.storage.states.data[s].hints[v].text=_,N.set(t))}function b(_){a.$$.not_equal(t.storage.states.data[s].args[0],_)&&(t.storage.states.data[s].args[0]=_,N.set(t))}function g(_){a.$$.not_equal(t.storage.states.data[s].args[0],_)&&(t.storage.states.data[s].args[0]=_,N.set(t))}return a.$$set=_=>{"selectedStateID"in _&&n(0,s=_.selectedStateID)},a.$$.update=()=>{a.$$.dirty&3&&(t.storage.states,n(2,r[1].enabled=Object.values(t.storage.states.data).findIndex(_=>_.type==="opening")===-1||t.storage.states.data[s].type==="opening",r)),a.$$.dirty&3&&(t.storage.states,n(3,l=t.storage.states.ordering.map(_=>t.storage.states.data[_]).filter(_=>_.type!=="opening"&&_.id!==s).map(_=>({key:_.id,display:_.title,enabled:!0}))))},[s,t,r,l,c,i,d,h,u,p,m,f,b,g]}class hs extends ee{constructor(e){super(),Z(this,e,_s,bs,Q,{selectedStateID:0})}}function ws(a){let e,n,t,s=a[1].type==="opening"?"O":a[1].type==="ending"?"E":a[1].type==="intermediate"?"I":"",r,l,c,i=a[1].title+"",d,h,u,p,m,f,b,g;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("p"),d=K(i),h=O(),u=j("p"),p=K(a[0]),o(t,"class","font-mono font-bold text-l w-4"),o(c,"class","text-left w-11/12 min-w-0 truncate"),o(n,"class","grow flex flex-row items-center space-x-3 basis-0 shrink min-w-0"),o(u,"class",m=`font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(e,"class",f=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(_,v){C(_,e,v),$(e,n),$(n,t),$(t,r),$(n,l),$(n,c),$(c,d),$(e,h),$(e,u),$(u,p),b||(g=ge(e,"click",a[4]),b=!0)},p(_,[v]){v&2&&s!==(s=_[1].type==="opening"?"O":_[1].type==="ending"?"E":_[1].type==="intermediate"?"I":"")&&ne(r,s),v&2&&i!==(i=_[1].title+"")&&ne(d,i),v&1&&ne(p,_[0]),v&4&&m!==(m=`font-mono ${_[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(u,"class",m),v&12&&f!==(f=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${_[3]} ${_[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",f)},i:A,o:A,d(_){_&&y(e),b=!1,g()}}}function $s(a,e,n){let{key:t}=e,{stateData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"stateData"in d&&n(1,s=d.stateData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class vs extends ee{constructor(e){super(),Z(this,e,$s,ws,Q,{key:0,stateData:1,selected:2,class:3})}}function ks(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ds(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Is(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function js(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ys(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Cs(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[2],$$slots:{default:[ks]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[Ds]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[4],$$slots:{default:[Is]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[js]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[6],$$slots:{default:[ys]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Game States",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&1024&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&1024&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&1024&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&1024&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&1024&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function Ss(a){let e,n,t;function s(l){a[8](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ms(a){let e,n;return e=new ce({props:{class:`grow shrink space-y-2 \r
    w-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Ss],header:[Cs]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ls(a,e,n){let t;ie(a,N,m=>n(7,t=m));let{selectedStateID:s}=e,r;function l(){return t.storage.states.ordering.filter(m=>m!==void 0).map(m=>{const f=t.storage.states.data[m];return{key:f.id,component:vs,props:{stateData:f}}})}function c(){const m=we($e);J(N,t.storage.states.data[m]={id:m,title:"",description:"",notes:"",imageHash:"",type:"normal",args:[],hints:[{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""}],interactions:{data:{},ordering:[]},locations:{data:{},ordering:[]}},t),t.storage.states.ordering.push(m),N.set(t)}function i(){if(s!==void 0){const m=t.storage.states.ordering.indexOf(s),f=t.storage.states.data[s],b=JSON.parse(JSON.stringify(f)),g=we($e);b.id=g,J(N,t.storage.states.data[g]=b,t),t.storage.states.ordering.splice(m+1,0,g),N.set(t),n(0,s=g)}}function d(){var m,f;if(s!==void 0){const b=s;n(0,s=void 0);const g=t.storage.states.ordering,_=g.findIndex(v=>v===b);for(let v=_;v<g.length-1;v++)g[v]=(m=g[v+1])!=null?m:void 0;g.pop(),n(0,s=(f=g[_])!=null?f:g[_-1]),delete t.storage.states.data[b],N.set(t)}}function h(){if(s!==void 0&&t.storage.states.ordering.length>1){const m=t.storage.states.ordering,f=m.findIndex(g=>g===s);if(f<=0)return;const b=m[f];m[f]=m[f-1],m[f-1]=b,N.set(t)}}function u(){if(s!==void 0&&t.storage.states.ordering.length>1){const m=t.storage.states.ordering,f=m.findIndex(g=>g===s);if(f===-1||f===t.storage.states.ordering.length-1)return;const b=m[f];m[f]=m[f+1],m[f+1]=b,N.set(t)}}function p(m){s=m,n(0,s)}return a.$$set=m=>{"selectedStateID"in m&&n(0,s=m.selectedStateID)},a.$$.update=()=>{a.$$.dirty&128&&(t.storage.states,n(1,r=l()))},[s,r,c,i,d,h,u,t,p]}class Os extends ee{constructor(e){super(),Z(this,e,Ls,Ms,Q,{selectedStateID:0})}}function Rs(a){let e;return{c(){e=j("p"),e.textContent="Tip: Copy states (instead of creating new ones) to preserve interactions and minimap data for less hassle!"},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Ft(a){let e,n;return e=new hs({props:{selectedStateID:a[0]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ns(a){let e,n,t,s,r,l,c,i,d;t=new ce({props:{$$slots:{content:[Rs]},$$scope:{ctx:a}}});function h(m){a[1](m)}let u={};a[0]!==void 0&&(u.selectedStateID=a[0]),r=new Os({props:u}),E.push(()=>P(r,"selectedStateID",h));let p=a[0]!==void 0&&a[0]!==""&&Ft(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),s=O(),L(r.$$.fragment),c=O(),i=j("div"),p&&p.c(),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","30%"),o(i,"class","flex flex-col space-y-4 h-full"),me(i,"width","calc(70% - 1em)"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(m,f){C(m,e,f),$(e,n),S(t,n,null),$(n,s),S(r,n,null),$(e,c),$(e,i),p&&p.m(i,null),d=!0},p(m,[f]){const b={};f&8&&(b.$$scope={dirty:f,ctx:m}),t.$set(b);const g={};!l&&f&1&&(l=!0,g.selectedStateID=m[0],T(()=>l=!1)),r.$set(g),m[0]!==void 0&&m[0]!==""?p?(p.p(m,f),f&1&&k(p,1)):(p=Ft(m),p.c(),k(p,1),p.m(i,null)):p&&(le(),I(p,1,1,()=>{p=null}),re())},i(m){d||(k(t.$$.fragment,m),k(r.$$.fragment,m),k(p),d=!0)},o(m){I(t.$$.fragment,m),I(r.$$.fragment,m),I(p),d=!1},d(m){m&&y(e),M(t),M(r),p&&p.d()}}}function xs(a,e,n){let t;ie(a,Qe,r=>n(0,t=r));function s(r){t=r,Qe.set(t)}return[t,s]}class As extends ee{constructor(e){super(),Z(this,e,xs,Ns,Q,{})}}function Vt(a){let e,n,t,s,r,l,c,i,d,h,u,p,m=(a[5]!==""||a[6]!=="")&&Jt();return{c(){e=j("p"),n=K(a[4]),t=O(),m&&m.c(),s=O(),r=j("div"),l=j("p"),c=K(a[5]),i=O(),d=j("p"),h=K(a[6]),u=O(),p=j("div"),o(e,"class","w-12 text-left"),o(l,"class","w-full text-left truncate h-5"),o(d,"class","w-full text-left truncate h-5"),o(r,"class","grow flex flex-col items-start"),me(r,"width","0px"),me(r,"min-width","75%"),o(p,"class","grow")},m(f,b){C(f,e,b),$(e,n),C(f,t,b),m&&m.m(f,b),C(f,s,b),C(f,r,b),$(r,l),$(l,c),$(r,i),$(r,d),$(d,h),C(f,u,b),C(f,p,b)},p(f,b){b&16&&ne(n,f[4]),f[5]!==""||f[6]!==""?m||(m=Jt(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),b&32&&ne(c,f[5]),b&64&&ne(h,f[6])},d(f){f&&y(e),f&&y(t),m&&m.d(f),f&&y(s),f&&y(r),f&&y(u),f&&y(p)}}}function Jt(a){let e;return{c(){e=j("p"),e.textContent="|"},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function Bs(a){let e,n,t=a[1].devName+"",s,r,l,c,i,d,h,u,p,m,f,b,g,_,v=a[4]!==""&&Vt(a);return{c(){e=j("div"),n=j("p"),s=K(t),r=O(),l=j("div"),c=j("div"),i=j("div"),v&&v.c(),h=O(),u=j("div"),p=j("p"),m=K(a[0]),o(n,"class","w-full inline-block h-6 text-left truncate"),o(i,"class",d=`w-full flex flex-row space-x-4 text-sm h-10 items-center ${a[2]===!0?"text-slate-400":"text-slate-500"}`),o(c,"class","grow flex flex-col items-start w-full"),o(p,"class",f=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(u,"class","flex flex-row items-center h-full"),o(l,"class","flex flex-row w-full space-x-1"),o(e,"class",b=`flex flex-col space-y-1
    rounded border
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`),me(e,"width","0px"),me(e,"min-width","100%")},m(w,R){C(w,e,R),$(e,n),$(n,s),$(e,r),$(e,l),$(l,c),$(c,i),v&&v.m(i,null),$(l,h),$(l,u),$(u,p),$(p,m),g||(_=ge(e,"click",a[7]),g=!0)},p(w,[R]){R&2&&t!==(t=w[1].devName+"")&&ne(s,t),w[4]!==""?v?v.p(w,R):(v=Vt(w),v.c(),v.m(i,null)):v&&(v.d(1),v=null),R&4&&d!==(d=`w-full flex flex-row space-x-4 text-sm h-10 items-center ${w[2]===!0?"text-slate-400":"text-slate-500"}`)&&o(i,"class",d),R&1&&ne(m,w[0]),R&4&&f!==(f=`text-center font-mono ${w[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(p,"class",f),R&12&&b!==(b=`flex flex-col space-y-1
    rounded border
    p-2 pl-4 pr-4
    ${w[3]} ${w[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",b)},i:A,o:A,d(w){w&&y(e),v&&v.d(),g=!1,_()}}}function Hs(a,e,n){let t,s;ie(a,N,f=>n(8,t=f)),ie(a,Qe,f=>n(9,s=f));let{key:r}=e,{interactionData:l}=e,{selected:c}=e,{class:i}=e;const d=Me();function h(){d("dispatchClick",{key:r})}let u="",p="",m="";return a.$$set=f=>{"key"in f&&n(0,r=f.key),"interactionData"in f&&n(1,l=f.interactionData),"selected"in f&&n(2,c=f.selected),"class"in f&&n(3,i=f.class)},a.$$.update=()=>{if(a.$$.dirty&770){t.data.actions,t.storage.states.data[s].interactions;const f=t.data.actions.data[l.action];n(4,u=f!==void 0?f.name:"")}a.$$.dirty&770&&(t.data.restraintLocations,t.storage.restraints,t.storage.objects,t.storage.states.data[s].interactions,n(5,p=""),t.data.restraintLocations.data[l.components[0]]!==void 0?n(5,p=`(L) ${t.data.restraintLocations.data[l.components[0]].name}`):t.storage.restraints.data[l.components[0]]!==void 0?n(5,p=`(R) ${t.storage.restraints.data[l.components[0]].devName}`):t.storage.objects.data[l.components[0]]!==void 0&&n(5,p=`(O) ${t.storage.objects.data[l.components[0]].devName}`)),a.$$.dirty&770&&(t.data.restraintLocations,t.storage.restraints,t.storage.objects,t.storage.states.data[s].interactions,n(6,m=""),t.data.restraintLocations.data[l.components[1]]!==void 0?n(6,m=`(L) ${t.data.restraintLocations.data[l.components[1]].name}`):t.storage.restraints.data[l.components[1]]!==void 0?n(6,m=`(R) ${t.storage.restraints.data[l.components[1]].devName}`):t.storage.objects.data[l.components[1]]!==void 0&&n(6,m=`(O) ${t.storage.objects.data[l.components[1]].devName}`))},[r,l,c,i,u,p,m,h,t,s]}class qs extends ee{constructor(e){super(),Z(this,e,Hs,Bs,Q,{key:0,interactionData:1,selected:2,class:3})}}function zs(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Es(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ts(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ps(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Us(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ws(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[3],$$slots:{default:[zs]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[4],$$slots:{default:[Es]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[5],$$slots:{default:[Ts]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[6],$$slots:{default:[Ps]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[7],$$slots:{default:[Us]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Game Interactions",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&4096&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&4096&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&4096&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&4096&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&4096&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function Fs(a){let e,n,t;function s(l){a[10](l)}let r={deselectable:!0,scrollingRadioData:a[2]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&4&&(i.scrollingRadioData=l[2]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Vs(a){let e,n;return e=new ce({props:{class:`shrink
    w-full h-3/5 min-h-0
    ${a[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Fs],header:[Ws]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full h-3/5 min-h-0
    ${t[1]}`),s&4101&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Js(a,e,n){let t;ie(a,N,b=>n(9,t=b));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{class:l=""}=e,c;function i(){return t.storage.states.data[s].interactions.ordering.filter(b=>b!==void 0).map(b=>{const g=t.storage.states.data[s].interactions.data[b];return{key:g.id,component:qs,props:{interactionData:g}}})}function d(){const b=we($e);J(N,t.storage.states.data[s].interactions.data[b]={id:b,devName:"",action:"",components:["",""],criteria:{data:{},ordering:[]},results:{data:{},ordering:[]}},t),t.storage.states.data[s].interactions.ordering.push(b),N.set(t)}function h(){if(r!==void 0){const b=t.storage.states.data[s].interactions.ordering.indexOf(r),g=t.storage.states.data[s].interactions.data[r],_=JSON.parse(JSON.stringify(g)),v=we($e);_.id=v,J(N,t.storage.states.data[s].interactions.data[v]=_,t),t.storage.states.data[s].interactions.ordering.splice(b+1,0,v),N.set(t),n(0,r=v)}}function u(){var b,g;if(r!==void 0){const _=r;n(0,r=void 0);const v=t.storage.states.data[s].interactions.ordering,w=v.findIndex(R=>R===_);for(let R=w;R<v.length-1;R++)v[R]=(b=v[R+1])!=null?b:void 0;v.pop(),n(0,r=(g=v[w])!=null?g:v[w-1]),delete t.storage.states.data[s].interactions.data[_],N.set(t)}}function p(){if(r!==void 0&&t.storage.states.data[s].interactions.ordering.length>1){const b=t.storage.states.data[s].interactions.ordering,g=b.findIndex(v=>v===r);if(g<=0)return;const _=b[g];b[g]=b[g-1],b[g-1]=_,N.set(t)}}function m(){if(r!==void 0&&t.storage.states.data[s].interactions.ordering.length>1){const b=t.storage.states.data[s].interactions.ordering,g=b.findIndex(v=>v===r);if(g===-1||g===t.storage.states.data[s].interactions.ordering.length-1)return;const _=b[g];b[g]=b[g+1],b[g+1]=_,N.set(t)}}function f(b){r=b,n(0,r)}return a.$$set=b=>{"selectedStateID"in b&&n(8,s=b.selectedStateID),"selectedInteractionID"in b&&n(0,r=b.selectedInteractionID),"class"in b&&n(1,l=b.class)},a.$$.update=()=>{a.$$.dirty&768&&t.storage.states.data[s]!==void 0&&(t.storage.states.data[s].interactions,n(2,c=i()))},[r,l,c,d,h,u,p,m,s,t,f]}class Ys extends ee{constructor(e){super(),Z(this,e,Js,Vs,Q,{selectedStateID:8,selectedInteractionID:0,class:1})}}function Gs(a){let e;return{c(){e=j("p"),e.textContent="Selected Interaction",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Xs(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;function f(D){a[7](D)}let b={label:"Development Name",placeholder:"Removing wrist restraints with knife"};a[3].storage.states.data[a[0]].interactions.data[a[1]].devName!==void 0&&(b.value=a[3].storage.states.data[a[0]].interactions.data[a[1]].devName),e=new be({props:b}),E.push(()=>P(e,"value",f));function g(D){a[8](D)}let _={class:"w-1/3",label:"Targeted Action",disabled:a[6]===!0,choicesData:a[4]};a[3].storage.states.data[a[0]].interactions.data[a[1]].action!==void 0&&(_.selected=a[3].storage.states.data[a[0]].interactions.data[a[1]].action),s=new he({props:_}),E.push(()=>P(s,"selected",g));function v(D){a[9](D)}let w={class:"w-1/2 truncate",label:"Component #1",disabled:a[6]===!0,choicesData:a[5]};a[3].storage.states.data[a[0]].interactions.data[a[1]].components[0]!==void 0&&(w.selected=a[3].storage.states.data[a[0]].interactions.data[a[1]].components[0]),i=new he({props:w}),E.push(()=>P(i,"selected",v));function R(D){a[10](D)}let z={class:"grow truncate",label:"Component #2",disabled:a[6]===!0||a[2]===!1,choicesData:a[5]};return a[3].storage.states.data[a[0]].interactions.data[a[1]].components[1]!==void 0&&(z.selected=a[3].storage.states.data[a[0]].interactions.data[a[1]].components[1]),u=new he({props:z}),E.push(()=>P(u,"selected",R)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment),l=O(),c=j("div"),L(i.$$.fragment),h=O(),L(u.$$.fragment),o(c,"class","flex flex-row space-x-6")},m(D,H){S(e,D,H),C(D,t,H),S(s,D,H),C(D,l,H),C(D,c,H),S(i,c,null),$(c,h),S(u,c,null),m=!0},p(D,H){const Y={};!n&&H&11&&(n=!0,Y.value=D[3].storage.states.data[D[0]].interactions.data[D[1]].devName,T(()=>n=!1)),e.$set(Y);const ae={};H&64&&(ae.disabled=D[6]===!0),H&16&&(ae.choicesData=D[4]),!r&&H&11&&(r=!0,ae.selected=D[3].storage.states.data[D[0]].interactions.data[D[1]].action,T(()=>r=!1)),s.$set(ae);const x={};H&64&&(x.disabled=D[6]===!0),H&32&&(x.choicesData=D[5]),!d&&H&11&&(d=!0,x.selected=D[3].storage.states.data[D[0]].interactions.data[D[1]].components[0],T(()=>d=!1)),i.$set(x);const X={};H&68&&(X.disabled=D[6]===!0||D[2]===!1),H&32&&(X.choicesData=D[5]),!p&&H&11&&(p=!0,X.selected=D[3].storage.states.data[D[0]].interactions.data[D[1]].components[1],T(()=>p=!1)),u.$set(X)},i(D){m||(k(e.$$.fragment,D),k(s.$$.fragment,D),k(i.$$.fragment,D),k(u.$$.fragment,D),m=!0)},o(D){I(e.$$.fragment,D),I(s.$$.fragment,D),I(i.$$.fragment,D),I(u.$$.fragment,D),m=!1},d(D){M(e,D),D&&y(t),M(s,D),D&&y(l),D&&y(c),M(i),M(u)}}}function Ks(a){let e,n,t;return n=new ce({props:{class:"h-full w-full min-h-0 overflow-y-auto",$$slots:{content:[Xs],header:[Gs]},$$scope:{ctx:a}}}),{c(){e=j("div"),L(n.$$.fragment),o(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(n,e,null),t=!0},p(s,[r]){const l={};r&2175&&(l.$$scope={dirty:r,ctx:s}),n.$set(l)},i(s){t||(k(n.$$.fragment,s),t=!0)},o(s){I(n.$$.fragment,s),t=!1},d(s){s&&y(e),M(n)}}}function Qs(a,e,n){let t;ie(a,N,f=>n(3,t=f));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,l=[],c=[],i=!1,d;function h(f){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].devName,f)&&(t.storage.states.data[s].interactions.data[r].devName=f,N.set(t))}function u(f){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].action,f)&&(t.storage.states.data[s].interactions.data[r].action=f,N.set(t))}function p(f){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].components[0],f)&&(t.storage.states.data[s].interactions.data[r].components[0]=f,N.set(t))}function m(f){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].components[1],f)&&(t.storage.states.data[s].interactions.data[r].components[1]=f,N.set(t))}return a.$$set=f=>{"selectedStateID"in f&&n(0,s=f.selectedStateID),"selectedInteractionID"in f&&n(1,r=f.selectedInteractionID)},a.$$.update=()=>{if(a.$$.dirty&15&&t.storage.states.data[s].interactions.data[r]!==void 0){t.storage.states.data[s].interactions.data[r].action;const f=t.data.actions.data[t.storage.states.data[s].interactions.data[r].action];f!==void 0&&(n(2,i=f.two),i||J(N,t.storage.states.data[s].interactions.data[r].components[1]="",t))}if(a.$$.dirty&11&&(n(6,d=!1),t.storage.states.data[s].interactions.data[r]!==void 0)){for(const f of t.storage.states.data[s].interactions.data[r].criteria.ordering)if(t.storage.states.data[s].interactions.data[r].criteria.data[f].type==="exceededAttempts"){J(N,t.storage.states.data[s].interactions.data[r].action="",t),J(N,t.storage.states.data[s].interactions.data[r].components=["",""],t),n(6,d=!0);break}}a.$$.dirty&8&&(t.data.actions,n(4,l=[{key:"examine",display:"Examine",enabled:!0},...t.data.actions.ordering.map(f=>{const b=t.data.actions.data[f];return{key:b.id,display:b.name,enabled:!0}})])),a.$$.dirty&8&&(t.storage.restraints,t.storage.objects,n(5,c=[{key:"",display:"",enabled:!0},...t.data.restraintLocations.ordering.map(f=>{const b=t.data.restraintLocations.data[f];return{key:b.id,display:`(L) ${b.name}`,enabled:!0}}),...t.storage.restraints.ordering.map(f=>{const b=t.storage.restraints.data[f];return{key:b.id,display:`(R) ${b.devName}`,enabled:!0}}),...t.storage.objects.ordering.map(f=>{const b=t.storage.objects.data[f];return{key:b.id,display:`(O) ${b.devName}`,enabled:!0}})]))},[s,r,i,t,l,c,d,h,u,p,m]}class Zs extends ee{constructor(e){super(),Z(this,e,Qs,Ks,Q,{selectedStateID:0,selectedInteractionID:1})}}function el(a){let e,n,t=a[1].devName+"",s,r,l,c,i,d,h,u,p;return{c(){e=j("div"),n=j("p"),s=K(t),r=O(),l=j("div"),c=j("p"),i=K(a[0]),o(n,"class","text-left w-11/12 min-w-0 truncate"),o(c,"class",d=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(l,"class","flex flex-row items-center h-full"),o(e,"class",h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(m,f){C(m,e,f),$(e,n),$(n,s),$(e,r),$(e,l),$(l,c),$(c,i),u||(p=ge(e,"click",a[4]),u=!0)},p(m,[f]){f&2&&t!==(t=m[1].devName+"")&&ne(s,t),f&1&&ne(i,m[0]),f&4&&d!==(d=`text-center font-mono ${m[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(c,"class",d),f&12&&h!==(h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${m[3]} ${m[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",h)},i:A,o:A,d(m){m&&y(e),u=!1,p()}}}function tl(a,e,n){let{key:t}=e,{criteriaData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"criteriaData"in d&&n(1,s=d.criteriaData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class al extends ee{constructor(e){super(),Z(this,e,tl,el,Q,{key:0,criteriaData:1,selected:2,class:3})}}function nl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function sl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ll(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function rl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function il(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ol(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[3],$$slots:{default:[nl]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[4],$$slots:{default:[sl]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[5],$$slots:{default:[ll]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[6],$$slots:{default:[rl]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[7],$$slots:{default:[il]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Interaction Criteria",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&8192&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&8192&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&8192&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&8192&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&8192&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function cl(a){let e,n,t;function s(l){a[11](l)}let r={deselectable:!0,scrollingRadioData:a[2]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&4&&(i.scrollingRadioData=l[2]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function dl(a){let e,n;return e=new ce({props:{class:`shrink
    w-full min-h-0
    ${a[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[cl],header:[ol]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full min-h-0
    ${t[1]}`),s&8197&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function fl(a,e,n){let t;ie(a,N,g=>n(10,t=g));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedCriteriaID:l}=e,{class:c=""}=e,i;function d(){return t.storage.states.data[s].interactions.data[r].criteria.ordering.filter(g=>g!==void 0).map(g=>{const _=t.storage.states.data[s].interactions.data[r].criteria.data[g];return{key:_.id,component:al,props:{criteriaData:_}}})}function h(){const g=we($e);J(N,t.storage.states.data[s].interactions.data[r].criteria.data[g]={id:g,devName:"",type:"flagEquals",args:[]},t),t.storage.states.data[s].interactions.data[r].criteria.ordering.push(g),N.set(t)}function u(){if(l!==void 0){const g=t.storage.states.data[s].interactions.data[r].criteria.ordering.indexOf(l),_=t.storage.states.data[s].interactions.data[r].criteria.data[l],v=JSON.parse(JSON.stringify(_)),w=we($e);v.id=w,J(N,t.storage.states.data[s].interactions.data[r].criteria.data[w]=v,t),t.storage.states.data[s].interactions.data[r].criteria.ordering.splice(g+1,0,w),N.set(t),n(0,l=w)}}function p(){var g,_;if(l!==void 0){const v=l;n(0,l=void 0);const w=t.storage.states.data[s].interactions.data[r].criteria.ordering,R=w.findIndex(z=>z===v);for(let z=R;z<w.length-1;z++)w[z]=(g=w[z+1])!=null?g:void 0;w.pop(),n(0,l=(_=w[R])!=null?_:w[R-1]),delete t.storage.states.data[s].interactions.data[r].criteria.data[v],N.set(t)}}function m(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].criteria.ordering.length>1){const g=t.storage.states.data[s].interactions.data[r].criteria.ordering,_=g.findIndex(w=>w===l);if(_<=0)return;const v=g[_];g[_]=g[_-1],g[_-1]=v,N.set(t)}}function f(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].criteria.ordering.length>1){const g=t.storage.states.data[s].interactions.data[r].criteria.ordering,_=g.findIndex(w=>w===l);if(_===-1||_===t.storage.states.data[s].interactions.data[r].criteria.ordering.length-1)return;const v=g[_];g[_]=g[_-1],g[_-1]=v,N.set(t)}}function b(g){l=g,n(0,l),n(9,r)}return a.$$set=g=>{"selectedStateID"in g&&n(8,s=g.selectedStateID),"selectedInteractionID"in g&&n(9,r=g.selectedInteractionID),"selectedCriteriaID"in g&&n(0,l=g.selectedCriteriaID),"class"in g&&n(1,c=g.class)},a.$$.update=()=>{a.$$.dirty&1792&&t.storage.states.data[s].interactions.data[r]!==void 0&&(t.storage.states.data[s].interactions.data[r].criteria,n(2,i=d())),a.$$.dirty&512&&n(0,l=void 0)},[l,c,i,h,u,p,m,f,s,r,t,b]}class ul extends ee{constructor(e){super(),Z(this,e,fl,dl,Q,{selectedStateID:8,selectedInteractionID:9,selectedCriteriaID:0,class:1})}}function gl(a){let e,n,t=a[1].devName+"",s,r,l,c,i,d,h,u,p;return{c(){e=j("div"),n=j("p"),s=K(t),r=O(),l=j("div"),c=j("p"),i=K(a[0]),o(n,"class","text-left w-11/12 min-w-0 truncate"),o(c,"class",d=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(l,"class","flex flex-row items-center h-full"),o(e,"class",h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(m,f){C(m,e,f),$(e,n),$(n,s),$(e,r),$(e,l),$(l,c),$(c,i),u||(p=ge(e,"click",a[4]),u=!0)},p(m,[f]){f&2&&t!==(t=m[1].devName+"")&&ne(s,t),f&1&&ne(i,m[0]),f&4&&d!==(d=`text-center font-mono ${m[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(c,"class",d),f&12&&h!==(h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${m[3]} ${m[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",h)},i:A,o:A,d(m){m&&y(e),u=!1,p()}}}function pl(a,e,n){let{key:t}=e,{resultData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"resultData"in d&&n(1,s=d.resultData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class ml extends ee{constructor(e){super(),Z(this,e,pl,gl,Q,{key:0,resultData:1,selected:2,class:3})}}function bl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function _l(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function hl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function wl(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function $l(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function vl(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[3],$$slots:{default:[bl]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[4],$$slots:{default:[_l]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[5],$$slots:{default:[hl]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[6],$$slots:{default:[wl]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[7],$$slots:{default:[$l]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Interaction Results",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&8192&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&8192&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&8192&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&8192&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&8192&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function kl(a){let e,n,t;function s(l){a[11](l)}let r={deselectable:!0,scrollingRadioData:a[2]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&4&&(i.scrollingRadioData=l[2]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Dl(a){let e,n;return e=new ce({props:{class:`shrink
    w-full min-h-0
    ${a[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[kl],header:[vl]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full min-h-0
    ${t[1]}`),s&8197&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Il(a,e,n){let t;ie(a,N,g=>n(10,t=g));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedResultID:l}=e,{class:c=""}=e,i;function d(){return t.storage.states.data[s].interactions.data[r].results.ordering.filter(g=>g!==void 0).map(g=>{const _=t.storage.states.data[s].interactions.data[r].results.data[g];return{key:_.id,component:ml,props:{resultData:_}}})}function h(){const g=we($e);J(N,t.storage.states.data[s].interactions.data[r].results.data[g]={id:g,devName:"",type:"setFlag",args:[]},t),t.storage.states.data[s].interactions.data[r].results.ordering.push(g),N.set(t)}function u(){if(l!==void 0){const g=t.storage.states.data[s].interactions.data[r].results.ordering.indexOf(l),_=t.storage.states.data[s].interactions.data[r].results.data[l],v=JSON.parse(JSON.stringify(_)),w=we($e);v.id=w,J(N,t.storage.states.data[s].interactions.data[r].results.data[w]=v,t),t.storage.states.data[s].interactions.data[r].results.ordering.splice(g+1,0,w),N.set(t),n(0,l=w)}}function p(){var g,_;if(l!==void 0){const v=l;n(0,l=void 0);const w=t.storage.states.data[s].interactions.data[r].results.ordering,R=w.findIndex(z=>z===v);for(let z=R;z<w.length-1;z++)w[z]=(g=w[z+1])!=null?g:void 0;w.pop(),n(0,l=(_=w[R])!=null?_:w[R-1]),delete t.storage.states.data[s].interactions.data[r].results.data[v],N.set(t)}}function m(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].results.ordering.length>1){const g=t.storage.states.data[s].interactions.data[r].results.ordering,_=g.findIndex(w=>w===l);if(_<=0)return;const v=g[_];g[_]=g[_-1],g[_-1]=v,N.set(t)}}function f(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].results.ordering.length>1){const g=t.storage.states.data[s].interactions.data[r].results.ordering,_=g.findIndex(w=>w===l);if(_===-1||_===t.storage.states.data[s].interactions.data[r].results.ordering.length-1)return;const v=g[_];g[_]=g[_-1],g[_-1]=v,N.set(t)}}function b(g){l=g,n(0,l),n(9,r)}return a.$$set=g=>{"selectedStateID"in g&&n(8,s=g.selectedStateID),"selectedInteractionID"in g&&n(9,r=g.selectedInteractionID),"selectedResultID"in g&&n(0,l=g.selectedResultID),"class"in g&&n(1,c=g.class)},a.$$.update=()=>{a.$$.dirty&1792&&t.storage.states.data[s].interactions.data[r]!==void 0&&(t.storage.states.data[s].interactions.data[r].results,n(2,i=d())),a.$$.dirty&512&&n(0,l=void 0)},[l,c,i,h,u,p,m,f,s,r,t,b]}class jl extends ee{constructor(e){super(),Z(this,e,Il,Dl,Q,{selectedStateID:8,selectedInteractionID:9,selectedResultID:0,class:1})}}function yl(a){let e;return{c(){e=j("p"),e.textContent="Selected Criteria",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Cl(a){let e,n,t;function s(l){a[15](l)}let r={class:"w-1/5",label:"Attempts"};return a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]!==void 0&&(r.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]),e=new Ha({props:r}),E.push(()=>P(e,"value",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};!n&&c&23&&(n=!0,i.value=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Sl(a){let e,n,t;function s(l){a[14](l)}let r={class:"w-1/2",label:"Object",disabled:!1,choicesData:a[6]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]!==void 0&&(r.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&64&&(i.choicesData=l[6]),!n&&c&23&&(n=!0,i.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ml(a){let e,n,t;function s(l){a[13](l)}let r={class:"w-1/2",label:"Restraint",disabled:!1,choicesData:a[5]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]!==void 0&&(r.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&32&&(i.choicesData=l[5]),!n&&c&23&&(n=!0,i.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ll(a){let e,n,t,s,r,l;function c(u){a[11](u)}let i={class:"w-1/2",label:"Flag Name",placeholder:"pushedButton"};a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]!==void 0&&(i.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[0]),e=new be({props:i}),E.push(()=>P(e,"value",c));function d(u){a[12](u)}let h={class:"w-1/2",label:"Flag Value",placeholder:"true"};return a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[1]!==void 0&&(h.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].args[1]),s=new be({props:h}),E.push(()=>P(s,"value",d)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment)},m(u,p){S(e,u,p),C(u,t,p),S(s,u,p),l=!0},p(u,p){const m={};!n&&p&23&&(n=!0,m.value=u[4].storage.states.data[u[0]].interactions.data[u[1]].criteria.data[u[2]].args[0],T(()=>n=!1)),e.$set(m);const f={};!r&&p&23&&(r=!0,f.value=u[4].storage.states.data[u[0]].interactions.data[u[1]].criteria.data[u[2]].args[1],T(()=>r=!1)),s.$set(f)},i(u){l||(k(e.$$.fragment,u),k(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){M(e,u),u&&y(t),M(s,u)}}}function Ol(a){let e,n,t,s,r,l,c,i,d,h,u;function p(w){a[9](w)}let m={class:"w-full",label:"Development Name",placeholder:"Pushed Button"};a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].devName!==void 0&&(m.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].devName),n=new be({props:m}),E.push(()=>P(n,"value",p));function f(w){a[10](w)}let b={class:"w-1/2",label:"Criteria Type",disabled:!1,choicesData:a[7]};a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].type!==void 0&&(b.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].criteria.data[a[2]].type),r=new he({props:b}),E.push(()=>P(r,"selected",f));const g=[Ll,Ml,Sl,Cl],_=[];function v(w,R){return w[3]==="flagEquals"||w[3]==="flagNotEquals"?0:w[3]==="restraintWearing"||w[3]==="restraintNotWearing"?1:w[3]==="objectFound"||w[3]==="objectNotFound"?2:w[3]==="exceededAttempts"?3:-1}return~(i=v(a))&&(d=_[i]=g[i](a)),{c(){e=j("div"),L(n.$$.fragment),s=O(),L(r.$$.fragment),c=O(),d&&d.c(),h=Se(),o(e,"class","mb-4 space-y-2")},m(w,R){C(w,e,R),S(n,e,null),$(e,s),S(r,e,null),C(w,c,R),~i&&_[i].m(w,R),C(w,h,R),u=!0},p(w,R){const z={};!t&&R&23&&(t=!0,z.value=w[4].storage.states.data[w[0]].interactions.data[w[1]].criteria.data[w[2]].devName,T(()=>t=!1)),n.$set(z);const D={};!l&&R&23&&(l=!0,D.selected=w[4].storage.states.data[w[0]].interactions.data[w[1]].criteria.data[w[2]].type,T(()=>l=!1)),r.$set(D);let H=i;i=v(w),i===H?~i&&_[i].p(w,R):(d&&(le(),I(_[H],1,1,()=>{_[H]=null}),re()),~i?(d=_[i],d?d.p(w,R):(d=_[i]=g[i](w),d.c()),k(d,1),d.m(h.parentNode,h)):d=null)},i(w){u||(k(n.$$.fragment,w),k(r.$$.fragment,w),k(d),u=!0)},o(w){I(n.$$.fragment,w),I(r.$$.fragment,w),I(d),u=!1},d(w){w&&y(e),M(n),M(r),w&&y(c),~i&&_[i].d(w),w&&y(h)}}}function Rl(a){let e,n,t;return n=new ce({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[Ol],header:[yl]},$$scope:{ctx:a}}}),{c(){e=j("div"),L(n.$$.fragment),o(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(n,e,null),t=!0},p(s,[r]){const l={};r&65663&&(l.$$scope={dirty:r,ctx:s}),n.$set(l)},i(s){t||(k(n.$$.fragment,s),t=!0)},o(s){I(n.$$.fragment,s),t=!1},d(s){s&&y(e),M(n)}}}function Nl(a,e,n){let t;ie(a,N,w=>n(4,t=w));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedCriteriaID:l}=e,c=[{key:"flagEquals",display:"Flag equals",enabled:!0},{key:"flagNotEquals",display:"Flag doesn't equal",enabled:!0},{key:"restraintWearing",display:"Wearing restraint",enabled:!0},{key:"restraintNotWearing",display:"Not wearing restraint",enabled:!0},{key:"objectFound",display:"Object found",enabled:!0},{key:"objectNotFound",display:"Object not found",enabled:!0},{key:"exceededAttempts",display:"Exceeded attempts",enabled:!0}],i=[],d=[],h,u;function p(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].devName,w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].devName=w,N.set(t))}function m(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].type,w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].type=w,N.set(t))}function f(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=w,N.set(t))}function b(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[1],w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[1]=w,N.set(t))}function g(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=w,N.set(t))}function _(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=w,N.set(t))}function v(w){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],w)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=w,N.set(t))}return a.$$set=w=>{"selectedStateID"in w&&n(0,s=w.selectedStateID),"selectedInteractionID"in w&&n(1,r=w.selectedInteractionID),"selectedCriteriaID"in w&&n(2,l=w.selectedCriteriaID)},a.$$.update=()=>{if(a.$$.dirty&287&&t.storage.states.data[s].interactions.data[r].criteria.data[l]!==void 0){t.storage.states.data[s].interactions.data[r].criteria.data[l].type;const w=t.storage.states.data[s].interactions.data[r].criteria.data[l].type;u!==void 0&&w!==void 0&&u!==w&&h===l&&J(N,t.storage.states.data[s].interactions.data[r].criteria.data[l].args=[],t),n(3,u=t.storage.states.data[s].interactions.data[r].criteria.data[l].type),n(8,h=l)}a.$$.dirty&16&&(t.storage.restraints,n(5,i=t.storage.restraints.ordering.map(w=>{const R=t.storage.restraints.data[w];return{key:R.id,display:R.devName,enabled:!0}}))),a.$$.dirty&16&&(t.storage.objects,n(6,d=t.storage.objects.ordering.map(w=>{const R=t.storage.objects.data[w];return{key:R.id,display:R.devName,enabled:!0}})))},[s,r,l,u,t,i,d,c,h,p,m,f,b,g,_,v]}class xl extends ee{constructor(e){super(),Z(this,e,Nl,Rl,Q,{selectedStateID:0,selectedInteractionID:1,selectedCriteriaID:2})}}function Yt(a){let e,n;return e=new ce({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[Pl],header:[Al]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&8389631&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Al(a){let e;return{c(){e=j("p"),e.textContent="Selected Result",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Bl(a){let e,n,t;function s(l){a[22](l)}let r={class:"w-full",label:"Dialog Text",placeholder:"While struggling in your restraints, you fail to notice the door opening behind you...",rows:6};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(r.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new Ue({props:r}),E.push(()=>P(e,"value",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};!n&&c&23&&(n=!0,i.value=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Hl(a){let e,n,t,s,r,l;function c(u){a[20](u)}let i={class:"w-1/2",label:"Flag Name",placeholder:"pushedButton"};a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(i.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new be({props:i}),E.push(()=>P(e,"value",c));function d(u){a[21](u)}let h={class:"w-1/2",label:"Flag Value",placeholder:"true"};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[1]!==void 0&&(h.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[1]),s=new be({props:h}),E.push(()=>P(s,"value",d)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment)},m(u,p){S(e,u,p),C(u,t,p),S(s,u,p),l=!0},p(u,p){const m={};!n&&p&23&&(n=!0,m.value=u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[0],T(()=>n=!1)),e.$set(m);const f={};!r&&p&23&&(r=!0,f.value=u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[1],T(()=>r=!1)),s.$set(f)},i(u){l||(k(e.$$.fragment,u),k(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){M(e,u),u&&y(t),M(s,u)}}}function ql(a){let e,n,t,s,r,l;function c(u){a[18](u)}let i={class:"w-1/2",label:"State",disabled:!1,choicesData:a[8]};a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(i.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new he({props:i}),E.push(()=>P(e,"selected",c));function d(u){a[19](u)}let h={class:"w-1/2",label:"Starting Location",disabled:a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]===void 0||a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]==="",choicesData:a[9]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[1]!==void 0&&(h.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[1]),s=new he({props:h}),E.push(()=>P(s,"selected",d)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment)},m(u,p){S(e,u,p),C(u,t,p),S(s,u,p),l=!0},p(u,p){const m={};p&256&&(m.choicesData=u[8]),!n&&p&23&&(n=!0,m.selected=u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[0],T(()=>n=!1)),e.$set(m);const f={};p&23&&(f.disabled=u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[0]===void 0||u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[0]===""),p&512&&(f.choicesData=u[9]),!r&&p&23&&(r=!0,f.selected=u[4].storage.states.data[u[0]].interactions.data[u[1]].results.data[u[2]].args[1],T(()=>r=!1)),s.$set(f)},i(u){l||(k(e.$$.fragment,u),k(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){M(e,u),u&&y(t),M(s,u)}}}function zl(a){let e,n,t;function s(l){a[17](l)}let r={class:"w-1/2",label:"Minimap Location",disabled:!1,choicesData:a[7]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(r.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&128&&(i.choicesData=l[7]),!n&&c&23&&(n=!0,i.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function El(a){let e,n,t;function s(l){a[16](l)}let r={class:"w-1/2",label:"Object",disabled:!1,choicesData:a[6]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(r.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&64&&(i.choicesData=l[6]),!n&&c&23&&(n=!0,i.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Tl(a){let e,n,t;function s(l){a[15](l)}let r={class:"w-1/2",label:"Restraint",disabled:!1,choicesData:a[5]};return a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]!==void 0&&(r.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].args[0]),e=new he({props:r}),E.push(()=>P(e,"selected",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&32&&(i.choicesData=l[5]),!n&&c&23&&(n=!0,i.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Pl(a){let e,n,t,s,r,l,c,i,d,h,u;function p(w){a[13](w)}let m={class:"w-full",label:"Development Name",placeholder:"Set pushButton true"};a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].devName!==void 0&&(m.value=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].devName),n=new be({props:m}),E.push(()=>P(n,"value",p));function f(w){a[14](w)}let b={class:"w-1/2",label:"Result Type",disabled:!1,choicesData:a[10]};a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].type!==void 0&&(b.selected=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]].type),r=new he({props:b}),E.push(()=>P(r,"selected",f));const g=[Tl,El,zl,ql,Hl,Bl],_=[];function v(w,R){return w[3]==="restraintAdd"||w[3]==="restraintRemove"?0:w[3]==="objectReveal"||w[3]==="objectHide"?1:w[3]==="locationAdd"||w[3]==="locationRemove"?2:w[3]==="setState"?3:w[3]==="setFlag"?4:w[3]==="popupDialog"?5:-1}return~(i=v(a))&&(d=_[i]=g[i](a)),{c(){e=j("div"),L(n.$$.fragment),s=O(),L(r.$$.fragment),c=O(),d&&d.c(),h=Se(),o(e,"class","mb-4 space-y-2")},m(w,R){C(w,e,R),S(n,e,null),$(e,s),S(r,e,null),C(w,c,R),~i&&_[i].m(w,R),C(w,h,R),u=!0},p(w,R){const z={};!t&&R&23&&(t=!0,z.value=w[4].storage.states.data[w[0]].interactions.data[w[1]].results.data[w[2]].devName,T(()=>t=!1)),n.$set(z);const D={};!l&&R&23&&(l=!0,D.selected=w[4].storage.states.data[w[0]].interactions.data[w[1]].results.data[w[2]].type,T(()=>l=!1)),r.$set(D);let H=i;i=v(w),i===H?~i&&_[i].p(w,R):(d&&(le(),I(_[H],1,1,()=>{_[H]=null}),re()),~i?(d=_[i],d?d.p(w,R):(d=_[i]=g[i](w),d.c()),k(d,1),d.m(h.parentNode,h)):d=null)},i(w){u||(k(n.$$.fragment,w),k(r.$$.fragment,w),k(d),u=!0)},o(w){I(n.$$.fragment,w),I(r.$$.fragment,w),I(d),u=!1},d(w){w&&y(e),M(n),M(r),w&&y(c),~i&&_[i].d(w),w&&y(h)}}}function Ul(a){let e,n,t=a[4].storage.states.data[a[0]].interactions.data[a[1]].results.data[a[2]]!==void 0&&Yt(a);return{c(){e=j("div"),t&&t.c(),o(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),t&&t.m(e,null),n=!0},p(s,[r]){s[4].storage.states.data[s[0]].interactions.data[s[1]].results.data[s[2]]!==void 0?t?(t.p(s,r),r&23&&k(t,1)):(t=Yt(s),t.c(),k(t,1),t.m(e,null)):t&&(le(),I(t,1,1,()=>{t=null}),re())},i(s){n||(k(t),n=!0)},o(s){I(t),n=!1},d(s){s&&y(e),t&&t.d()}}}function Wl(a,e,n){let t;ie(a,N,x=>n(4,t=x));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedResultID:l}=e,c=[{key:"restraintAdd",display:"Add restraint",enabled:!0},{key:"restraintRemove",display:"Remove restraint",enabled:!0},{key:"objectReveal",display:"Add object",enabled:!0},{key:"objectHide",display:"Remove object",enabled:!0},{key:"locationAdd",display:"Add location",enabled:!0},{key:"locationRemove",display:"Remove location",enabled:!0},{key:"setState",display:"Set state",enabled:!0},{key:"setFlag",display:"Set flag",enabled:!0},{key:"popupDialog",display:"Show dialog",enabled:!0},{key:"resetAttempts",display:"Reset attempts",enabled:!0}],i=[],d=[],h=[],u=[],p,m=[],f,b;function g(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].devName,x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].devName=x,N.set(t))}function _(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].type,x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].type=x,N.set(t))}function v(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}function w(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}function R(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}function z(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}function D(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[1],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[1]=x,N.set(t))}function H(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}function Y(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[1],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[1]=x,N.set(t))}function ae(x){a.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],x)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=x,N.set(t))}return a.$$set=x=>{"selectedStateID"in x&&n(0,s=x.selectedStateID),"selectedInteractionID"in x&&n(1,r=x.selectedInteractionID),"selectedResultID"in x&&n(2,l=x.selectedResultID)},a.$$.update=()=>{if(a.$$.dirty&4127&&t.storage.states.data[s].interactions.data[r].results.data[l]!==void 0){t.storage.states.data[s].interactions.data[r].results.data[l].type;const x=t.storage.states.data[s].interactions.data[r].results.data[l].type;b!==void 0&&x!==void 0&&b!==x&&f===l&&J(N,t.storage.states.data[s].interactions.data[r].results.data[l].args=[],t),n(3,b=t.storage.states.data[s].interactions.data[r].results.data[l].type),n(12,f=l)}if(a.$$.dirty&16&&(t.storage.restraints,n(5,i=t.storage.restraints.ordering.map(x=>{const X=t.storage.restraints.data[x];return{key:X.id,display:X.devName,enabled:!0}}))),a.$$.dirty&16&&(t.storage.objects,n(6,d=t.storage.objects.ordering.map(x=>{const X=t.storage.objects.data[x];return{key:X.id,display:X.devName,enabled:!0}}))),a.$$.dirty&17&&(t.storage.states,n(7,h=t.storage.states.data[s].locations.ordering.map(x=>{const X=t.storage.states.data[s].locations.data[x];return{key:X.id,display:X.devName,enabled:!0}}))),a.$$.dirty&16&&(t.storage.states,n(8,u=t.storage.states.ordering.map(x=>{const X=t.storage.states.data[x];return{key:X.id,display:X.title,enabled:!0}}))),a.$$.dirty&2079&&(t.storage.states,t.storage.states.data[s].interactions.data[r].results.data[l],t.storage.states.data[s].interactions.data[r].results.data[l]!==void 0))if(b==="setState"){t.storage.states.data[s].interactions.data[r].results.data[l].args[0]!==p&&n(11,p=t.storage.states.data[s].interactions.data[r].results.data[l].args[0]);const x=t.storage.states.data[p];x!==void 0?n(9,m=[{key:"",display:"",enabled:!0},...x.locations.ordering.map(X=>{const ye=x.locations.data[X];return{key:ye.id,display:ye.devName,enabled:!0}})]):n(9,m=[{key:"",display:"",enabled:!0}])}else n(11,p=void 0)},[s,r,l,b,t,i,d,h,u,m,c,p,f,g,_,v,w,R,z,D,H,Y,ae]}class Fl extends ee{constructor(e){super(),Z(this,e,Wl,Ul,Q,{selectedStateID:0,selectedInteractionID:1,selectedResultID:2})}}function Vl(a){let e,n,t,s,r,l,c,i,d,h;function u(g){a[6](g)}let p={selectedStateID:a[0]};a[1]!==void 0&&(p.selectedInteractionID=a[1]),t=new Ys({props:p}),E.push(()=>P(t,"selectedInteractionID",u));let m=a[1]!==void 0&&Gt(a),f=a[1]!==void 0&&Xt(a),b=a[1]!==void 0&&Qt(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),r=O(),m&&m.c(),l=O(),c=j("div"),f&&f.c(),i=O(),d=j("div"),b&&b.c(),o(n,"class","grow flex flex-col space-y-4 h-full"),o(c,"class","flex flex-col space-y-4 h-full"),me(c,"width","30%"),me(c,"min-width","30%"),o(d,"class","flex flex-col space-y-4 h-full"),me(d,"width","30%"),me(d,"min-width","30%"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(g,_){C(g,e,_),$(e,n),S(t,n,null),$(n,r),m&&m.m(n,null),$(e,l),$(e,c),f&&f.m(c,null),$(e,i),$(e,d),b&&b.m(d,null),h=!0},p(g,_){const v={};_&1&&(v.selectedStateID=g[0]),!s&&_&2&&(s=!0,v.selectedInteractionID=g[1],T(()=>s=!1)),t.$set(v),g[1]!==void 0?m?(m.p(g,_),_&2&&k(m,1)):(m=Gt(g),m.c(),k(m,1),m.m(n,null)):m&&(le(),I(m,1,1,()=>{m=null}),re()),g[1]!==void 0?f?(f.p(g,_),_&2&&k(f,1)):(f=Xt(g),f.c(),k(f,1),f.m(c,null)):f&&(le(),I(f,1,1,()=>{f=null}),re()),g[1]!==void 0?b?(b.p(g,_),_&2&&k(b,1)):(b=Qt(g),b.c(),k(b,1),b.m(d,null)):b&&(le(),I(b,1,1,()=>{b=null}),re())},i(g){h||(k(t.$$.fragment,g),k(m),k(f),k(b),h=!0)},o(g){I(t.$$.fragment,g),I(m),I(f),I(b),h=!1},d(g){g&&y(e),M(t),m&&m.d(),f&&f.d(),b&&b.d()}}}function Jl(a){let e,n,t,s=a[4].storage.states.data[a[0]].type+"",r,l,c,i;return{c(){e=j("div"),n=j("p"),t=K("Cannot setup interactions for "),r=K(s),l=K(" state"),c=O(),i=j("p"),i.textContent="Select another state from [States]",o(n,"class","text-2xl text-slate-300"),o(i,"class","text-2xl text-slate-300"),o(e,"class","flex flex-col justify-center w-full h-full")},m(d,h){C(d,e,h),$(e,n),$(n,t),$(n,r),$(n,l),$(e,c),$(e,i)},p(d,h){h&17&&s!==(s=d[4].storage.states.data[d[0]].type+"")&&ne(r,s)},i:A,o:A,d(d){d&&y(e)}}}function Yl(a){let e;return{c(){e=j("div"),e.innerHTML='<p class="text-2xl text-slate-300">Select a state from [States] first</p>',o(e,"class","flex flex-col justify-center w-full h-full")},m(n,t){C(n,e,t)},p:A,i:A,o:A,d(n){n&&y(e)}}}function Gt(a){let e,n;return e=new Zs({props:{selectedStateID:a[0],selectedInteractionID:a[1]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Xt(a){let e,n,t,s,r;function l(d){a[7](d)}let c={class:"h-1/3",selectedStateID:a[0],selectedInteractionID:a[1]};a[2]!==void 0&&(c.selectedCriteriaID=a[2]),e=new ul({props:c}),E.push(()=>P(e,"selectedCriteriaID",l));let i=a[2]!==void 0&&Kt(a);return{c(){L(e.$$.fragment),t=O(),i&&i.c(),s=Se()},m(d,h){S(e,d,h),C(d,t,h),i&&i.m(d,h),C(d,s,h),r=!0},p(d,h){const u={};h&1&&(u.selectedStateID=d[0]),h&2&&(u.selectedInteractionID=d[1]),!n&&h&4&&(n=!0,u.selectedCriteriaID=d[2],T(()=>n=!1)),e.$set(u),d[2]!==void 0?i?(i.p(d,h),h&4&&k(i,1)):(i=Kt(d),i.c(),k(i,1),i.m(s.parentNode,s)):i&&(le(),I(i,1,1,()=>{i=null}),re())},i(d){r||(k(e.$$.fragment,d),k(i),r=!0)},o(d){I(e.$$.fragment,d),I(i),r=!1},d(d){M(e,d),d&&y(t),i&&i.d(d),d&&y(s)}}}function Kt(a){let e,n;return e=new xl({props:{selectedStateID:a[0],selectedInteractionID:a[1],selectedCriteriaID:a[2]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),s&4&&(r.selectedCriteriaID=t[2]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Qt(a){let e,n,t,s,r;function l(d){a[8](d)}let c={class:"h-1/3",selectedStateID:a[0],selectedInteractionID:a[1]};a[3]!==void 0&&(c.selectedResultID=a[3]),e=new jl({props:c}),E.push(()=>P(e,"selectedResultID",l));let i=a[3]!==void 0&&Zt(a);return{c(){L(e.$$.fragment),t=O(),i&&i.c(),s=Se()},m(d,h){S(e,d,h),C(d,t,h),i&&i.m(d,h),C(d,s,h),r=!0},p(d,h){const u={};h&1&&(u.selectedStateID=d[0]),h&2&&(u.selectedInteractionID=d[1]),!n&&h&8&&(n=!0,u.selectedResultID=d[3],T(()=>n=!1)),e.$set(u),d[3]!==void 0?i?(i.p(d,h),h&8&&k(i,1)):(i=Zt(d),i.c(),k(i,1),i.m(s.parentNode,s)):i&&(le(),I(i,1,1,()=>{i=null}),re())},i(d){r||(k(e.$$.fragment,d),k(i),r=!0)},o(d){I(e.$$.fragment,d),I(i),r=!1},d(d){M(e,d),d&&y(t),i&&i.d(d),d&&y(s)}}}function Zt(a){let e,n;return e=new Fl({props:{selectedStateID:a[0],selectedInteractionID:a[1],selectedResultID:a[3]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),s&8&&(r.selectedResultID=t[3]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Gl(a){let e,n,t,s;const r=[Yl,Jl,Vl],l=[];function c(i,d){return i[0]===void 0?0:i[4].storage.states.data[i[0]].type==="opening"||i[4].storage.states.data[i[0]].type==="ending"?1:2}return e=c(a),n=l[e]=r[e](a),{c(){n.c(),t=Se()},m(i,d){l[e].m(i,d),C(i,t,d),s=!0},p(i,[d]){let h=e;e=c(i),e===h?l[e].p(i,d):(le(),I(l[h],1,1,()=>{l[h]=null}),re(),n=l[e],n?n.p(i,d):(n=l[e]=r[e](i),n.c()),k(n,1),n.m(t.parentNode,t))},i(i){s||(k(n),s=!0)},o(i){I(n),s=!1},d(i){l[e].d(i),i&&y(t)}}}function Xl(a,e,n){let t,s;ie(a,Qe,p=>n(0,t=p)),ie(a,N,p=>n(4,s=p));let r,l,c,i;function d(p){r=p,n(1,r),n(5,i),n(0,t)}function h(p){l=p,n(2,l),n(5,i),n(0,t)}function u(p){c=p,n(3,c),n(5,i),n(0,t)}return a.$$.update=()=>{a.$$.dirty&33&&i!==t&&(n(1,r=void 0),n(2,l=void 0),n(3,c=void 0),n(5,i=t))},[t,r,l,c,s,i,d,h,u]}class Kl extends ee{constructor(e){super(),Z(this,e,Xl,Gl,Q,{})}}function Ql(a){let e,n,t,s=a[1].initial===!0?"I":"",r,l,c,i,d=a[1].devName+"",h,u,p,m=a[1].name+"",f,b,g,_,v,w,R,z,D,H;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("div"),i=j("p"),h=K(d),u=O(),p=j("p"),f=K(m),g=O(),_=j("div"),v=j("p"),w=K(a[0]),o(t,"class","font-mono font-bold text-l w-4"),o(i,"class","h-6 text-left w-full min-w-0 truncate"),o(p,"class",b=`h-5 text-sm ${a[2]===!0?"text-slate-400":"text-slate-500"}`),o(c,"class","flex flex-col items-start w-9/12"),o(n,"class","grow flex flex-row items-center space-x-3 basis-0 shrink min-w-0"),o(v,"class",R=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(_,"class","flex flex-row items-center h-full"),o(e,"class",z=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(Y,ae){C(Y,e,ae),$(e,n),$(n,t),$(t,r),$(n,l),$(n,c),$(c,i),$(i,h),$(c,u),$(c,p),$(p,f),$(e,g),$(e,_),$(_,v),$(v,w),D||(H=ge(e,"click",a[4]),D=!0)},p(Y,[ae]){ae&2&&s!==(s=Y[1].initial===!0?"I":"")&&ne(r,s),ae&2&&d!==(d=Y[1].devName+"")&&ne(h,d),ae&2&&m!==(m=Y[1].name+"")&&ne(f,m),ae&4&&b!==(b=`h-5 text-sm ${Y[2]===!0?"text-slate-400":"text-slate-500"}`)&&o(p,"class",b),ae&1&&ne(w,Y[0]),ae&4&&R!==(R=`text-center font-mono ${Y[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(v,"class",R),ae&12&&z!==(z=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${Y[3]} ${Y[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",z)},i:A,o:A,d(Y){Y&&y(e),D=!1,H()}}}function Zl(a,e,n){let{key:t}=e,{objectData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"objectData"in d&&n(1,s=d.objectData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class er extends ee{constructor(e){super(),Z(this,e,Zl,Ql,Q,{key:0,objectData:1,selected:2,class:3})}}function tr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ar(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function nr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function sr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function lr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function rr(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[2],$$slots:{default:[tr]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[ar]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[4],$$slots:{default:[nr]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[sr]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[6],$$slots:{default:[lr]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Game Objects",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&1024&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&1024&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&1024&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&1024&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&1024&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function ir(a){let e,n,t;function s(l){a[8](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function or(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[ir],header:[rr]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function cr(a,e,n){let t;ie(a,N,m=>n(7,t=m));let{selectedObjectID:s}=e,r;function l(){return t.storage.objects.ordering.filter(m=>m!==void 0).map(m=>{const f=t.storage.objects.data[m];return{key:f.id,component:er,props:{objectData:f}}})}function c(){const m=we($e);J(N,t.storage.objects.data[m]={id:m,name:"",devName:"",examine:"",initial:!1},t),t.storage.objects.ordering.push(m),N.set(t)}function i(){if(s!==void 0){const m=t.storage.objects.ordering.indexOf(s),f=t.storage.objects.data[s],b=JSON.parse(JSON.stringify(f)),g=we($e);b.id=g,J(N,t.storage.objects.data[g]=b,t),t.storage.objects.ordering.splice(m+1,0,g),N.set(t),n(0,s=g)}}function d(){var m,f;if(s!==void 0){const b=s;n(0,s=void 0);const g=t.storage.objects.ordering,_=g.findIndex(v=>v===b);for(let v=_;v<g.length-1;v++)g[v]=(m=g[v+1])!=null?m:void 0;g.pop(),n(0,s=(f=g[_])!=null?f:g[_-1]),delete t.storage.objects.data[b],N.set(t)}}function h(){if(s!==void 0&&t.storage.objects.ordering.length>1){const m=t.storage.objects.ordering,f=m.findIndex(g=>g===s);if(f<=0)return;const b=m[f];m[f]=m[f-1],m[f-1]=b,N.set(t)}}function u(){if(s!==void 0&&t.storage.objects.ordering.length>1){const m=t.storage.objects.ordering,f=m.findIndex(g=>g===s);if(f===-1||f===t.storage.objects.ordering.length-1)return;const b=m[f];m[f]=m[f+1],m[f+1]=b,N.set(t)}}function p(m){s=m,n(0,s)}return a.$$set=m=>{"selectedObjectID"in m&&n(0,s=m.selectedObjectID)},a.$$.update=()=>{a.$$.dirty&128&&(t.storage.objects,n(1,r=l()))},[s,r,c,i,d,h,u,t,p]}class dr extends ee{constructor(e){super(),Z(this,e,cr,or,Q,{selectedObjectID:0})}}function fr(a){let e;return{c(){e=j("p"),e.textContent="Selected Object",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function ur(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;function f(D){a[2](D)}let b={class:"grow",label:"Development Name",placeholder:"Button (#1, incorrect)"};a[1].storage.objects.data[a[0]].devName!==void 0&&(b.value=a[1].storage.objects.data[a[0]].devName),n=new be({props:b}),E.push(()=>P(n,"value",f));function g(D){a[3](D)}let _={class:"w-1/2",label:"Name",placeholder:"Button"};a[1].storage.objects.data[a[0]].name!==void 0&&(_.value=a[1].storage.objects.data[a[0]].name),r=new be({props:_}),E.push(()=>P(r,"value",g));function v(D){a[4](D)}let w={class:"w-full",label:"Examine Description",placeholder:"One of many buttons dotting the wall - feeling lucky?",rows:6};a[1].storage.objects.data[a[0]].examine!==void 0&&(w.value=a[1].storage.objects.data[a[0]].examine),i=new Ue({props:w}),E.push(()=>P(i,"value",v));function R(D){a[5](D)}let z={label:"Initially Revealed"};return a[1].storage.objects.data[a[0]].initial!==void 0&&(z.value=a[1].storage.objects.data[a[0]].initial),u=new ft({props:z}),E.push(()=>P(u,"value",R)),{c(){e=j("div"),L(n.$$.fragment),s=O(),L(r.$$.fragment),c=O(),L(i.$$.fragment),h=O(),L(u.$$.fragment),o(e,"class","flex flex-row space-x-6")},m(D,H){C(D,e,H),S(n,e,null),$(e,s),S(r,e,null),C(D,c,H),S(i,D,H),C(D,h,H),S(u,D,H),m=!0},p(D,H){const Y={};!t&&H&3&&(t=!0,Y.value=D[1].storage.objects.data[D[0]].devName,T(()=>t=!1)),n.$set(Y);const ae={};!l&&H&3&&(l=!0,ae.value=D[1].storage.objects.data[D[0]].name,T(()=>l=!1)),r.$set(ae);const x={};!d&&H&3&&(d=!0,x.value=D[1].storage.objects.data[D[0]].examine,T(()=>d=!1)),i.$set(x);const X={};!p&&H&3&&(p=!0,X.value=D[1].storage.objects.data[D[0]].initial,T(()=>p=!1)),u.$set(X)},i(D){m||(k(n.$$.fragment,D),k(r.$$.fragment,D),k(i.$$.fragment,D),k(u.$$.fragment,D),m=!0)},o(D){I(n.$$.fragment,D),I(r.$$.fragment,D),I(i.$$.fragment,D),I(u.$$.fragment,D),m=!1},d(D){D&&y(e),M(n),M(r),D&&y(c),M(i,D),D&&y(h),M(u,D)}}}function gr(a){let e,n;return e=new ce({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[ur],header:[fr]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function pr(a,e,n){let t;ie(a,N,d=>n(1,t=d));let{selectedObjectID:s}=e;function r(d){a.$$.not_equal(t.storage.objects.data[s].devName,d)&&(t.storage.objects.data[s].devName=d,N.set(t))}function l(d){a.$$.not_equal(t.storage.objects.data[s].name,d)&&(t.storage.objects.data[s].name=d,N.set(t))}function c(d){a.$$.not_equal(t.storage.objects.data[s].examine,d)&&(t.storage.objects.data[s].examine=d,N.set(t))}function i(d){a.$$.not_equal(t.storage.objects.data[s].initial,d)&&(t.storage.objects.data[s].initial=d,N.set(t))}return a.$$set=d=>{"selectedObjectID"in d&&n(0,s=d.selectedObjectID)},[s,t,r,l,c,i]}class mr extends ee{constructor(e){super(),Z(this,e,pr,gr,Q,{selectedObjectID:0})}}function ea(a){let e,n;return e=new mr({props:{selectedObjectID:a[0]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedObjectID=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function br(a){let e,n,t,s,r,l,c;function i(u){a[1](u)}let d={};a[0]!==void 0&&(d.selectedObjectID=a[0]),t=new dr({props:d}),E.push(()=>P(t,"selectedObjectID",i));let h=a[0]!==void 0&&ea(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),r=O(),l=j("div"),h&&h.c(),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","30%"),o(l,"class","grow flex flex-col space-y-4 h-full"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(u,p){C(u,e,p),$(e,n),S(t,n,null),$(e,r),$(e,l),h&&h.m(l,null),c=!0},p(u,[p]){const m={};!s&&p&1&&(s=!0,m.selectedObjectID=u[0],T(()=>s=!1)),t.$set(m),u[0]!==void 0?h?(h.p(u,p),p&1&&k(h,1)):(h=ea(u),h.c(),k(h,1),h.m(l,null)):h&&(le(),I(h,1,1,()=>{h=null}),re())},i(u){c||(k(t.$$.fragment,u),k(h),c=!0)},o(u){I(t.$$.fragment,u),I(h),c=!1},d(u){u&&y(e),M(t),h&&h.d()}}}function _r(a,e,n){let t;function s(r){t=r,n(0,t)}return[t,s]}class hr extends ee{constructor(e){super(),Z(this,e,_r,br,Q,{})}}function wr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function $r(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M6 18L18 6M6 6l12 12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function vr(a){let e,n,t,s,r,l,c;return s=new G({props:{label:"Load Image",onclick:a[9],$$slots:{default:[wr]},$$scope:{ctx:a}}}),l=new G({props:{label:"Clear Image",onclick:a[10],$$slots:{default:[$r]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Minimap",n=O(),t=j("div"),L(s.$$.fragment),r=O(),L(l.$$.fragment),o(e,"class","text-slate-300 text-xl"),o(t,"class","flex flex-row space-x-2")},m(i,d){C(i,e,d),C(i,n,d),C(i,t,d),S(s,t,null),$(t,r),S(l,t,null),c=!0},p(i,d){const h={};d&134217728&&(h.$$scope={dirty:d,ctx:i}),s.$set(h);const u={};d&134217728&&(u.$$scope={dirty:d,ctx:i}),l.$set(u)},i(i){c||(k(s.$$.fragment,i),k(l.$$.fragment,i),c=!0)},o(i){I(s.$$.fragment,i),I(l.$$.fragment,i),c=!1},d(i){i&&y(e),i&&y(n),i&&y(t),M(s),M(l)}}}function ta(a){let e,n;return{c(){e=j("img"),o(e,"class","absolute h-full w-full object-contain"),me(e,"z-index","12"),xe(e.src,n=a[3].storage.images[a[3].storage.states.data[a[0]].locations.data[a[1]].minimapHash])||o(e,"src",n)},m(t,s){C(t,e,s)},p(t,s){s&11&&!xe(e.src,n=t[3].storage.images[t[3].storage.states.data[t[0]].locations.data[t[1]].minimapHash])&&o(e,"src",n)},d(t){t&&y(e)}}}function kr(a){let e,n,t,s,r,l,c=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapHash!==""&&ta(a);return{c(){e=j("div"),c&&c.c(),n=O(),t=j("canvas"),o(t,"class","absolute h-full w-full"),me(t,"z-index","14"),o(t,"width",a[7]),o(t,"height",a[8]),Pe(()=>a[18].call(t)),o(e,"class","border border-slate-600 minimap-display svelte-27tmv0")},m(i,d){C(i,e,d),c&&c.m(e,null),$(e,n),$(e,t),a[17](t),s=Na(t,a[18].bind(t)),r||(l=ge(t,"click",a[12]),r=!0)},p(i,d){i[3].storage.states.data[i[0]].locations.data[i[1]].minimapHash!==""?c?c.p(i,d):(c=ta(i),c.c(),c.m(e,n)):c&&(c.d(1),c=null),d&128&&o(t,"width",i[7]),d&256&&o(t,"height",i[8])},d(i){i&&y(e),c&&c.d(),a[17](null),s(),r=!1,l()}}}function Dr(a){let e;return{c(){e=j("div"),e.innerHTML="<p>Tip: To only show the popup dialog, don&#39;t assign a referenced object</p>",o(e,"class","flex flex-col items-center justify-center space-y-1 w-full h-full")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function aa(a){let e,n;return e=new ce({props:{class:"grow",$$slots:{content:[yr],header:[jr]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&134217791&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ir(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M6 18L18 6M6 6l12 12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function jr(a){let e,n,t,s,r;return s=new G({props:{label:"Clear",onclick:a[13],$$slots:{default:[Ir]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Selected Minimap Object",n=O(),t=j("div"),L(s.$$.fragment),o(e,"class","text-slate-300 text-xl"),o(t,"class","flex flex-row space-x-2")},m(l,c){C(l,e,c),C(l,n,c),C(l,t,c),S(s,t,null),r=!0},p(l,c){const i={};c&134217728&&(i.$$scope={dirty:c,ctx:l}),s.$set(i)},i(l){r||(k(s.$$.fragment,l),r=!0)},o(l){I(s.$$.fragment,l),r=!1},d(l){l&&y(e),l&&y(n),l&&y(t),M(s)}}}function yr(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;function g(x){a[19](x)}let _={class:"w-full",label:"Development Name",placeholder:"Knife on Table"};a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].devName!==void 0&&(_.value=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].devName),e=new be({props:_}),E.push(()=>P(e,"value",g));function v(x){a[20](x)}let w={class:"w-1/2",label:"Render Type",disabled:!1,choicesData:a[11]};a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].type!==void 0&&(w.selected=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].type),s=new he({props:w}),E.push(()=>P(s,"selected",v));function R(x){a[21](x)}let z={class:"w-2/3",label:"Referenced Object",disabled:!1,choicesData:a[4]};a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].object!==void 0&&(z.selected=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].object),c=new he({props:z}),E.push(()=>P(c,"selected",R));function D(x){a[22](x)}let H={class:"w-full",label:"Executed Interaction",disabled:!1,choicesData:a[5]};a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].interaction!==void 0&&(H.selected=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].interaction),h=new he({props:H}),E.push(()=>P(h,"selected",D));function Y(x){a[23](x)}let ae={class:"w-full",label:"Popup Dialog",placeholder:"You spy the key to your restraints resting on the floor, tauntingly just out of reach.",rows:8};return a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].dialog!==void 0&&(ae.value=a[3].storage.states.data[a[0]].locations.data[a[1]].minimapObjects.data[a[2]].dialog),m=new Ue({props:ae}),E.push(()=>P(m,"value",Y)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment),l=O(),L(c.$$.fragment),d=O(),L(h.$$.fragment),p=O(),L(m.$$.fragment)},m(x,X){S(e,x,X),C(x,t,X),S(s,x,X),C(x,l,X),S(c,x,X),C(x,d,X),S(h,x,X),C(x,p,X),S(m,x,X),b=!0},p(x,X){const ye={};!n&&X&15&&(n=!0,ye.value=x[3].storage.states.data[x[0]].locations.data[x[1]].minimapObjects.data[x[2]].devName,T(()=>n=!1)),e.$set(ye);const Be={};!r&&X&15&&(r=!0,Be.selected=x[3].storage.states.data[x[0]].locations.data[x[1]].minimapObjects.data[x[2]].type,T(()=>r=!1)),s.$set(Be);const W={};X&16&&(W.choicesData=x[4]),!i&&X&15&&(i=!0,W.selected=x[3].storage.states.data[x[0]].locations.data[x[1]].minimapObjects.data[x[2]].object,T(()=>i=!1)),c.$set(W);const se={};X&32&&(se.choicesData=x[5]),!u&&X&15&&(u=!0,se.selected=x[3].storage.states.data[x[0]].locations.data[x[1]].minimapObjects.data[x[2]].interaction,T(()=>u=!1)),h.$set(se);const _e={};!f&&X&15&&(f=!0,_e.value=x[3].storage.states.data[x[0]].locations.data[x[1]].minimapObjects.data[x[2]].dialog,T(()=>f=!1)),m.$set(_e)},i(x){b||(k(e.$$.fragment,x),k(s.$$.fragment,x),k(c.$$.fragment,x),k(h.$$.fragment,x),k(m.$$.fragment,x),b=!0)},o(x){I(e.$$.fragment,x),I(s.$$.fragment,x),I(c.$$.fragment,x),I(h.$$.fragment,x),I(m.$$.fragment,x),b=!1},d(x){M(e,x),x&&y(t),M(s,x),x&&y(l),M(c,x),x&&y(d),M(h,x),x&&y(p),M(m,x)}}}function Cr(a){let e,n,t,s,r,l,c,i;t=new ce({props:{$$slots:{content:[kr],header:[vr]},$$scope:{ctx:a}}}),r=new ce({props:{class:"grow",$$slots:{content:[Dr]},$$scope:{ctx:a}}});let d=a[2]!==void 0&&aa(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),s=O(),L(r.$$.fragment),l=O(),c=j("div"),d&&d.c(),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","55%"),o(c,"class","grow flex flex-col space-y-4"),o(e,"class","flex flex-row space-x-4 w-full h-full")},m(h,u){C(h,e,u),$(e,n),S(t,n,null),$(n,s),S(r,n,null),$(e,l),$(e,c),d&&d.m(c,null),i=!0},p(h,[u]){const p={};u&134218187&&(p.$$scope={dirty:u,ctx:h}),t.$set(p);const m={};u&134217728&&(m.$$scope={dirty:u,ctx:h}),r.$set(m),h[2]!==void 0?d?(d.p(h,u),u&4&&k(d,1)):(d=aa(h),d.c(),k(d,1),d.m(c,null)):d&&(le(),I(d,1,1,()=>{d=null}),re())},i(h){i||(k(t.$$.fragment,h),k(r.$$.fragment,h),k(d),i=!0)},o(h){I(t.$$.fragment,h),I(r.$$.fragment,h),I(d),i=!1},d(h){h&&y(e),M(t),M(r),d&&d.d()}}}function bt(a,e){return`rgba(${a==="red"?"255, 0, 0":"0, 255, 0"}, ${e})`}function Sr(a,e,n){let t;ie(a,N,W=>n(3,t=W));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,{selectedMinimapObjectID:l}=e;async function c(){const W=await Ba();if(W.startsWith("Cancelled")===!0)return;const se=t.storage.states.data[s].locations.data[r].minimapHash;delete t.storage.images[se];const _e=await dt(W);J(N,t.storage.images[_e]=W,t),J(N,t.storage.states.data[s].locations.data[r].minimapHash=_e,t),N.set(t)}async function i(){const W=t.storage.states.data[s].locations.data[r].minimapHash;delete t.storage.images[W],J(N,t.storage.states.data[s].locations.data[r].minimapHash="",t),N.set(t)}const d=[{key:"circle",display:"Circle",enabled:!0},{key:"vector",display:"Vector",enabled:!0}];let h=[],u=[],p,m,f,b;Ja(()=>{b=p.getContext("2d")});let g,_,v;function w(W,se,_e=!1){const ke=p.getBoundingClientRect();if(b.strokeStyle=bt(se,1),W.type==="vector"){for(const[Ce,[De,Ie]]of W.args.entries()){const je=Math.floor(De*ke.width),He=Math.floor(Ie*ke.height),ve=new Path2D;ve.arc(je,He,2,0,2*Math.PI),Ce===0&&se==="green"&&ve.arc(je,He,4,0,2*Math.PI),b.stroke(ve)}let Le=!0;const Oe=new Path2D;for(const[Ce,De]of[...W.args,W.args[0]]){const Ie=Math.floor(Ce*ke.width),je=Math.floor(De*ke.height);Le===!0?(Le=!1,Oe.moveTo(Ie,je)):Oe.lineTo(Ie,je)}b.fillStyle=bt(se,.2),b.lineWidth=2,_e===!0&&b.setLineDash([5,15]),b.stroke(Oe),b.fill(Oe),b.setLineDash([])}else{let[[Le,Oe],Ce]=W.args;const De=new Path2D,Ie=Math.floor(Le*ke.width),je=Math.floor(Oe*ke.height);if(Ce===void 0)De.arc(Ie,je,2,0,2*Math.PI);else{De.arc(Ie,je,1,0,2*Math.PI);const He=Math.floor(Ce[0]*ke.width),ve=Math.floor(Ce[1]*ke.height),fe=Math.sqrt(Math.pow(Ie-He,2)+Math.pow(je-ve,2));De.arc(Ie,je,fe,0,2*Math.PI)}b.fillStyle=bt(se,.2),b.lineWidth=2,_e===!0&&b.setLineDash([5,15]),b.stroke(De),b.fill(De),b.setLineDash([])}}function R(W,se){W.args[0]!==void 0&&(w(W,se,!1),se==="green"&&w(W,se,!0))}function z(W){if(b===void 0)return;b.clearRect(0,0,p.width,p.height);const se=t.storage.states.data[s].locations.data[r].minimapObjects.data[l];if(W!==void 0&&l!==void 0&&(se.type==="vector"||se.args[0]===void 0||se.args[1]===void 0)){const _e=p.getBoundingClientRect(),ke=Math.max(Math.floor(W.clientX-_e.left),0)/_e.width,Le=Math.max(Math.floor(W.clientY-_e.top),0)/_e.height;se.args.push([ke,Le])}for(const[_e,ke]of Object.entries(t.storage.states.data[s].locations.data[r].minimapObjects.data))_e!==l&&R(ke,"red");l!==void 0&&R(se,"green")}function D(){J(N,t.storage.states.data[s].locations.data[r].minimapObjects.data[l].args=[],t)}function H(W){E[W?"unshift":"push"](()=>{p=W,n(6,p)})}function Y(){m=this.clientWidth,f=this.clientHeight,n(7,m),n(8,f)}function ae(W){a.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].devName,W)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].devName=W,N.set(t))}function x(W){a.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type,W)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type=W,N.set(t))}function X(W){a.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].object,W)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].object=W,N.set(t))}function ye(W){a.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].interaction,W)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].interaction=W,N.set(t))}function Be(W){a.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].dialog,W)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].dialog=W,N.set(t))}return a.$$set=W=>{"selectedStateID"in W&&n(0,s=W.selectedStateID),"selectedMinimapLocationID"in W&&n(1,r=W.selectedMinimapLocationID),"selectedMinimapObjectID"in W&&n(2,l=W.selectedMinimapObjectID)},a.$$.update=()=>{if(a.$$.dirty&114703&&l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.data[l]!==void 0){t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type;const W=t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type;v!==void 0&&W!==void 0&&v!==W&&_===l&&g===s&&(J(N,t.storage.states.data[s].locations.data[r].minimapObjects.data[l].args=[],t),z()),n(16,v=t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type),n(14,g=s),n(15,_=l)}a.$$.dirty&8&&(t.storage.objects,n(4,h=[{key:"",display:"",enabled:!0},...t.storage.objects.ordering.map(W=>{const se=t.storage.objects.data[W];return{key:se.id,display:se.devName,enabled:!0}})])),a.$$.dirty&9&&(t.storage.states.data[s].interactions,n(5,u=[{key:"",display:"",enabled:!0},...t.storage.states.data[s].interactions.ordering.map(W=>{const se=t.storage.states.data[s].interactions.data[W];return{key:se.id,display:se.devName,enabled:!0}})])),a.$$.dirty&15&&(t.storage.states.data[s].locations,t.storage.states.data[s].locations.data[r].minimapObjects.data[l],setTimeout(z,5))},[s,r,l,t,h,u,p,m,f,c,i,d,z,D,g,_,v,H,Y,ae,x,X,ye,Be]}class Mr extends ee{constructor(e){super(),Z(this,e,Sr,Cr,Q,{selectedStateID:0,selectedMinimapLocationID:1,selectedMinimapObjectID:2})}}function Lr(a){let e,n,t,s=a[1].devName+"",r,l,c,i,d,h,u,p,m;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("div"),i=j("p"),d=K(a[0]),o(t,"class","text-left w-11/12 min-w-0 truncate"),o(n,"class","grow flex flex-row items-center space-x-2 h-full"),o(i,"class",h=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(c,"class","flex flex-row items-center h-full"),o(e,"class",u=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(f,b){C(f,e,b),$(e,n),$(n,t),$(t,r),$(e,l),$(e,c),$(c,i),$(i,d),p||(m=ge(e,"click",a[4]),p=!0)},p(f,[b]){b&2&&s!==(s=f[1].devName+"")&&ne(r,s),b&1&&ne(d,f[0]),b&4&&h!==(h=`text-center font-mono ${f[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(i,"class",h),b&12&&u!==(u=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${f[3]} ${f[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",u)},i:A,o:A,d(f){f&&y(e),p=!1,m()}}}function Or(a,e,n){let{key:t}=e,{minimapLocationData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"minimapLocationData"in d&&n(1,s=d.minimapLocationData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class Rr extends ee{constructor(e){super(),Z(this,e,Or,Lr,Q,{key:0,minimapLocationData:1,selected:2,class:3})}}function Nr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function xr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ar(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Br(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Hr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function qr(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[2],$$slots:{default:[Nr]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[xr]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[4],$$slots:{default:[Ar]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[Br]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[6],$$slots:{default:[Hr]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Minimap Locations",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&2048&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&2048&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&2048&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&2048&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&2048&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function zr(a){let e,n,t;function s(l){a[9](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Er(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[zr],header:[qr]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&2051&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Tr(a,e,n){let t;ie(a,N,f=>n(8,t=f));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,l;function c(){return t.storage.states.data[s].locations.ordering.filter(f=>f!==void 0).map(f=>{const b=t.storage.states.data[s].locations.data[f];return{key:b.id,component:Rr,props:{minimapLocationData:b}}})}function i(){const f=we($e);J(N,t.storage.states.data[s].locations.data[f]={id:f,name:"",devName:"",initial:!0,minimapB64:"",minimapObjects:{data:{},ordering:[]}},t),t.storage.states.data[s].locations.ordering.push(f),N.set(t)}function d(){if(r!==void 0){const f=t.storage.states.data[s].locations.ordering.indexOf(r),b=t.storage.states.data[s].locations.data[r],g=JSON.parse(JSON.stringify(b)),_=we($e);g.id=_,J(N,t.storage.states.data[s].locations.data[_]=g,t),t.storage.states.data[s].locations.ordering.splice(f+1,0,_),N.set(t),n(0,r=_)}}function h(){var f,b;if(r!==void 0){const g=r;n(0,r=void 0);const _=t.storage.states.data[s].locations.ordering,v=_.findIndex(w=>w===g);for(let w=v;w<_.length-1;w++)_[w]=(f=_[w+1])!=null?f:void 0;_.pop(),n(0,r=(b=_[v])!=null?b:_[v-1]),delete t.storage.states.data[s].locations.data[g],N.set(t)}}function u(){if(r!==void 0&&t.storage.states.data[s].locations.ordering.length>1){const f=t.storage.states.data[s].locations.ordering,b=f.findIndex(_=>_===r);if(b<=0)return;const g=f[b];f[b]=f[b-1],f[b-1]=g,N.set(t)}}function p(){if(r!==void 0&&t.storage.states.data[s].locations.ordering.length>1){const f=t.storage.states.data[s].locations.ordering,b=f.findIndex(_=>_===r);if(b===-1||b===t.storage.states.data[s].locations.ordering.length-1)return;const g=f[b];f[b]=f[b+1],f[b+1]=g,N.set(t)}}function m(f){r=f,n(0,r)}return a.$$set=f=>{"selectedStateID"in f&&n(7,s=f.selectedStateID),"selectedMinimapLocationID"in f&&n(0,r=f.selectedMinimapLocationID)},a.$$.update=()=>{a.$$.dirty&384&&(t.storage.states,t.storage.states.data[s].locations,n(1,l=c()))},[r,l,i,d,h,u,p,s,t,m]}class Pr extends ee{constructor(e){super(),Z(this,e,Tr,Er,Q,{selectedStateID:7,selectedMinimapLocationID:0})}}function Ur(a){let e;return{c(){e=j("p"),e.textContent="Selected Minimap Location",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Wr(a){let e,n,t,s,r,l,c,i,d,h,u,p;function m(w){a[3](w)}let f={class:"w-1/2",label:"Development Name",placeholder:"Bedroom"};a[2].storage.states.data[a[0]].locations.data[a[1]].devName!==void 0&&(f.value=a[2].storage.states.data[a[0]].locations.data[a[1]].devName),t=new be({props:f}),E.push(()=>P(t,"value",m));function b(w){a[4](w)}let g={class:"w-1/2",label:"Name",placeholder:"Bedroom (Blindfolded)"};a[2].storage.states.data[a[0]].locations.data[a[1]].name!==void 0&&(g.value=a[2].storage.states.data[a[0]].locations.data[a[1]].name),l=new be({props:g}),E.push(()=>P(l,"value",b));function _(w){a[5](w)}let v={label:"Initially Available"};return a[2].storage.states.data[a[0]].locations.data[a[1]].initial!==void 0&&(v.value=a[2].storage.states.data[a[0]].locations.data[a[1]].initial),h=new ft({props:v}),E.push(()=>P(h,"value",_)),{c(){e=j("div"),n=j("div"),L(t.$$.fragment),r=O(),L(l.$$.fragment),i=O(),d=j("div"),L(h.$$.fragment),o(n,"class","flex flex-row space-x-6"),o(d,"class","flex flex-row space-x-6"),o(e,"class","flex flex-col space-y-2")},m(w,R){C(w,e,R),$(e,n),S(t,n,null),$(n,r),S(l,n,null),$(e,i),$(e,d),S(h,d,null),p=!0},p(w,R){const z={};!s&&R&7&&(s=!0,z.value=w[2].storage.states.data[w[0]].locations.data[w[1]].devName,T(()=>s=!1)),t.$set(z);const D={};!c&&R&7&&(c=!0,D.value=w[2].storage.states.data[w[0]].locations.data[w[1]].name,T(()=>c=!1)),l.$set(D);const H={};!u&&R&7&&(u=!0,H.value=w[2].storage.states.data[w[0]].locations.data[w[1]].initial,T(()=>u=!1)),h.$set(H)},i(w){p||(k(t.$$.fragment,w),k(l.$$.fragment,w),k(h.$$.fragment,w),p=!0)},o(w){I(t.$$.fragment,w),I(l.$$.fragment,w),I(h.$$.fragment,w),p=!1},d(w){w&&y(e),M(t),M(l),M(h)}}}function Fr(a){let e,n,t;return n=new ce({props:{class:"h-full w-full min-h-0 overflow-y-auto",$$slots:{content:[Wr],header:[Ur]},$$scope:{ctx:a}}}),{c(){e=j("div"),L(n.$$.fragment),o(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(n,e,null),t=!0},p(s,[r]){const l={};r&71&&(l.$$scope={dirty:r,ctx:s}),n.$set(l)},i(s){t||(k(n.$$.fragment,s),t=!0)},o(s){I(n.$$.fragment,s),t=!1},d(s){s&&y(e),M(n)}}}function Vr(a,e,n){let t;ie(a,N,d=>n(2,t=d));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e;function l(d){a.$$.not_equal(t.storage.states.data[s].locations.data[r].devName,d)&&(t.storage.states.data[s].locations.data[r].devName=d,N.set(t))}function c(d){a.$$.not_equal(t.storage.states.data[s].locations.data[r].name,d)&&(t.storage.states.data[s].locations.data[r].name=d,N.set(t))}function i(d){a.$$.not_equal(t.storage.states.data[s].locations.data[r].initial,d)&&(t.storage.states.data[s].locations.data[r].initial=d,N.set(t))}return a.$$set=d=>{"selectedStateID"in d&&n(0,s=d.selectedStateID),"selectedMinimapLocationID"in d&&n(1,r=d.selectedMinimapLocationID)},[s,r,t,l,c,i]}class Jr extends ee{constructor(e){super(),Z(this,e,Vr,Fr,Q,{selectedStateID:0,selectedMinimapLocationID:1})}}function Yr(a){let e,n,t,s=a[1].type==="circle"?"C":"V",r,l,c,i=a[1].devName+"",d,h,u,p,m,f,b,g,_;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("p"),d=K(i),h=O(),u=j("div"),p=j("p"),m=K(a[0]),o(t,"class","text-left font-bold w-4"),o(c,"class","text-left w-11/12 min-w-0 truncate"),o(n,"class","grow flex flex-row items-center space-x-2 h-full"),o(p,"class",f=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(u,"class","flex flex-row items-center h-full"),o(e,"class",b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(v,w){C(v,e,w),$(e,n),$(n,t),$(t,r),$(n,l),$(n,c),$(c,d),$(e,h),$(e,u),$(u,p),$(p,m),g||(_=ge(e,"click",a[4]),g=!0)},p(v,[w]){w&2&&s!==(s=v[1].type==="circle"?"C":"V")&&ne(r,s),w&2&&i!==(i=v[1].devName+"")&&ne(d,i),w&1&&ne(m,v[0]),w&4&&f!==(f=`text-center font-mono ${v[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(p,"class",f),w&12&&b!==(b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${v[3]} ${v[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",b)},i:A,o:A,d(v){v&&y(e),g=!1,_()}}}function Gr(a,e,n){let{key:t}=e,{minimapObjectData:s}=e,{selected:r}=e,{class:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}return a.$$set=d=>{"key"in d&&n(0,t=d.key),"minimapObjectData"in d&&n(1,s=d.minimapObjectData),"selected"in d&&n(2,r=d.selected),"class"in d&&n(3,l=d.class)},[t,s,r,l,i]}class Xr extends ee{constructor(e){super(),Z(this,e,Gr,Yr,Q,{key:0,minimapObjectData:1,selected:2,class:3})}}function Kr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Qr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Zr(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ei(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ti(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function ai(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[2],$$slots:{default:[Kr]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[Qr]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[4],$$slots:{default:[Zr]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[ei]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[6],$$slots:{default:[ti]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Minimap Objects",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&2048&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&2048&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&2048&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&2048&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&2048&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function ni(a){let e,n,t;function s(l){a[10](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function si(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[ni],header:[ai]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&2051&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function li(a,e,n){let t;ie(a,N,f=>n(9,t=f));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,{selectedMinimapObjectID:l}=e,c;function i(){const f=we($e);J(N,t.storage.states.data[s].locations.data[r].minimapObjects.data[f]={id:f,devName:"",type:"circle",args:[],dialog:"",object:"",interaction:""},t),t.storage.states.data[s].locations.data[r].minimapObjects.ordering.push(f),N.set(t)}function d(){if(l!==void 0){const f=t.storage.states.data[s].locations.data[r].minimapObjects.ordering.indexOf(l),b=t.storage.states.data[s].locations.data[r].minimapObjects.data[l],g=JSON.parse(JSON.stringify(b)),_=we($e);g.id=_,J(N,t.storage.states.data[s].locations.data[r].minimapObjects.data[_]=g,t),t.storage.states.data[s].locations.data[r].minimapObjects.ordering.splice(f+1,0,_),N.set(t),n(0,l=_)}}function h(){var f,b;if(l!==void 0){const g=l;n(0,l=void 0);const _=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,v=_.findIndex(w=>w===g);for(let w=v;w<_.length-1;w++)_[w]=(f=_[w+1])!=null?f:void 0;_.pop(),n(0,l=(b=_[v])!=null?b:_[v-1]),delete t.storage.states.data[s].locations.data[r].minimapObjects.data[g],N.set(t)}}function u(){if(l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length>1){const f=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,b=f.findIndex(_=>_===l);if(b<=0)return;const g=f[b];f[b]=f[b-1],f[b-1]=g,N.set(t)}}function p(){if(l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length>1){const f=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,b=f.findIndex(_=>_===l);if(b===-1||b===t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length-1)return;const g=f[b];f[b]=f[b+1],f[b+1]=g,N.set(t)}}function m(f){l=f,n(0,l)}return a.$$set=f=>{"selectedStateID"in f&&n(7,s=f.selectedStateID),"selectedMinimapLocationID"in f&&n(8,r=f.selectedMinimapLocationID),"selectedMinimapObjectID"in f&&n(0,l=f.selectedMinimapObjectID)},a.$$.update=()=>{a.$$.dirty&896&&(t.storage.states,t.storage.states.data[s].locations,t.storage.states.data[s].locations.data[r].minimapObjects,n(1,c=t.storage.states.data[s].locations.data[r].minimapObjects.ordering.filter(f=>f!==void 0).map(f=>{const b=t.storage.states.data[s].locations.data[r].minimapObjects.data[f];return{key:b.id,component:Xr,props:{minimapObjectData:b}}})))},[l,c,i,d,h,u,p,s,r,t,m]}class ri extends ee{constructor(e){super(),Z(this,e,li,si,Q,{selectedStateID:7,selectedMinimapLocationID:8,selectedMinimapObjectID:0})}}function ii(a){let e,n,t,s,r,l,c,i,d,h,u,p;function m(v){a[6](v)}let f={selectedStateID:a[1]};a[0]!==void 0&&(f.selectedMinimapLocationID=a[0]),s=new Pr({props:f}),E.push(()=>P(s,"selectedMinimapLocationID",m));let b=a[0]!==void 0&&na(a),g=a[0]!==void 0&&sa(a),_=a[0]!==void 0&&la(a);return{c(){e=j("div"),n=j("div"),t=j("div"),L(s.$$.fragment),l=O(),c=j("div"),b&&b.c(),i=O(),d=j("div"),g&&g.c(),h=O(),u=j("div"),_&&_.c(),o(t,"class","flex flex-col h-1/4 w-full"),me(t,"min-height","25%"),o(c,"class","flex flex-col w-full"),o(d,"class","flex flex-col grow w-full min-h-0"),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","30%"),o(u,"class","grow flex flex-col space-y-4 h-full"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(v,w){C(v,e,w),$(e,n),$(n,t),S(s,t,null),$(n,l),$(n,c),b&&b.m(c,null),$(n,i),$(n,d),g&&g.m(d,null),$(e,h),$(e,u),_&&_.m(u,null),p=!0},p(v,w){const R={};w&2&&(R.selectedStateID=v[1]),!r&&w&1&&(r=!0,R.selectedMinimapLocationID=v[0],T(()=>r=!1)),s.$set(R),v[0]!==void 0?b?(b.p(v,w),w&1&&k(b,1)):(b=na(v),b.c(),k(b,1),b.m(c,null)):b&&(le(),I(b,1,1,()=>{b=null}),re()),v[0]!==void 0?g?(g.p(v,w),w&1&&k(g,1)):(g=sa(v),g.c(),k(g,1),g.m(d,null)):g&&(le(),I(g,1,1,()=>{g=null}),re()),v[0]!==void 0?_?(_.p(v,w),w&1&&k(_,1)):(_=la(v),_.c(),k(_,1),_.m(u,null)):_&&(le(),I(_,1,1,()=>{_=null}),re())},i(v){p||(k(s.$$.fragment,v),k(b),k(g),k(_),p=!0)},o(v){I(s.$$.fragment,v),I(b),I(g),I(_),p=!1},d(v){v&&y(e),M(s),b&&b.d(),g&&g.d(),_&&_.d()}}}function oi(a){let e,n,t,s=a[3].storage.states.data[a[1]].type+"",r,l,c,i;return{c(){e=j("div"),n=j("p"),t=K("Cannot setup minimap for "),r=K(s),l=K(" state"),c=O(),i=j("p"),i.textContent="Select another state from [States]",o(n,"class","text-2xl text-slate-300"),o(i,"class","text-2xl text-slate-300"),o(e,"class","flex flex-col justify-center w-full h-full")},m(d,h){C(d,e,h),$(e,n),$(n,t),$(n,r),$(n,l),$(e,c),$(e,i)},p(d,h){h&10&&s!==(s=d[3].storage.states.data[d[1]].type+"")&&ne(r,s)},i:A,o:A,d(d){d&&y(e)}}}function ci(a){let e;return{c(){e=j("div"),e.innerHTML='<p class="text-2xl text-slate-300">Select a state from [States] first</p>',o(e,"class","flex flex-col justify-center w-full h-full")},m(n,t){C(n,e,t)},p:A,i:A,o:A,d(n){n&&y(e)}}}function na(a){let e,n;return e=new Jr({props:{selectedStateID:a[1],selectedMinimapLocationID:a[0]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.selectedStateID=t[1]),s&1&&(r.selectedMinimapLocationID=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function sa(a){let e,n,t;function s(l){a[7](l)}let r={selectedStateID:a[1],selectedMinimapLocationID:a[0]};return a[2]!==void 0&&(r.selectedMinimapObjectID=a[2]),e=new ri({props:r}),E.push(()=>P(e,"selectedMinimapObjectID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.selectedStateID=l[1]),c&1&&(i.selectedMinimapLocationID=l[0]),!n&&c&4&&(n=!0,i.selectedMinimapObjectID=l[2],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function la(a){let e,n;return e=new Mr({props:{selectedStateID:a[1],selectedMinimapLocationID:a[0],selectedMinimapObjectID:a[2]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.selectedStateID=t[1]),s&1&&(r.selectedMinimapLocationID=t[0]),s&4&&(r.selectedMinimapObjectID=t[2]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function di(a){let e,n,t,s;const r=[ci,oi,ii],l=[];function c(i,d){return i[1]===void 0?0:i[3].storage.states.data[i[1]].type==="opening"||i[3].storage.states.data[i[1]].type==="intermediate"||i[3].storage.states.data[i[1]].type==="ending"?1:2}return e=c(a),n=l[e]=r[e](a),{c(){n.c(),t=Se()},m(i,d){l[e].m(i,d),C(i,t,d),s=!0},p(i,[d]){let h=e;e=c(i),e===h?l[e].p(i,d):(le(),I(l[h],1,1,()=>{l[h]=null}),re(),n=l[e],n?n.p(i,d):(n=l[e]=r[e](i),n.c()),k(n,1),n.m(t.parentNode,t))},i(i){s||(k(n),s=!0)},o(i){I(n),s=!1},d(i){l[e].d(i),i&&y(t)}}}function fi(a,e,n){let t,s;ie(a,Qe,u=>n(1,t=u)),ie(a,N,u=>n(3,s=u));let r,l,c,i;function d(u){l=u,n(0,l),n(4,c),n(5,i),n(1,t)}function h(u){r=u,n(2,r),n(4,c),n(5,i),n(1,t),n(0,l)}return a.$$.update=()=>{a.$$.dirty&51&&(c!==t&&(n(0,l=void 0),n(2,r=void 0),n(4,c=t)),i!==l&&(n(2,r=void 0),n(5,i=l)))},[l,t,r,s,c,i,d,h]}class ui extends ee{constructor(e){super(),Z(this,e,fi,di,Q,{})}}function gi(a){let e,n,t,s=a[1].devName+"",r,l,c,i,d,h,u,p,m,f,b,g,_;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("p"),i=K(a[4]),h=O(),u=j("div"),p=j("p"),m=K(a[0]),o(t,"class","h-6 text-left w-full min-w-0 truncate"),o(c,"class",d=`h-5 text-sm ${a[2]===!0?"text-slate-400":"text-slate-500"}`),o(n,"class","flex flex-col items-start w-9/12"),o(p,"class",f=`text-center font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(u,"class","flex flex-row items-center h-full"),o(e,"class",b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(v,w){C(v,e,w),$(e,n),$(n,t),$(t,r),$(n,l),$(n,c),$(c,i),$(e,h),$(e,u),$(u,p),$(p,m),g||(_=ge(e,"click",a[5]),g=!0)},p(v,[w]){w&2&&s!==(s=v[1].devName+"")&&ne(r,s),w&16&&ne(i,v[4]),w&4&&d!==(d=`h-5 text-sm ${v[2]===!0?"text-slate-400":"text-slate-500"}`)&&o(c,"class",d),w&1&&ne(m,v[0]),w&4&&f!==(f=`text-center font-mono ${v[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(p,"class",f),w&12&&b!==(b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${v[3]} ${v[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",b)},i:A,o:A,d(v){v&&y(e),g=!1,_()}}}function pi(a,e,n){let t;ie(a,N,u=>n(6,t=u));let{key:s}=e,{restraintData:r}=e,{selected:l}=e,{class:c}=e;const i=Me();function d(){i("dispatchClick",{key:s})}let h="";return a.$$set=u=>{"key"in u&&n(0,s=u.key),"restraintData"in u&&n(1,r=u.restraintData),"selected"in u&&n(2,l=u.selected),"class"in u&&n(3,c=u.class)},a.$$.update=()=>{if(a.$$.dirty&66){t.data.restraintLocations,t.storage.restraints;const u=t.data.restraintLocations.data[r.location];n(4,h=u!==void 0?u.name:"")}},[s,r,l,c,h,d,t]}class mi extends ee{constructor(e){super(),Z(this,e,pi,gi,Q,{key:0,restraintData:1,selected:2,class:3})}}function bi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function _i(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function hi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function wi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function $i(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function vi(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b;return r=new G({props:{onclick:a[2],$$slots:{default:[bi]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[_i]},$$scope:{ctx:a}}}),d=new G({props:{onclick:a[4],$$slots:{default:[hi]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[wi]},$$scope:{ctx:a}}}),f=new G({props:{onclick:a[6],$$slots:{default:[$i]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Game Restraints",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),L(d.$$.fragment),h=O(),u=j("div"),L(p.$$.fragment),m=O(),L(f.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(u,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,n,_),C(g,t,_),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(s,i),S(d,s,null),$(t,h),$(t,u),S(p,u,null),$(u,m),S(f,u,null),b=!0},p(g,_){const v={};_&1024&&(v.$$scope={dirty:_,ctx:g}),r.$set(v);const w={};_&1024&&(w.$$scope={dirty:_,ctx:g}),c.$set(w);const R={};_&1024&&(R.$$scope={dirty:_,ctx:g}),d.$set(R);const z={};_&1024&&(z.$$scope={dirty:_,ctx:g}),p.$set(z);const D={};_&1024&&(D.$$scope={dirty:_,ctx:g}),f.$set(D)},i(g){b||(k(r.$$.fragment,g),k(c.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(f.$$.fragment,g),b=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(d.$$.fragment,g),I(p.$$.fragment,g),I(f.$$.fragment,g),b=!1},d(g){g&&y(e),g&&y(n),g&&y(t),M(r),M(c),M(d),M(p),M(f)}}}function ki(a){let e,n,t;function s(l){a[8](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Di(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[ki],header:[vi]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ii(a,e,n){let t;ie(a,N,m=>n(7,t=m));let{selectedRestraintID:s}=e,r;function l(){return t.storage.restraints.ordering.filter(m=>m!==void 0).map(m=>{const f=t.storage.restraints.data[m];return{key:f.id,component:mi,props:{restraintData:f}}})}function c(){const m=we($e);J(N,t.storage.restraints.data[m]={id:m,devName:"",name:"",location:"",examine:""},t),t.storage.restraints.ordering.push(m),N.set(t)}function i(){if(s!==void 0){const m=t.storage.restraints.ordering.indexOf(s),f=t.storage.restraints.data[s],b=JSON.parse(JSON.stringify(f)),g=we($e);b.id=g,J(N,t.storage.restraints.data[g]=b,t),t.storage.restraints.ordering.splice(m+1,0,g),N.set(t),n(0,s=g)}}function d(){var m,f;if(s!==void 0){const b=s;n(0,s=void 0);const g=t.storage.restraints.ordering,_=g.findIndex(v=>v===b);for(let v=_;v<g.length-1;v++)g[v]=(m=g[v+1])!=null?m:void 0;g.pop(),n(0,s=(f=g[_])!=null?f:g[_-1]),delete t.storage.restraints.data[b],N.set(t)}}function h(){if(s!==void 0&&t.storage.restraints.ordering.length>1){const m=t.storage.restraints.ordering,f=m.findIndex(g=>g===s);if(f<=0)return;const b=m[f];m[f]=m[f-1],m[f-1]=b,N.set(t)}}function u(){if(s!==void 0&&t.storage.restraints.ordering.length>1){const m=t.storage.restraints.ordering,f=m.findIndex(g=>g===s);if(f===-1||f===t.storage.restraints.ordering.length-1)return;const b=m[f];m[f]=m[f+1],m[f+1]=b,N.set(t)}}function p(m){s=m,n(0,s)}return a.$$set=m=>{"selectedRestraintID"in m&&n(0,s=m.selectedRestraintID)},a.$$.update=()=>{a.$$.dirty&128&&(t.storage.restraints,n(1,r=l()))},[s,r,c,i,d,h,u,t,p]}class ji extends ee{constructor(e){super(),Z(this,e,Ii,Di,Q,{selectedRestraintID:0})}}function yi(a){let e;return{c(){e=j("p"),e.textContent="Selected Restraint Location",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Ci(a){let e,n,t,s,r,l;function c(u){a[3](u)}let i={class:"w-3/4",label:"Name",placeholder:"Head"};a[1].data.restraintLocations.data[a[0]].name!==void 0&&(i.value=a[1].data.restraintLocations.data[a[0]].name),e=new be({props:i}),E.push(()=>P(e,"value",c));function d(u){a[4](u)}let h={class:"w-3/4",label:"Initial Restraint",choicesData:a[2]};return a[1].data.restraintLocations.data[a[0]].initial!==void 0&&(h.selected=a[1].data.restraintLocations.data[a[0]].initial),s=new he({props:h}),E.push(()=>P(s,"selected",d)),{c(){L(e.$$.fragment),t=O(),L(s.$$.fragment)},m(u,p){S(e,u,p),C(u,t,p),S(s,u,p),l=!0},p(u,p){const m={};!n&&p&3&&(n=!0,m.value=u[1].data.restraintLocations.data[u[0]].name,T(()=>n=!1)),e.$set(m);const f={};p&4&&(f.choicesData=u[2]),!r&&p&3&&(r=!0,f.selected=u[1].data.restraintLocations.data[u[0]].initial,T(()=>r=!1)),s.$set(f)},i(u){l||(k(e.$$.fragment,u),k(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){M(e,u),u&&y(t),M(s,u)}}}function Si(a){let e,n;return e=new ce({props:{class:`grow shrink\r
    w-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Ci],header:[yi]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&39&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Mi(a,e,n){let t;ie(a,N,i=>n(1,t=i));let{selectedLocationID:s}=e,r=[];function l(i){a.$$.not_equal(t.data.restraintLocations.data[s].name,i)&&(t.data.restraintLocations.data[s].name=i,N.set(t))}function c(i){a.$$.not_equal(t.data.restraintLocations.data[s].initial,i)&&(t.data.restraintLocations.data[s].initial=i,N.set(t))}return a.$$set=i=>{"selectedLocationID"in i&&n(0,s=i.selectedLocationID)},a.$$.update=()=>{a.$$.dirty&3&&(t.storage.restraints,n(2,r=[{key:"",display:"",enabled:!0},...t.storage.restraints.ordering.filter(i=>t.storage.restraints.data[i].location===s).map(i=>{const d=t.storage.restraints.data[i];return{key:d.id,display:d.devName,enabled:!0}})]))},[s,t,r,l,c]}class Li extends ee{constructor(e){super(),Z(this,e,Mi,Si,Q,{selectedLocationID:0})}}function Oi(a){let e,n,t,s=a[1].name+"",r,l,c,i,d,h,u,p,m,f,b,g,_;return{c(){e=j("div"),n=j("div"),t=j("p"),r=K(s),l=O(),c=j("p"),i=K(a[4]),h=O(),u=j("div"),p=j("p"),m=K(a[0]),o(t,"class","h-6 text-left w-full min-w-0 truncate"),o(c,"class",d=`h-5 text-sm ${a[2]===!0?"text-slate-400":"text-slate-500"}`),o(n,"class","flex flex-col items-start w-9/12"),o(p,"class",f=`font-mono ${a[2]===!0?"text-slate-500":"text-slate-600"}`),o(u,"class","flex flex-row items-center h-full"),o(e,"class",b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${a[3]} ${a[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(v,w){C(v,e,w),$(e,n),$(n,t),$(t,r),$(n,l),$(n,c),$(c,i),$(e,h),$(e,u),$(u,p),$(p,m),g||(_=ge(e,"click",a[5]),g=!0)},p(v,[w]){w&2&&s!==(s=v[1].name+"")&&ne(r,s),w&16&&ne(i,v[4]),w&4&&d!==(d=`h-5 text-sm ${v[2]===!0?"text-slate-400":"text-slate-500"}`)&&o(c,"class",d),w&1&&ne(m,v[0]),w&4&&f!==(f=`font-mono ${v[2]===!0?"text-slate-500":"text-slate-600"}`)&&o(p,"class",f),w&12&&b!==(b=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${v[3]} ${v[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&o(e,"class",b)},i:A,o:A,d(v){v&&y(e),g=!1,_()}}}function Ri(a,e,n){let t;ie(a,N,u=>n(6,t=u));let{key:s}=e,{locationData:r}=e,{selected:l}=e,{class:c}=e;const i=Me();function d(){i("dispatchClick",{key:s})}let h="";return a.$$set=u=>{"key"in u&&n(0,s=u.key),"locationData"in u&&n(1,r=u.locationData),"selected"in u&&n(2,l=u.selected),"class"in u&&n(3,c=u.class)},a.$$.update=()=>{if(a.$$.dirty&66){t.storage.restraints;const u=t.storage.restraints.data[r.initial];n(4,h=u!==void 0?u.name:"")}},[s,r,l,c,h,d,t]}class Ni extends ee{constructor(e){super(),Z(this,e,Ri,Oi,Q,{key:0,locationData:1,selected:2,class:3})}}function xi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M12 4v16m8-8H4"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Ai(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Bi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M5 15l7-7 7 7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function Hi(a){let e,n;return{c(){e=B("svg"),n=B("path"),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M19 9l-7 7-7-7"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-4 w-4"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width","2")},m(t,s){C(t,e,s),$(e,n)},p:A,d(t){t&&y(e)}}}function qi(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;return r=new G({props:{onclick:a[2],$$slots:{default:[xi]},$$scope:{ctx:a}}}),c=new G({props:{onclick:a[3],$$slots:{default:[Ai]},$$scope:{ctx:a}}}),h=new G({props:{onclick:a[4],$$slots:{default:[Bi]},$$scope:{ctx:a}}}),p=new G({props:{onclick:a[5],$$slots:{default:[Hi]},$$scope:{ctx:a}}}),{c(){e=j("p"),e.textContent="Restraint Locations",n=O(),t=j("div"),s=j("div"),L(r.$$.fragment),l=O(),L(c.$$.fragment),i=O(),d=j("div"),L(h.$$.fragment),u=O(),L(p.$$.fragment),o(e,"class","text-slate-300 text-xl align-middle"),o(s,"class","flex flex-row space-x-1"),o(d,"class","flex flex-row space-x-1"),o(t,"class","flex flex-row space-x-4")},m(f,b){C(f,e,b),C(f,n,b),C(f,t,b),$(t,s),S(r,s,null),$(s,l),S(c,s,null),$(t,i),$(t,d),S(h,d,null),$(d,u),S(p,d,null),m=!0},p(f,b){const g={};b&512&&(g.$$scope={dirty:b,ctx:f}),r.$set(g);const _={};b&512&&(_.$$scope={dirty:b,ctx:f}),c.$set(_);const v={};b&512&&(v.$$scope={dirty:b,ctx:f}),h.$set(v);const w={};b&512&&(w.$$scope={dirty:b,ctx:f}),p.$set(w)},i(f){m||(k(r.$$.fragment,f),k(c.$$.fragment,f),k(h.$$.fragment,f),k(p.$$.fragment,f),m=!0)},o(f){I(r.$$.fragment,f),I(c.$$.fragment,f),I(h.$$.fragment,f),I(p.$$.fragment,f),m=!1},d(f){f&&y(e),f&&y(n),f&&y(t),M(r),M(c),M(h),M(p)}}}function zi(a){let e,n,t;function s(l){a[7](l)}let r={deselectable:!0,scrollingRadioData:a[1]};return a[0]!==void 0&&(r.selectedID=a[0]),e=new Ae({props:r}),E.push(()=>P(e,"selectedID",s)),{c(){L(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const i={};c&2&&(i.scrollingRadioData=l[1]),!n&&c&1&&(n=!0,i.selectedID=l[0],T(()=>n=!1)),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ei(a){let e,n;return e=new ce({props:{class:`shrink\r
    w-full h-3/5 min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[zi],header:[qi]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ti(a,e,n){let t;ie(a,N,p=>n(6,t=p));let{selectedLocationID:s}=e,r;function l(){return t.data.restraintLocations.ordering.filter(p=>p!==void 0).map(p=>{const m=t.data.restraintLocations.data[p];return{key:m.id,component:Ni,props:{locationData:m}}})}function c(){const p=we($e);J(N,t.data.restraintLocations.data[p]={id:p,name:"",initial:""},t),t.data.restraintLocations.ordering.push(p),N.set(t)}function i(){var p,m;if(s!==void 0){const f=s;n(0,s=void 0);const b=t.data.restraintLocations.ordering,g=b.findIndex(_=>_===f);for(let _=g;_<b.length-1;_++)b[_]=(p=b[_+1])!=null?p:void 0;b.pop(),n(0,s=(m=b[g])!=null?m:b[g-1]),delete t.data.restraintLocations.data[f],N.set(t)}}function d(){if(s!==void 0&&t.data.restraintLocations.ordering.length>1){const p=t.data.restraintLocations.ordering,m=p.findIndex(b=>b===s);if(m<=0)return;const f=p[m];p[m]=p[m-1],p[m-1]=f,N.set(t)}}function h(){if(s!==void 0&&t.data.restraintLocations.ordering.length>1){const p=t.data.restraintLocations.ordering,m=p.findIndex(b=>b===s);if(m===-1||m===t.data.restraintLocations.ordering.length-1)return;const f=p[m];p[m]=p[m+1],p[m+1]=f,N.set(t)}}function u(p){s=p,n(0,s)}return a.$$set=p=>{"selectedLocationID"in p&&n(0,s=p.selectedLocationID)},a.$$.update=()=>{a.$$.dirty&64&&(t.data.restraintLocations,n(1,r=l()))},[s,r,c,i,d,h,t,u]}class Pi extends ee{constructor(e){super(),Z(this,e,Ti,Ei,Q,{selectedLocationID:0})}}function Ui(a){let e;return{c(){e=j("p"),e.textContent="Selected Restraint",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function Wi(a){let e,n,t,s,r,l,c,i,d,h,u,p,m;function f(D){a[4](D)}let b={class:"w-full",label:"Development Name",placeholder:"Leather Armbinder (underneath: handcuffs)"};a[1].storage.restraints.data[a[0]].devName!==void 0&&(b.value=a[1].storage.restraints.data[a[0]].devName),e=new be({props:b}),E.push(()=>P(e,"value",f));function g(D){a[5](D)}let _={class:"w-3/4",label:"Name",placeholder:"Leather Armbinder"};a[1].storage.restraints.data[a[0]].name!==void 0&&(_.value=a[1].storage.restraints.data[a[0]].name),r=new be({props:_}),E.push(()=>P(r,"value",g));function v(D){a[6](D)}let w={class:"w-1/4",label:"Location",disabled:a[2],choicesData:a[3]};a[1].storage.restraints.data[a[0]].location!==void 0&&(w.selected=a[1].storage.restraints.data[a[0]].location),i=new he({props:w}),E.push(()=>P(i,"selected",v));function R(D){a[7](D)}let z={class:"w-full",label:"Examine Description",placeholder:"A pair of cold, steel handcuffs biting into your wrists.",rows:6};return a[1].storage.restraints.data[a[0]].examine!==void 0&&(z.value=a[1].storage.restraints.data[a[0]].examine),u=new Ue({props:z}),E.push(()=>P(u,"value",R)),{c(){L(e.$$.fragment),t=O(),s=j("div"),L(r.$$.fragment),c=O(),L(i.$$.fragment),h=O(),L(u.$$.fragment),o(s,"class","flex flex-row space-x-6")},m(D,H){S(e,D,H),C(D,t,H),C(D,s,H),S(r,s,null),$(s,c),S(i,s,null),C(D,h,H),S(u,D,H),m=!0},p(D,H){const Y={};!n&&H&3&&(n=!0,Y.value=D[1].storage.restraints.data[D[0]].devName,T(()=>n=!1)),e.$set(Y);const ae={};!l&&H&3&&(l=!0,ae.value=D[1].storage.restraints.data[D[0]].name,T(()=>l=!1)),r.$set(ae);const x={};H&4&&(x.disabled=D[2]),H&8&&(x.choicesData=D[3]),!d&&H&3&&(d=!0,x.selected=D[1].storage.restraints.data[D[0]].location,T(()=>d=!1)),i.$set(x);const X={};!p&&H&3&&(p=!0,X.value=D[1].storage.restraints.data[D[0]].examine,T(()=>p=!1)),u.$set(X)},i(D){m||(k(e.$$.fragment,D),k(r.$$.fragment,D),k(i.$$.fragment,D),k(u.$$.fragment,D),m=!0)},o(D){I(e.$$.fragment,D),I(r.$$.fragment,D),I(i.$$.fragment,D),I(u.$$.fragment,D),m=!1},d(D){M(e,D),D&&y(t),D&&y(s),M(r),M(i),D&&y(h),M(u,D)}}}function Fi(a){let e,n;return e=new ce({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[Wi],header:[Ui]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const r={};s&271&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Vi(a,e,n){let t;ie(a,N,u=>n(1,t=u));let{selectedRestraintID:s}=e,r=!1,l=[];function c(u){a.$$.not_equal(t.storage.restraints.data[s].devName,u)&&(t.storage.restraints.data[s].devName=u,N.set(t))}function i(u){a.$$.not_equal(t.storage.restraints.data[s].name,u)&&(t.storage.restraints.data[s].name=u,N.set(t))}function d(u){a.$$.not_equal(t.storage.restraints.data[s].location,u)&&(t.storage.restraints.data[s].location=u,N.set(t))}function h(u){a.$$.not_equal(t.storage.restraints.data[s].examine,u)&&(t.storage.restraints.data[s].examine=u,N.set(t))}return a.$$set=u=>{"selectedRestraintID"in u&&n(0,s=u.selectedRestraintID)},a.$$.update=()=>{a.$$.dirty&2&&(t.data.restraintLocations,n(2,r=Object.values(t.data.restraintLocations.data).length===0),n(3,l=t.data.restraintLocations.ordering.map(u=>{const p=t.data.restraintLocations.data[u];return{key:p.id,display:p.name,enabled:!0}})))},[s,t,r,l,c,i,d,h]}class Ji extends ee{constructor(e){super(),Z(this,e,Vi,Fi,Q,{selectedRestraintID:0})}}function ra(a){let e,n;return e=new Li({props:{selectedLocationID:a[0]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.selectedLocationID=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ia(a){let e,n;return e=new Ji({props:{selectedRestraintID:a[1]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.selectedRestraintID=t[1]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Yi(a){let e,n,t,s,r,l,c,i,d,h,u,p;function m(w){a[2](w)}let f={};a[0]!==void 0&&(f.selectedLocationID=a[0]),t=new Pi({props:f}),E.push(()=>P(t,"selectedLocationID",m));let b=a[0]!==void 0&&ra(a);function g(w){a[3](w)}let _={};a[1]!==void 0&&(_.selectedRestraintID=a[1]),i=new ji({props:_}),E.push(()=>P(i,"selectedRestraintID",g));let v=a[1]!==void 0&&ia(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),r=O(),b&&b.c(),l=O(),c=j("div"),L(i.$$.fragment),h=O(),u=j("div"),v&&v.c(),o(n,"class","flex flex-col space-y-4 h-full"),me(n,"width","30%"),o(c,"class","flex flex-col space-y-4 h-full"),me(c,"width","30%"),o(u,"class","grow flex flex-col space-y-4 h-full"),o(e,"class","flex flex-row space-x-4 h-full w-full")},m(w,R){C(w,e,R),$(e,n),S(t,n,null),$(n,r),b&&b.m(n,null),$(e,l),$(e,c),S(i,c,null),$(e,h),$(e,u),v&&v.m(u,null),p=!0},p(w,[R]){const z={};!s&&R&1&&(s=!0,z.selectedLocationID=w[0],T(()=>s=!1)),t.$set(z),w[0]!==void 0?b?(b.p(w,R),R&1&&k(b,1)):(b=ra(w),b.c(),k(b,1),b.m(n,null)):b&&(le(),I(b,1,1,()=>{b=null}),re());const D={};!d&&R&2&&(d=!0,D.selectedRestraintID=w[1],T(()=>d=!1)),i.$set(D),w[1]!==void 0?v?(v.p(w,R),R&2&&k(v,1)):(v=ia(w),v.c(),k(v,1),v.m(u,null)):v&&(le(),I(v,1,1,()=>{v=null}),re())},i(w){p||(k(t.$$.fragment,w),k(b),k(i.$$.fragment,w),k(v),p=!0)},o(w){I(t.$$.fragment,w),I(b),I(i.$$.fragment,w),I(v),p=!1},d(w){w&&y(e),M(t),b&&b.d(),M(i),v&&v.d()}}}function Gi(a,e,n){let t,s;function r(c){t=c,n(0,t)}function l(c){s=c,n(1,s)}return[t,s,r,l]}class Xi extends ee{constructor(e){super(),Z(this,e,Gi,Yi,Q,{})}}function oa(a,e,n){const t=a.slice();return t[3]=e[n],t}function ca(a){let e,n=a[3]+"",t;return{c(){e=j("p"),t=K(n),o(e,"class",a[0])},m(s,r){C(s,e,r),$(e,t)},p(s,r){r&2&&n!==(n=s[3]+"")&&ne(t,n),r&1&&o(e,"class",s[0])},d(s){s&&y(e)}}}function Ki(a){let e,n=a[1],t=[];for(let s=0;s<n.length;s+=1)t[s]=ca(oa(a,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Se()},m(s,r){for(let l=0;l<t.length;l+=1)t[l].m(s,r);C(s,e,r)},p(s,[r]){if(r&3){n=s[1];let l;for(l=0;l<n.length;l+=1){const c=oa(s,n,l);t[l]?t[l].p(c,r):(t[l]=ca(c),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:A,o:A,d(s){Re(t,s),s&&y(e)}}}function Qi(a,e,n){let{class:t=""}=e,{text:s}=e,r;return a.$$set=l=>{"class"in l&&n(0,t=l.class),"text"in l&&n(2,s=l.text)},a.$$.update=()=>{a.$$.dirty&4&&n(1,r=s.split(`
`))},[t,r,s]}class It extends ee{constructor(e){super(),Z(this,e,Qi,Ki,Q,{class:0,text:2})}}function Zi(a){let e,n,t,s,r;return{c(){e=j("a"),n=K(a[0]),o(e,"class",t=ot(`cursor-pointer h-6
    ${a[1]?a[2]?"text-slate-300":"text-slate-400 hover:text-slate-300 focus:text-slate-200":"text-slate-300"}
    ${a[2]?"highlighted":a[1]?"":"shadow"}`)+" svelte-1qgtpqn")},m(l,c){C(l,e,c),$(e,n),s||(r=[ge(e,"click",a[3]),ge(e,"mouseenter",a[4])],s=!0)},p(l,[c]){c&1&&ne(n,l[0]),c&6&&t!==(t=ot(`cursor-pointer h-6
    ${l[1]?l[2]?"text-slate-300":"text-slate-400 hover:text-slate-300 focus:text-slate-200":"text-slate-300"}
    ${l[2]?"highlighted":l[1]?"":"shadow"}`)+" svelte-1qgtpqn")&&o(e,"class",t)},i:A,o:A,d(l){l&&y(e),s=!1,Ve(r)}}}function eo(a,e,n){let{key:t}=e,{name:s}=e,{seen:r}=e,{highlighted:l}=e;const c=Me();function i(){c("dispatchClick",{key:t})}function d(){c("dispatchEnter",{key:t})}return a.$$set=h=>{"key"in h&&n(5,t=h.key),"name"in h&&n(0,s=h.name),"seen"in h&&n(1,r=h.seen),"highlighted"in h&&n(2,l=h.highlighted)},[s,r,l,i,d,t]}class Je extends ee{constructor(e){super(),Z(this,e,eo,Zi,Q,{key:5,name:0,seen:1,highlighted:2})}}function da(a,e,n){const t=a.slice();return t[48]=e[n],t}function fa(a,e,n){const t=a.slice();return t[51]=e[n],t}function ua(a,e,n){const t=a.slice();return t[54]=e[n],t}function ga(a,e,n){const t=a.slice();return t[57]=e[n],t}function pa(a,e,n){const t=a.slice();return t[60]=e[n],t[62]=n,t}function to(a){let e,n,t;return n=new ce({props:{class:"w-1/2",$$slots:{content:[lo]},$$scope:{ctx:a}}}),{c(){e=j("div"),L(n.$$.fragment),o(e,"class","flex flex-col items-center justify-center space-x-2 w-full")},m(s,r){C(s,e,r),S(n,e,null),t=!0},p(s,r){const l={};r[0]&4|r[2]&2&&(l.$$scope={dirty:r,ctx:s}),n.$set(l)},i(s){t||(k(n.$$.fragment,s),t=!0)},o(s){I(n.$$.fragment,s),t=!1},d(s){s&&y(e),M(n)}}}function ao(a){let e,n,t,s,r,l,c,i,d,h,u,p,m,f,b,g;e=new ce({props:{class:"w-1/4 h-full",$$slots:{content:[oo]},$$scope:{ctx:a}}}),s=new ce({props:{$$slots:{content:[co]},$$scope:{ctx:a}}}),l=new ce({props:{$$slots:{content:[fo]},$$scope:{ctx:a}}}),i=new ce({props:{class:"grow min-h-0",contentClass:"scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden",$$slots:{content:[po]},$$scope:{ctx:a}}}),u=new ce({props:{$$slots:{content:[_o]},$$scope:{ctx:a}}}),m=new ce({props:{$$slots:{content:[wo],header:[ho]},$$scope:{ctx:a}}});let _=a[2].dialogText!==void 0&&ya(a);return{c(){L(e.$$.fragment),n=O(),t=j("div"),L(s.$$.fragment),r=O(),L(l.$$.fragment),c=O(),L(i.$$.fragment),d=O(),h=j("div"),L(u.$$.fragment),p=O(),L(m.$$.fragment),f=O(),b=j("div"),_&&_.c(),o(t,"class","flex flex-col space-y-4 h-full"),me(t,"width","30%"),o(b,"class","grow flex flex-col items-center justify-center h-full"),o(h,"class","grow flex flex-col h-full space-y-4")},m(v,w){S(e,v,w),C(v,n,w),C(v,t,w),S(s,t,null),$(t,r),S(l,t,null),$(t,c),S(i,t,null),C(v,d,w),C(v,h,w),S(u,h,null),$(h,p),S(m,h,null),$(h,f),$(h,b),_&&_.m(b,null),g=!0},p(v,w){const R={};w[0]&4|w[2]&2&&(R.$$scope={dirty:w,ctx:v}),e.$set(R);const z={};w[0]&29|w[2]&2&&(z.$$scope={dirty:w,ctx:v}),s.$set(z);const D={};w[0]&4|w[2]&2&&(D.$$scope={dirty:w,ctx:v}),l.$set(D);const H={};w[0]&6|w[2]&2&&(H.$$scope={dirty:w,ctx:v}),i.$set(H);const Y={};w[0]&228|w[2]&2&&(Y.$$scope={dirty:w,ctx:v}),u.$set(Y);const ae={};w[0]&4|w[2]&2&&(ae.$$scope={dirty:w,ctx:v}),m.$set(ae),v[2].dialogText!==void 0?_?(_.p(v,w),w[0]&4&&k(_,1)):(_=ya(v),_.c(),k(_,1),_.m(b,null)):_&&(le(),I(_,1,1,()=>{_=null}),re())},i(v){g||(k(e.$$.fragment,v),k(s.$$.fragment,v),k(l.$$.fragment,v),k(i.$$.fragment,v),k(u.$$.fragment,v),k(m.$$.fragment,v),k(_),g=!0)},o(v){I(e.$$.fragment,v),I(s.$$.fragment,v),I(l.$$.fragment,v),I(i.$$.fragment,v),I(u.$$.fragment,v),I(m.$$.fragment,v),I(_),g=!1},d(v){M(e,v),v&&y(n),v&&y(t),M(s),M(l),M(i),v&&y(d),v&&y(h),M(u),M(m),_&&_.d()}}}function ma(a){let e,n;return{c(){e=j("img"),o(e,"class","object-contain w-full"),xe(e.src,n=a[8].storage.images[a[8].storage.states.data[a[2].currentStateID].imageHash])||o(e,"src",n)},m(t,s){C(t,e,s)},p(t,s){s[0]&260&&!xe(e.src,n=t[8].storage.images[t[8].storage.states.data[t[2].currentStateID].imageHash])&&o(e,"src",n)},d(t){t&&y(e)}}}function ba(a){let e,n=a[8].storage.states.data[a[2].currentStateID].args[0]+"",t;return{c(){e=j("p"),t=K(n),o(e,"class","text-center font-bold text-slate-300 text-lg")},m(s,r){C(s,e,r),$(e,t)},p(s,r){r[0]&4&&n!==(n=s[8].storage.states.data[s[2].currentStateID].args[0]+"")&&ne(t,n)},d(s){s&&y(e)}}}function no(a){let e,n;return e=new G({props:{label:"Restart",onclick:a[10]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:A,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function so(a){let e,n;return e=new G({props:{label:"Start",onclick:a[11]}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:A,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function lo(a){let e,n,t,s,r,l,c,i,d,h,u=a[8].storage.states.data[a[2].currentStateID].imageHash!==""&&ma(a);s=new It({props:{class:"text-slate-400 text-center",text:a[8].storage.states.data[a[2].currentStateID].description}});let p=a[8].storage.states.data[a[2].currentStateID].type==="ending"&&ba(a);const m=[so,no],f=[];function b(g,_){return g[8].storage.states.data[g[2].currentStateID].type==="opening"||g[8].storage.states.data[g[2].currentStateID].type==="intermediate"?0:1}return i=b(a),d=f[i]=m[i](a),{c(){e=j("div"),u&&u.c(),n=O(),t=j("div"),L(s.$$.fragment),r=O(),p&&p.c(),l=O(),c=j("div"),d.c(),o(t,"class","flex flex-col space-y-2 w-full items-center"),o(c,"class","flex flex-row justify-center"),o(e,"class","flex flex-col space-y-4 w-full h-full")},m(g,_){C(g,e,_),u&&u.m(e,null),$(e,n),$(e,t),S(s,t,null),$(e,r),p&&p.m(e,null),$(e,l),$(e,c),f[i].m(c,null),h=!0},p(g,_){g[8].storage.states.data[g[2].currentStateID].imageHash!==""?u?u.p(g,_):(u=ma(g),u.c(),u.m(e,n)):u&&(u.d(1),u=null);const v={};_[0]&4&&(v.text=g[8].storage.states.data[g[2].currentStateID].description),s.$set(v),g[8].storage.states.data[g[2].currentStateID].type==="ending"?p?p.p(g,_):(p=ba(g),p.c(),p.m(e,l)):p&&(p.d(1),p=null);let w=i;i=b(g),i===w?f[i].p(g,_):(le(),I(f[w],1,1,()=>{f[w]=null}),re(),d=f[i],d?d.p(g,_):(d=f[i]=m[i](g),d.c()),k(d,1),d.m(c,null))},i(g){h||(k(s.$$.fragment,g),k(d),h=!0)},o(g){I(s.$$.fragment,g),I(d),h=!1},d(g){g&&y(e),u&&u.d(),M(s),p&&p.d(),f[i].d()}}}function _a(a){let e,n;return{c(){e=j("img"),o(e,"class","object-contain w-4/5"),xe(e.src,n=a[8].storage.images[a[8].storage.states.data[a[2].currentStateID].imageHash])||o(e,"src",n)},m(t,s){C(t,e,s)},p(t,s){s[0]&260&&!xe(e.src,n=t[8].storage.images[t[8].storage.states.data[t[2].currentStateID].imageHash])&&o(e,"src",n)},d(t){t&&y(e)}}}function ro(a){let e;return{c(){e=j("div"),o(e,"class","h-6")},m(n,t){C(n,e,t)},p:A,i:A,o:A,d(n){n&&y(e)}}}function io(a){let e,n;return e=new Je({props:{key:`${a[62]}`,name:`Hint ${a[62]+1}`,highlighted:!1,seen:!0}}),e.$on("dispatchClick",a[16]),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:A,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ha(a){let e,n,t,s;const r=[io,ro],l=[];function c(i,d){return i[2].currentAttempts>=i[8].storage.states.data[i[2].currentStateID].hints[i[62]].attempts&&i[8].storage.states.data[i[2].currentStateID].hints[i[62]].attempts!==-1?0:1}return e=c(a),n=l[e]=r[e](a),{c(){n.c(),t=Se()},m(i,d){l[e].m(i,d),C(i,t,d),s=!0},p(i,d){let h=e;e=c(i),e===h?l[e].p(i,d):(le(),I(l[h],1,1,()=>{l[h]=null}),re(),n=l[e],n?n.p(i,d):(n=l[e]=r[e](i),n.c()),k(n,1),n.m(t.parentNode,t))},i(i){s||(k(n),s=!0)},o(i){I(n),s=!1},d(i){l[e].d(i),i&&y(t)}}}function oo(a){let e,n,t,s,r,l,c,i,d,h=a[8].storage.states.data[a[2].currentStateID].imageHash!==""&&_a(a);s=new It({props:{class:"w-full",text:a[8].storage.states.data[a[2].currentStateID].description}});let u={length:3},p=[];for(let f=0;f<u.length;f+=1)p[f]=ha(pa(a,u,f));const m=f=>I(p[f],1,1,()=>{p[f]=null});return{c(){e=j("div"),n=j("div"),h&&h.c(),t=O(),L(s.$$.fragment),r=O(),l=j("div"),c=O(),i=j("div");for(let f=0;f<p.length;f+=1)p[f].c();o(n,"class","flex flex-col w-full space-y-4 items-center"),o(l,"class","grow"),o(i,"class","flex flex-col space-y-2"),o(e,"class","h-full flex flex-col items-start")},m(f,b){C(f,e,b),$(e,n),h&&h.m(n,null),$(n,t),S(s,n,null),$(e,r),$(e,l),$(e,c),$(e,i);for(let g=0;g<p.length;g+=1)p[g].m(i,null);d=!0},p(f,b){f[8].storage.states.data[f[2].currentStateID].imageHash!==""?h?h.p(f,b):(h=_a(f),h.c(),h.m(n,t)):h&&(h.d(1),h=null);const g={};if(b[0]&4&&(g.text=f[8].storage.states.data[f[2].currentStateID].description),s.$set(g),b[0]&65796){u={length:3};let _;for(_=0;_<u.length;_+=1){const v=pa(f,u,_);p[_]?(p[_].p(v,b),k(p[_],1)):(p[_]=ha(v),p[_].c(),k(p[_],1),p[_].m(i,null))}for(le(),_=u.length;_<p.length;_+=1)m(_);re()}},i(f){if(!d){k(s.$$.fragment,f);for(let b=0;b<u.length;b+=1)k(p[b]);d=!0}},o(f){I(s.$$.fragment,f),p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)I(p[b]);d=!1},d(f){f&&y(e),h&&h.d(),M(s),Re(p,f)}}}function wa(a){let e,n,t,s,r,l,c;return{c(){e=j("img"),t=O(),s=j("canvas"),o(e,"class","absolute h-full w-full object-contain"),me(e,"z-index","12"),xe(e.src,n=a[8].storage.images[a[8].storage.states.data[a[2].currentStateID].locations.data[a[2].currentMinimapLocationID].minimapHash])||o(e,"src",n),o(s,"class","absolute h-full w-full"),me(s,"z-index","14"),o(s,"width",a[3]),o(s,"height",a[4]),Pe(()=>a[20].call(s))},m(i,d){C(i,e,d),C(i,t,d),C(i,s,d),a[19](s),r=Na(s,a[20].bind(s)),l||(c=ge(s,"click",a[12]),l=!0)},p(i,d){d[0]&260&&!xe(e.src,n=i[8].storage.images[i[8].storage.states.data[i[2].currentStateID].locations.data[i[2].currentMinimapLocationID].minimapHash])&&o(e,"src",n),d[0]&8&&o(s,"width",i[3]),d[0]&16&&o(s,"height",i[4])},d(i){i&&y(e),i&&y(t),i&&y(s),a[19](null),r(),l=!1,c()}}}function co(a){let e,n=a[8].storage.states.data[a[2].currentStateID].locations.data[a[2].currentMinimapLocationID].minimapHash!==""&&wa(a);return{c(){e=j("div"),n&&n.c(),o(e,"class","border border-slate-600 minimap-display svelte-i642mi")},m(t,s){C(t,e,s),n&&n.m(e,null)},p(t,s){t[8].storage.states.data[t[2].currentStateID].locations.data[t[2].currentMinimapLocationID].minimapHash!==""?n?n.p(t,s):(n=wa(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&y(e),n&&n.d()}}}function $a(a){let e,n=a[57].name+"",t,s,r;return{c(){e=j("option"),t=K(n),s=O(),o(e,"class","text-slate-300"),e.__value=r=a[57].id,e.value=e.__value},m(l,c){C(l,e,c),$(e,t),$(e,s)},p(l,c){c[0]&4&&n!==(n=l[57].name+"")&&ne(t,n),c[0]&260&&r!==(r=l[57].id)&&(e.__value=r,e.value=e.__value)},d(l){l&&y(e)}}}function va(a){let e=a[2].availableMinimapLocations.includes(a[57].id),n,t=e&&$a(a);return{c(){t&&t.c(),n=Se()},m(s,r){t&&t.m(s,r),C(s,n,r)},p(s,r){r[0]&4&&(e=s[2].availableMinimapLocations.includes(s[57].id)),e?t?t.p(s,r):(t=$a(s),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&y(n)}}}function fo(a){let e,n,t,s,r,l,c=a[8].storage.states.data[a[2].currentStateID].locations.ordering.map(a[21]),i=[];for(let d=0;d<c.length;d+=1)i[d]=va(ga(a,c,d));return{c(){e=j("div"),n=j("p"),n.textContent="Change Location",t=O(),s=j("select");for(let d=0;d<i.length;d+=1)i[d].c();o(n,"class",ot("h-6 text-slate-400")+" svelte-i642mi"),o(s,"class",ot(`rounded border border-slate-600 placeholder-slate-500 focus:outline-none focus:border-slate-600
                                text-slate-300 bg-slate-800
                                block w-1/2 pl-2 pr-2 pt-1 pb-1`)+" svelte-i642mi"),a[2].currentMinimapLocationID===void 0&&Pe(()=>a[22].call(s)),o(e,"class","flex flex-row justify-between items-center")},m(d,h){C(d,e,h),$(e,n),$(e,t),$(e,s);for(let u=0;u<i.length;u+=1)i[u].m(s,null);ct(s,a[2].currentMinimapLocationID),r||(l=ge(s,"change",a[22]),r=!0)},p(d,h){if(h[0]&260){c=d[8].storage.states.data[d[2].currentStateID].locations.ordering.map(d[21]);let u;for(u=0;u<c.length;u+=1){const p=ga(d,c,u);i[u]?i[u].p(p,h):(i[u]=va(p),i[u].c(),i[u].m(s,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=c.length}h[0]&260&&ct(s,d[2].currentMinimapLocationID)},d(d){d&&y(e),Re(i,d),r=!1,l()}}}function uo(a){let e;return{c(){e=j("p")},m(n,t){C(n,e,t)},p:A,i:A,o:A,d(n){n&&y(e)}}}function go(a){let e,n;function t(...s){return a[24](a[54],...s)}return e=new Je({props:{key:a[1][a[54]][0],name:a[8].storage.restraints.data[a[1][a[54]][0]].name,highlighted:a[2].selectedComponentIDs.findIndex(t)!==-1,seen:a[2].seenInteractables.has(a[8].storage.restraints.data[a[1][a[54]][0]].id)}}),e.$on("dispatchClick",a[15]),e.$on("dispatchEnter",a[17]),{c(){L(e.$$.fragment)},m(s,r){S(e,s,r),n=!0},p(s,r){a=s;const l={};r[0]&2&&(l.key=a[1][a[54]][0]),r[0]&2&&(l.name=a[8].storage.restraints.data[a[1][a[54]][0]].name),r[0]&6&&(l.highlighted=a[2].selectedComponentIDs.findIndex(t)!==-1),r[0]&6&&(l.seen=a[2].seenInteractables.has(a[8].storage.restraints.data[a[1][a[54]][0]].id)),e.$set(l)},i(s){n||(k(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function ka(a){let e,n,t,s,r,l,c;function i(...p){return a[23](a[54],...p)}n=new Je({props:{key:a[8].data.restraintLocations.data[a[54]].id,name:a[8].data.restraintLocations.data[a[54]].name,highlighted:a[2].selectedComponentIDs.findIndex(i)!==-1,seen:!0}}),n.$on("dispatchClick",a[15]);const d=[go,uo],h=[];function u(p,m){return p[1][p[54]]!==void 0?0:1}return s=u(a),r=h[s]=d[s](a),{c(){e=j("div"),L(n.$$.fragment),t=O(),r.c(),l=O(),o(e,"class","flex flex-row justify-between items-end")},m(p,m){C(p,e,m),S(n,e,null),$(e,t),h[s].m(e,null),$(e,l),c=!0},p(p,m){a=p;const f={};m[0]&4&&(f.highlighted=a[2].selectedComponentIDs.findIndex(i)!==-1),n.$set(f);let b=s;s=u(a),s===b?h[s].p(a,m):(le(),I(h[b],1,1,()=>{h[b]=null}),re(),r=h[s],r?r.p(a,m):(r=h[s]=d[s](a),r.c()),k(r,1),r.m(e,l))},i(p){c||(k(n.$$.fragment,p),k(r),c=!0)},o(p){I(n.$$.fragment,p),I(r),c=!1},d(p){p&&y(e),M(n),h[s].d()}}}function po(a){let e,n,t=a[8].data.restraintLocations.ordering,s=[];for(let l=0;l<t.length;l+=1)s[l]=ka(ua(a,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();o(e,"class","flex flex-col space-y-2 pl-2 pr-2 mr-2")},m(l,c){C(l,e,c);for(let i=0;i<s.length;i+=1)s[i].m(e,null);n=!0},p(l,c){if(c[0]&164102){t=l[8].data.restraintLocations.ordering;let i;for(i=0;i<t.length;i+=1){const d=ua(l,t,i);s[i]?(s[i].p(d,c),k(s[i],1)):(s[i]=ka(d),s[i].c(),k(s[i],1),s[i].m(e,null))}for(le(),i=t.length;i<s.length;i+=1)r(i);re()}},i(l){if(!n){for(let c=0;c<t.length;c+=1)k(s[c]);n=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);n=!1},d(l){l&&y(e),Re(s,l)}}}function Da(a){let e,n;return e=new Je({props:{key:a[51],name:a[8].data.actions.data[a[51]].name,highlighted:a[2].selectedActionID===a[51],seen:!0}}),e.$on("dispatchClick",a[14]),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const r={};s[0]&4&&(r.highlighted=t[2].selectedActionID===t[51]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function Ia(a){let e;function n(r,l){return r[7]!==void 0?bo:mo}let t=n(a),s=t(a);return{c(){s.c(),e=Se()},m(r,l){s.m(r,l),C(r,e,l)},p(r,l){t===(t=n(r))&&s?s.p(r,l):(s.d(1),s=t(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&y(e)}}}function mo(a){let e;return{c(){e=K(a[5])},m(n,t){C(n,e,t)},p(n,t){t[0]&32&&ne(e,n[5])},d(n){n&&y(e)}}}function bo(a){let e,n,t,s,r;return{c(){e=K(a[5]),n=K(" ["),t=K(a[7]),s=K("] "),r=K(a[6])},m(l,c){C(l,e,c),C(l,n,c),C(l,t,c),C(l,s,c),C(l,r,c)},p(l,c){c[0]&32&&ne(e,l[5]),c[0]&128&&ne(t,l[7]),c[0]&64&&ne(r,l[6])},d(l){l&&y(e),l&&y(n),l&&y(t),l&&y(s),l&&y(r)}}}function _o(a){let e,n,t,s,r,l,c;t=new Je({props:{key:"examine",name:"Examine",highlighted:a[2].selectedActionID==="examine",seen:!0}}),t.$on("dispatchClick",a[14]);let i=a[8].data.actions.ordering,d=[];for(let p=0;p<i.length;p+=1)d[p]=Da(fa(a,i,p));const h=p=>I(d[p],1,1,()=>{d[p]=null});let u=a[5]!==void 0&&Ia(a);return{c(){e=j("div"),n=j("div"),L(t.$$.fragment),s=O();for(let p=0;p<d.length;p+=1)d[p].c();r=O(),l=j("p"),u&&u.c(),o(n,"class","flex flex-row items-center space-x-6 w-full"),o(l,"class","text-l text-slate-400 h-4"),me(l,"text-shadow","0px 0px 5px #2f2b8a"),o(e,"class","flex flex-col space-y-2 items-start pl-1 pr-1 mb-1")},m(p,m){C(p,e,m),$(e,n),S(t,n,null),$(n,s);for(let f=0;f<d.length;f+=1)d[f].m(n,null);$(e,r),$(e,l),u&&u.m(l,null),c=!0},p(p,m){const f={};if(m[0]&4&&(f.highlighted=p[2].selectedActionID==="examine"),t.$set(f),m[0]&16644){i=p[8].data.actions.ordering;let b;for(b=0;b<i.length;b+=1){const g=fa(p,i,b);d[b]?(d[b].p(g,m),k(d[b],1)):(d[b]=Da(g),d[b].c(),k(d[b],1),d[b].m(n,null))}for(le(),b=i.length;b<d.length;b+=1)h(b);re()}p[5]!==void 0?u?u.p(p,m):(u=Ia(p),u.c(),u.m(l,null)):u&&(u.d(1),u=null)},i(p){if(!c){k(t.$$.fragment,p);for(let m=0;m<i.length;m+=1)k(d[m]);c=!0}},o(p){I(t.$$.fragment,p),d=d.filter(Boolean);for(let m=0;m<d.length;m+=1)I(d[m]);c=!1},d(p){p&&y(e),M(t),Re(d,p),u&&u.d()}}}function ho(a){let e;return{c(){e=j("p"),e.textContent="Found Objects",o(e,"class","text-slate-300 text-xl")},m(n,t){C(n,e,t)},p:A,d(n){n&&y(e)}}}function ja(a){let e,n,t,s;function r(...l){return a[25](a[48],...l)}return n=new Je({props:{key:a[48],name:a[8].storage.objects.data[a[48]].name,highlighted:a[2].selectedComponentIDs.findIndex(r)!==-1,seen:a[2].seenInteractables.has(a[8].storage.objects.data[a[48]].id)}}),n.$on("dispatchClick",a[15]),n.$on("dispatchEnter",a[17]),{c(){e=j("div"),L(n.$$.fragment),t=O(),o(e,"class","flex flex-col items-center justify-center w-full h-full")},m(l,c){C(l,e,c),S(n,e,null),$(e,t),s=!0},p(l,c){a=l;const i={};c[0]&4&&(i.key=a[48]),c[0]&4&&(i.name=a[8].storage.objects.data[a[48]].name),c[0]&4&&(i.highlighted=a[2].selectedComponentIDs.findIndex(r)!==-1),c[0]&4&&(i.seen=a[2].seenInteractables.has(a[8].storage.objects.data[a[48]].id)),n.$set(i)},i(l){s||(k(n.$$.fragment,l),s=!0)},o(l){I(n.$$.fragment,l),s=!1},d(l){l&&y(e),M(n)}}}function wo(a){let e,n,t=a[2].revealedObjectIDs,s=[];for(let l=0;l<t.length;l+=1)s[l]=ja(da(a,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();o(e,"class","grid-container pb-1.5 gap-1 svelte-i642mi")},m(l,c){C(l,e,c);for(let i=0;i<s.length;i+=1)s[i].m(e,null);n=!0},p(l,c){if(c[0]&164100){t=l[2].revealedObjectIDs;let i;for(i=0;i<t.length;i+=1){const d=da(l,t,i);s[i]?(s[i].p(d,c),k(s[i],1)):(s[i]=ja(d),s[i].c(),k(s[i],1),s[i].m(e,null))}for(le(),i=t.length;i<s.length;i+=1)r(i);re()}},i(l){if(!n){for(let c=0;c<t.length;c+=1)k(s[c]);n=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);n=!1},d(l){l&&y(e),Re(s,l)}}}function ya(a){let e,n,t,s,r,l,c;return n=new It({props:{text:a[2].dialogText}}),{c(){e=j("a"),L(n.$$.fragment),t=O(),s=j("p"),s.textContent="[ click to close dialog ]",o(s,"class","text-sm text-slate-500"),o(e,"class","max-w-lg bg-slate-800 rounded-lg space-y-4 p-4 text-center")},m(i,d){C(i,e,d),S(n,e,null),$(e,t),$(e,s),r=!0,l||(c=ge(e,"click",a[13]),l=!0)},p(i,d){const h={};d[0]&4&&(h.text=i[2].dialogText),n.$set(h)},i(i){r||(k(n.$$.fragment,i),r=!0)},o(i){I(n.$$.fragment,i),r=!1},d(i){i&&y(e),M(n),l=!1,c()}}}function $o(a){let e,n,t,s;const r=[ao,to],l=[];function c(i,d){return i[8].storage.states.data[i[2].currentStateID].type==="normal"?0:1}return n=c(a),t=l[n]=r[n](a),{c(){e=j("div"),t.c(),o(e,"class","flex flex-row items-stretch space-x-4 grow min-h-0 p-4 text-slate-400")},m(i,d){C(i,e,d),l[n].m(e,null),s=!0},p(i,d){let h=n;n=c(i),n===h?l[n].p(i,d):(le(),I(l[h],1,1,()=>{l[h]=null}),re(),t=l[n],t?t.p(i,d):(t=l[n]=r[n](i),t.c()),k(t,1),t.m(e,null))},i(i){s||(k(t),s=!0)},o(i){I(t),s=!1},d(i){i&&y(e),l[n].d()}}}function vo(a,e,n){let t,s;ie(a,N,q=>n(29,s=q));let{debug:r=!1}=e;const l=s;function c(q){r&&console.log(q)}c("[RUN] Performing initialization...");const i=Object.entries(l.storage.states.data).filter(([q,F])=>F.type==="opening")[0][0],d=l.storage.states.data[i];c(`[RUN] Found opening state: [${i} - ${d.title}]`);const h=new Set;let u=i;for(;;){const q=l.storage.states.data[u];if(q.args[0]===void 0)throw new Error("Error: couldn't find starting state");if(h.has(q.args[0])===!0)throw new Error("Error: loop detected in states");if(h.add(q.args[0]),u=q.args[0],l.storage.states.data[u].type!=="intermediate")break}let p="",m=[];for(const q of l.storage.states.data[u].locations.ordering)l.storage.states.data[u].locations.data[q].initial===!0&&(m.push(q),p===""&&(p=q));const f=l.data.restraintLocations.ordering.map(q=>l.data.restraintLocations.data[q]).map(q=>q.initial).filter(q=>q!=="");for(const q of f){const F=l.storage.restraints.data[q],V=l.data.restraintLocations.data[F.location];c(`[RUN] Found initial restraint: [${q} - ${F.devName}] @ [${V.id} - ${V.name}]`)}let b,g,_,v;const w={dialogText:void 0,selectedActionID:void 0,selectedComponentIDs:["",""],currentStateID:i,currentMinimapLocationID:p,availableMinimapLocations:m,currentRestraintIDs:f,revealedObjectIDs:[],currentAttempts:0,seenInteractables:new Set,flags:{}},R=ut(JSON.parse(JSON.stringify(w)));ie(a,R,q=>n(2,t=q)),J(R,t=w,t),window.gameData=l,window.runtimeStore=t,c("[RUN] Tip - reference $runtimeStore for debugging through window.runtimeStore"),c(window.runtimeStore);function z(){c("[RUN] Restarting game..."),J(R,t=w,t)}function D(){c("[RUN] Opening or intermediate state, transitioning to next...");const F=l.storage.states.data[t.currentStateID].args[0];l.storage.states.data[F].locations.data[t.currentMinimapLocationID]===void 0&&J(R,t.currentMinimapLocationID=l.storage.states.data[F].locations.ordering[0],t),J(R,t.currentStateID=F,t)}let H={};function Y(q){if(q===void 0)return;const F=b.getBoundingClientRect(),V=q.clientX-F.left,de=q.clientY-F.top;c(`[RUN] handleMinimapClick - click coordinates (${V} / ${F.width}, ${de} / ${F.height})`);for(const te of l.storage.states.data[t.currentStateID].locations.data[t.currentMinimapLocationID].minimapObjects.ordering.map(ue=>l.storage.states.data[t.currentStateID].locations.data[t.currentMinimapLocationID].minimapObjects.data[ue])){const ue=new Path2D;if(te.type==="vector"&&te.args[0]!==void 0&&te.args[1]!==void 0)for(const[pe,Ee]of te.args){const gt=Math.floor(pe*F.width),pt=Math.floor(Ee*F.height);ue.lineTo(gt,pt)}else if(te.args[1]!==void 0){const[[pe,Ee],[gt,pt]]=te.args,jt=Math.floor(pe*F.width),yt=Math.floor(Ee*F.height),qa=Math.floor(gt*F.width),za=Math.floor(pt*F.height),Ea=Math.sqrt(Math.pow(jt-qa,2)+Math.pow(yt-za,2));ue.arc(jt,yt,Ea,0,2*Math.PI)}if(g.isPointInPath(ue,V,de)){if(c(`[RUN] handleMinimapClick - found click location within minimap [${te.id} - ${te.devName}]`),te.object!==""&&ae(te.object),te.dialog!==""&&se(te.dialog),te.interaction!==""){const pe=l.storage.states.data[t.currentStateID].interactions.data[te.interaction];Oe(pe)===!0&&De(pe)}return}}c("[RUN] handleMinimapClick - found no minimap objects at click location")}function ae(q){const F=l.storage.objects.data[q];c(`[RUN] addFoundObject - [${q} - ${F.devName}]`),t.revealedObjectIDs.findIndex(V=>V===q)===-1&&(t.revealedObjectIDs.push(q),t.revealedObjectIDs.sort((V,de)=>l.storage.objects.ordering.findIndex(te=>te===V)-l.storage.objects.ordering.findIndex(te=>te===de)),R.set(t))}function x(q){const F=l.storage.objects.data[q];c(`[RUN] hideObject - [${q} - ${F.devName}]`),J(R,t.revealedObjectIDs=t.revealedObjectIDs.filter(V=>V!==q),t)}function X(q){const F=l.storage.restraints.data[q];if(t.currentRestraintIDs.findIndex(V=>V===q)!==-1){c(`[RUN] addRestraint - already wearing [${q} - ${F.devName}], not adding`);return}c(`[RUN] addRestraint - [${q} - ${F.devName}]`),t.currentRestraintIDs.push(q),t.currentRestraintIDs.sort((V,de)=>l.storage.restraints.ordering.findIndex(te=>te===V)-l.storage.restraints.ordering.findIndex(te=>te===de)),R.set(t)}function ye(q){const F=l.storage.restraints.data[q];c(`[RUN] removeRestraint - [${q} - ${F.devName}]`),J(R,t.currentRestraintIDs=t.currentRestraintIDs.filter(V=>V!==q),t)}function Be(q){const F=l.storage.states.data[t.currentStateID].locations.data[q];if(t.availableMinimapLocations.findIndex(V=>V===q)!==-1){c(`[RUN] addLocation - already has location [${F.devName}], not adding`);return}c(`[RUN] addLocation - ${F.devName}`),t.availableMinimapLocations.push(q),R.set(t),J(R,t.currentMinimapLocationID=q,t)}function W(q){const F=l.storage.states.data[t.currentStateID].locations.data[q];c(`[RUN] removeRestraint - ${F.devName}`),J(R,t.availableMinimapLocations=t.availableMinimapLocations.filter(V=>V!==q),t),t.currentMinimapLocationID===q&&J(R,t.currentMinimapLocationID=l.storage.states.data[t.currentStateID].locations.ordering.filter(V=>t.availableMinimapLocations.includes(V))[0],t)}function se(q){c(`[RUN] showDialog - displaying dialog [${q}]`),J(R,t.dialogText=q,t)}function _e(){c("[RUN] hideDialog - hiding dialog text if shown"),J(R,t.dialogText=void 0,t)}function ke(){c("[RUN] resetAttempts - resetting number of attempts to 0"),J(R,t.currentAttempts=0,t)}function Le(q){if(q===void 0)return;const F=q.detail.key;if(t.selectedActionID===F){J(R,t.selectedActionID=void 0,t);return}if(J(R,t.selectedComponentIDs=["",""],t),F!=="examine"){const V=l.data.actions.data[F];c(`[RUN] handleActionClick - [${F} - ${V.name}]`)}else c("[RUN] handleActionClick - [examine]");J(R,t.selectedActionID=F===t.selectedActionID?void 0:F,t)}function Oe(q){return q.criteria.ordering.map(V=>{const de=q.criteria.data[V];let te=!1;switch(de.type){case"flagEquals":te=t.flags[de.args[0]]===de.args[1];break;case"flagNotEquals":te=t.flags[de.args[0]]!==de.args[1];break;case"objectFound":te=t.revealedObjectIDs.findIndex(ue=>ue===de.args[0])!==-1;break;case"objectNotFound":te=t.revealedObjectIDs.findIndex(ue=>ue===de.args[0])===-1;break;case"restraintWearing":te=t.currentRestraintIDs.findIndex(ue=>ue===de.args[0])!==-1;break;case"restraintNotWearing":te=t.currentRestraintIDs.findIndex(ue=>ue===de.args[0])===-1;break}return te}).every(V=>V===!0)}function Ce(q,F,V){return V!==Object.values(F.criteria.data).filter(te=>te.type==="exceededAttempts").length>0||V===!1&&(F.action!==t.selectedActionID||F.components[0]!==t.selectedComponentIDs[0]&&(q.order===!0||F.components[1]!==t.selectedComponentIDs[0])||F.components[1]!==t.selectedComponentIDs[1]&&(q.order===!0||F.components[0]!==t.selectedComponentIDs[1]))?!1:Oe(F)}function De(q){for(const F of q.results.ordering){const V=q.results.data[F];switch(V.type){case"setFlag":J(R,t.flags[V.args[0]]=V.args[1],t);break;case"setState":{J(R,t.currentStateID=V.args[0],t),J(R,t.currentAttempts=0,t),console.log(JSON.stringify(V));for(const de of l.storage.states.data[t.currentStateID].locations.ordering)l.storage.states.data[t.currentStateID].locations.data[de].initial===!0&&t.availableMinimapLocations.push(de);R.set(t),V.args[1]!==void 0&&V.args[1]!==""?J(R,t.currentMinimapLocationID=V.args[1],t):l.storage.states.data[t.currentStateID].locations.data[t.currentMinimapLocationID]===void 0&&J(R,t.currentMinimapLocationID=l.storage.states.data[t.currentStateID].locations.ordering[0],t)}break;case"popupDialog":se(V.args[0]);break;case"objectReveal":ae(V.args[0]);break;case"objectHide":x(V.args[0]);break;case"restraintAdd":X(V.args[0]);break;case"restraintRemove":ye(V.args[0]);break;case"locationAdd":Be(V.args[0]);break;case"locationRemove":W(V.args[0]);break;case"resetAttempts":ke()}}}function Ie(q){if(t.selectedActionID===void 0||q===void 0)return;const F=q.detail.key;J(R,t.selectedComponentIDs[t.selectedComponentIDs[0]===""?0:1]=F,t),R.set(t);const V=t.selectedActionID!=="examine"?l.data.actions.data[t.selectedActionID]:{id:"examine",name:"Examine",verb:"",order:!0,two:!1};if(t.selectedActionID==="examine"&&t.selectedComponentIDs[0]!==""&&l.data.restraintLocations.ordering.includes(t.selectedComponentIDs[0])===!1){const te=l.storage.objects.data[t.selectedComponentIDs[0]]?l.storage.objects.data[t.selectedComponentIDs[0]].examine:l.storage.restraints.data[t.selectedComponentIDs[0]]?l.storage.restraints.data[t.selectedComponentIDs[0]].examine:void 0;c(`[RUN] handleObjectClick - handling object/restraint examine action [${t.selectedComponentIDs[0]} - ${te}]`),te!==void 0&&se(te)}let de=V.two===!1||t.selectedComponentIDs[0]!==""&&t.selectedComponentIDs[1]!=="";for(const te of l.storage.states.data[t.currentStateID].interactions.ordering){const ue=l.storage.states.data[t.currentStateID].interactions.data[te];if(Ce(V,ue,!1)!==!1){c(`[RUN] handleObjectClick - criteria(s) passed, executing interaction [${te} - ${ue.devName}]`),De(ue),J(R,t.selectedActionID=void 0,t),J(R,t.selectedComponentIDs=["",""],t);return}}if(c("[RUN] handleObjectClick - found no interactions matching all criteria"),de===!0){J(R,t.currentAttempts++,t);for(const te of l.storage.states.data[t.currentStateID].interactions.ordering){const ue=l.storage.states.data[t.currentStateID].interactions.data[te];if(Ce(V,ue,!0)!==!1){c(`[RUN] handleObjectClick - criteria(s) passed (attempts = true), executing interaction [${te} - ${ue.devName}]`),De(ue);break}}c("[RUN] handleObjectClick - clearing since no interaction found"),t.selectedActionID!=="examine"&&J(R,t.dialogText="You can't do that!",t),J(R,t.selectedActionID=void 0,t),J(R,t.selectedComponentIDs=["",""],t)}}function je(q){if(q===void 0)return;const F=parseInt(q.detail.key),V=`Hint: ${l.storage.states.data[t.currentStateID].hints[F].text}`;c(`[RUN] handleHintClick - displaying hint text (as dialog) [${F} - ${V}]`),J(R,t.dialogText=V,t)}function He(q){if(q===void 0)return;const F=q.detail.key;t.seenInteractables.add(F),R.set(t)}let ve,fe,ze;R.subscribe(q=>{if(q.selectedActionID==="examine")n(5,ve="Examine");else if(q.selectedActionID!==void 0){const te=l.data.actions.data[q.selectedActionID];n(5,ve=te!==void 0?te.name:void 0),n(6,fe=te!==void 0?te.verb:void 0)}const F=l.storage.restraints.data[q.selectedComponentIDs[0]];if(F!==void 0){n(7,ze=F.name);return}const V=l.storage.objects.data[q.selectedComponentIDs[0]];if(V!==void 0){n(7,ze=V.name);return}const de=l.data.restraintLocations.data[q.selectedComponentIDs[0]];if(de!==void 0){n(7,ze=de.name);return}n(7,ze=void 0)});function Ze(q){E[q?"unshift":"push"](()=>{b=q,n(0,b)})}function Ne(){_=this.clientWidth,v=this.clientHeight,n(3,_),n(4,v)}const et=q=>l.storage.states.data[t.currentStateID].locations.data[q];function U(){t.currentMinimapLocationID=Ra(this),R.set(t),n(8,l)}const oe=(q,F)=>F===l.data.restraintLocations.data[q].id,qe=(q,F)=>F===H[q][0],Ye=(q,F)=>F===q;return a.$$set=q=>{"debug"in q&&n(18,r=q.debug)},a.$$.update=()=>{if(a.$$.dirty[0]&1&&b&&(g=b.getContext("2d")),a.$$.dirty[0]&6){t.currentRestraintIDs,n(1,H={});for(const q of t.currentRestraintIDs){const F=l.storage.restraints.data[q];n(1,H[F.location]=[F.id,F.name],H)}n(1,H),n(2,t)}},[b,H,t,_,v,ve,fe,ze,l,R,z,D,Y,_e,Le,Ie,je,He,r,Ze,Ne,et,U,oe,qe,Ye]}class ko extends ee{constructor(e){super(),Z(this,e,vo,$o,Q,{debug:18},null,[-1,-1,-1])}}function Do(a){let e,n,t,s;function r(i){a[8](i)}function l(i){a[9](i)}let c={navigationData:a[4]};return a[0]!==void 0&&(c.selectedWindow=a[0]),a[1]!==void 0&&(c.navigateTab=a[1]),e=new wn({props:c}),E.push(()=>P(e,"selectedWindow",r)),E.push(()=>P(e,"navigateTab",l)),{c(){L(e.$$.fragment)},m(i,d){S(e,i,d),s=!0},p(i,d){const h={};!n&&d&1&&(n=!0,h.selectedWindow=i[0],T(()=>n=!1)),!t&&d&2&&(t=!0,h.navigateTab=i[1],T(()=>t=!1)),e.$set(h)},i(i){s||(k(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){M(e,i)}}}function Io(a){let e,n;return e=new ko({props:{debug:!0}}),{c(){L(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:A,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function jo(a){let e,n,t,s,r,l,c,i;function d(b){a[6](b)}function h(b){a[7](b)}let u={navigationData:a[4],navigationClickHandler:a[5]};a[0]!==void 0&&(u.selectedWindow=a[0]),a[2]!==void 0&&(u.show=a[2]),n=new bn({props:u}),E.push(()=>P(n,"selectedWindow",d)),E.push(()=>P(n,"show",h));const p=[Io,Do],m=[];function f(b,g){return b[3]===!0?0:b[2]===!0?1:-1}return~(l=f(a))&&(c=m[l]=p[l](a)),{c(){e=j("div"),L(n.$$.fragment),r=O(),c&&c.c(),o(e,"class","absolute inset-0 flex flex-col h-full w-full")},m(b,g){C(b,e,g),S(n,e,null),$(e,r),~l&&m[l].m(e,null),i=!0},p(b,[g]){const _={};!t&&g&1&&(t=!0,_.selectedWindow=b[0],T(()=>t=!1)),!s&&g&4&&(s=!0,_.show=b[2],T(()=>s=!1)),n.$set(_);let v=l;l=f(b),l===v?~l&&m[l].p(b,g):(c&&(le(),I(m[v],1,1,()=>{m[v]=null}),re()),~l?(c=m[l],c?c.p(b,g):(c=m[l]=p[l](b),c.c()),k(c,1),c.m(e,null)):c=null)},i(b){i||(k(n.$$.fragment,b),k(c),i=!0)},o(b){I(n.$$.fragment,b),I(c),i=!1},d(b){b&&y(e),M(n),~l&&m[l].d()}}}function yo(a,e,n){let t;ie(a,it,m=>n(3,t=m));const s={information:{display:"Information",component:as},states:{display:"States",component:As},restraints:{display:"Restraints",component:Xi},objects:{display:"Objects",component:hr},interactions:{display:"Interactions",component:Kl},minimap:{display:"Minimap",component:ui}};let r=Object.keys(s)[0],l;const c=m=>{l(m)};N.subscribe(m=>window.projectStore=m);let i=!0;function d(m){r=m,n(0,r)}function h(m){i=m,n(2,i)}function u(m){r=m,n(0,r)}function p(m){l=m,n(1,l)}return[r,l,i,t,s,c,d,h,u,p]}class Co extends ee{constructor(e){super(),Z(this,e,yo,jo,Q,{})}}new Co({target:document.getElementById("app")});
